function cancel_queue(e){e.stopUpload();var t;do t=e.getStats(),e.cancelUpload();while(0!==t.files_queued)}function file_queue_error(e,t){var i="";t==SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED?alert("超过允许上载的文件数量"):i=t==SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT?$.ui_core.format(this.customSettings.error,e.id,e.name,"文件超过尺寸限制"):$.ui_core.format(this.customSettings.error,e.id,e.name,"文件上传错误"),this.settings.button_action==SWFUpload.BUTTON_ACTION.SELECT_FILE?$(this.settings.button_placeholder_id.replace("button_","#")).html($(i)):$(this.settings.button_placeholder_id.replace("button_","#")).append($(i)),$("#"+e.id).delay(3e3).fadeOut("slow")}function file_dialog_complete(){this.startUpload()}function upload_start(e){var t=$.ui_core.format(this.customSettings.progress,e.id,e.name,e.id,e.id);this.settings.button_action==SWFUpload.BUTTON_ACTION.SELECT_FILE?$(this.settings.button_placeholder_id.replace("button_","#")).html($(t)):$(this.settings.button_placeholder_id.replace("button_","#")).append($(t))}function upload_progress(e,t,i){var n=Math.ceil(99*(t/i));$("#"+e.id+"_progressinner").css("width",n+"%"),$("#"+e.id+"_progressinner").html(n+"%")}function upload_error(e,t){if(t==SWFUpload.UPLOAD_ERROR.FILE_CANCELLED)$("#"+e.id).remove();else{var i=$.ui_core.format(this.customSettings.error,e.id,e.name,"文件上传错误");$("#"+e.id).replaceWith($(i))}}function upload_success(e,t){$("#"+e.id).replaceWith($(t))}function upload_complete(){this.startUpload()}function getListener(e,t,i){var n;return t=t.toLowerCase(),(n=e.__allListeners||i&&(e.__allListeners={}))&&(n[t]||i&&(n[t]=[]))}function getDomNode(e,t,i,n,o,s){var r,a=n&&e[t];for(!a&&(a=e[i]);!a&&(r=(r||e).parentNode);){if("BODY"==r.tagName||s&&!s(r))return null;a=r[i]}return a&&o&&!o(a)?getDomNode(a,t,i,!1,o):a}!function(e){e.fn.slides=function(t){return t=e.extend({},e.fn.slides.option,t),this.each(function(){function i(i,n,o){if(!r&&s){switch(r=!0,t.animationStart(S+1),i){case"next":w=S,_=S+1,_=f===_?0:_,l=2*m,i=2*-m,S=_;break;case"prev":w=S,_=S-1,_=-1===_?f-1:_,l=0,i=0,S=_;break;case"pagination":_=parseInt(o,10),w=e("."+t.paginationClass+" li."+t.currentClass+" a",h).attr("href").match("[^#/]+$"),_>w?(l=2*m,i=2*-m):(l=0,i=0),S=_}"fade"===n?t.crossfade?p.children(":eq("+_+")",h).css({zIndex:10}).fadeIn(t.fadeSpeed,t.fadeEasing,function(){t.autoHeight?p.animate({height:p.children(":eq("+_+")",h).outerHeight()},t.autoHeightSpeed,function(){p.children(":eq("+w+")",h).css({display:"none",zIndex:0}),p.children(":eq("+_+")",h).css({zIndex:0}),t.animationComplete(_+1),r=!1}):(p.children(":eq("+w+")",h).css({display:"none",zIndex:0}),p.children(":eq("+_+")",h).css({zIndex:0}),t.animationComplete(_+1),r=!1)}):p.children(":eq("+w+")",h).fadeOut(t.fadeSpeed,t.fadeEasing,function(){t.autoHeight?p.animate({height:p.children(":eq("+_+")",h).outerHeight()},t.autoHeightSpeed,function(){p.children(":eq("+_+")",h).fadeIn(t.fadeSpeed,t.fadeEasing)}):p.children(":eq("+_+")",h).fadeIn(t.fadeSpeed,t.fadeEasing,function(){e.browser.msie&&e(this).get(0).style.removeAttribute("filter")}),t.animationComplete(_+1),r=!1}):(p.children(":eq("+_+")").css({left:l,display:"block"}),t.autoHeight?p.animate({left:i,height:p.children(":eq("+_+")").outerHeight()},t.slideSpeed,t.slideEasing,function(){p.css({left:-m}),p.children(":eq("+_+")").css({left:m,zIndex:5}),p.children(":eq("+w+")").css({left:m,display:"none",zIndex:0}),t.animationComplete(_+1),r=!1}):p.animate({left:i},t.slideSpeed,t.slideEasing,function(){p.css({left:-m}),p.children(":eq("+_+")").css({left:m,zIndex:5}),p.children(":eq("+w+")").css({left:m,display:"none",zIndex:0}),t.animationComplete(_+1),r=!1})),t.pagination&&(e("."+t.paginationClass+" li."+t.currentClass,h).removeClass(t.currentClass),e("."+t.paginationClass+" li:eq("+_+")",h).addClass(t.currentClass))}}function n(){clearInterval(h.data("interval"))}function o(){t.pause?(clearTimeout(h.data("pause")),clearInterval(h.data("interval")),u=setTimeout(function(){clearTimeout(h.data("pause")),c=setInterval(function(){i("next",b)},t.play),h.data("interval",c)},t.pause),h.data("pause",u)):n()}e("."+t.container,e(this)).children().wrapAll('<div class="slides_control"/>');var s,r,a,l,d,u,c,h=e(this),p=e(".slides_control",h),f=p.children().size(),m=p.children().outerWidth(),g=p.children().outerHeight(),v=t.start-1,b=t.effect.indexOf(",")<0?t.effect:t.effect.replace(" ","").split(",")[0],y=t.effect.indexOf(",")<0?b:t.effect.replace(" ","").split(",")[1],_=0,w=0,C=0,S=0;if(2>f)return e("."+t.container,e(this)).fadeIn(t.fadeSpeed,t.fadeEasing,function(){s=!0,t.slidesLoaded()}),e("."+t.next+", ."+t.prev).fadeOut(0),!1;if(!(2>f)){if(0>v&&(v=0),v>f&&(v=f-1),t.start&&(S=v),t.randomize&&p.randomize(),e("."+t.container,h).css({overflow:"hidden",position:"relative"}),p.children().css({position:"absolute",top:0,left:p.children().outerWidth(),zIndex:0,display:"none"}),p.css({position:"relative",width:3*m,height:g,left:-m}),e("."+t.container,h).css({display:"block"}),t.autoHeight&&(p.children().css({height:"auto"}),p.animate({height:p.children(":eq("+v+")").outerHeight()},t.autoHeightSpeed)),t.preload&&p.find("img:eq("+v+")").length){e("."+t.container,h).css({background:"url("+t.preloadImage+") no-repeat 50% 50%"});var E=p.find("img:eq("+v+")").attr("src")+"?"+(new Date).getTime();d="slides_control"!=e("img",h).parent().attr("class")?p.children(":eq(0)")[0].tagName.toLowerCase():p.find("img:eq("+v+")"),p.find("img:eq("+v+")").attr("src",E).load(function(){p.find(d+":eq("+v+")").fadeIn(t.fadeSpeed,t.fadeEasing,function(){e(this).css({zIndex:5}),e("."+t.container,h).css({background:""}),s=!0,t.slidesLoaded()})})}else p.children(":eq("+v+")").fadeIn(t.fadeSpeed,t.fadeEasing,function(){s=!0,t.slidesLoaded()});t.bigTarget&&(p.children().css({cursor:"pointer"}),p.children().click(function(){return i("next",b),!1})),t.hoverPause&&t.play&&(p.bind("mouseover",function(){n()}),p.bind("mouseleave",function(){o()})),t.generateNextPrev&&(e("."+t.container,h).after('<a href="#" class="'+t.prev+'">Prev</a>'),e("."+t.prev,h).after('<a href="#" class="'+t.next+'">Next</a>')),e("."+t.next,h).click(function(e){e.preventDefault(),t.play&&o(),i("next",b)}),e("."+t.prev,h).click(function(e){e.preventDefault(),t.play&&o(),i("prev",b)}),t.generatePagination?(t.prependPagination?h.prepend('<div class="slidebarpagination"><ul class='+t.paginationClass+"></ul></div>"):h.append('<div class="slidebarpagination"><ul class='+t.paginationClass+"></ul></div>"),p.children().each(function(){e("."+t.paginationClass,h).append('<li><a href="#'+C+'">'+(C+1)+"</a></li>"),C++})):e("."+t.paginationClass+" li a",h).each(function(){e(this).attr("href","#"+C),C++}),e("."+t.paginationClass+" li:eq("+v+")",h).addClass(t.currentClass),e("."+t.paginationClass+" li a",h).click(function(){return t.play&&o(),a=e(this).attr("href").match("[^#/]+$"),S!=a&&i("pagination",y,a),!1}),e("a.link",h).click(function(){return t.play&&o(),a=e(this).attr("href").match("[^#/]+$")-1,S!=a&&i("pagination",y,a),!1}),t.play&&(c=setInterval(function(){i("next",b)},t.play),h.data("interval",c))}})},e.fn.slides.option={preload:!1,preloadImage:"/images/indicator.gif",container:"slides_container",generateNextPrev:!1,next:"next",prev:"prev",pagination:!0,generatePagination:!0,prependPagination:!1,paginationClass:"pagination",currentClass:"current",fadeSpeed:350,fadeEasing:"",slideSpeed:350,slideEasing:"",start:1,effect:"slide",crossfade:!1,randomize:!1,play:0,pause:0,hoverPause:!1,autoHeight:!1,autoHeightSpeed:350,bigTarget:!1,animationStart:function(){},animationComplete:function(){},slidesLoaded:function(){}},e.fn.randomize=function(t){function n(){return Math.round(Math.random())-.5}return e(this).each(function(){var o=e(this),s=o.children(),r=s.length;if(r>1){s.hide();var a=[];for(i=0;r>i;i++)a[a.length]=i;a=a.sort(n),e.each(a,function(e,i){var n=s.eq(i),r=n.clone(!0);r.show().appendTo(o),void 0!==t&&t(n,r),n.remove()})}})}}(jQuery),function(e){e.extend(e.fn,{cascade:function(t){return new e.cascade(this,t)}}),e.cascade=function(e,t){return this.elements=e,this.options=t||{},this.selectOption(this.options.defaults||[]),this.ready(),this},e.extend(e.cascade,{options:{},prototype:{selectOption:function(t,n){var o=(n||"0").split(".").length-1;this.elements[o].length=0,this.options.prompts&&this.options.prompts[o]&&this.elements[o].options.add(new Option(this.options.prompts[o],""));for(i in e.cascade.options[n||"0"]||[]){var s=e.cascade.options[n||"0"][i],r=new Option(s,s);t[o]&&s==t[o]&&(r.selected=!0),this.elements[o].options.add(r)}2==this.elements[o].options.length&&(this.elements[o].options[1].selected=!0),o<this.elements.length-1&&this.selectOption(t,(n||"0")+"."+(this.elements[o].selectedIndex-1))},ready:function(){for(var t=this,i=[],n=0;n<this.elements.length-1;n++)e("body").on("change",e(this.elements[n]),function(n){for(e("#"+n.target.id+"_error").html(""),j=0;j<t.elements.length;j++)i[j]=e(t.elements[j]).val();t.selectOption(i)})}}})}(jQuery),$.cascade.options={.32:["花地玛堂区","圣安多尼堂区","大堂区","望德堂区","风顺堂区","氹仔","路环","其他"],.21:["银川","石嘴山","吴忠","固原","中卫"],"0.10":["贵阳","六盘水","遵义","安顺","铜仁","黔西南","毕节","黔东南","黔南"],.4:["南京","无锡","徐州","常州","苏州","南通","连云港","淮安","宿迁","盐城","扬州","镇江","泰州"],.33:["新北市","台北市","高雄市","基隆市","台中市","台南市","新竹市","嘉义市","台北县","宜兰县","桃园县","新竹县","苗栗县","台中县","彰化县","南投县","云林县","嘉义县","台南县","高雄县","屏东县","澎湖县","台东县","花莲县","其他"],.22:["西宁","海东","海北","黄南","海南","果洛","玉树","海西"],.11:["海口","三亚","五指山","琼海","儋州","文昌","万宁","东方","定安","屯昌","澄迈","临高","白沙","昌江","乐东","陵水","保亭","琼中","西沙","南沙","中沙"],.5:["合肥","芜湖","蚌埠","淮南","淮北","马鞍山","铜陵","安庆","黄山","滁州","阜阳","宿州","巢湖","六安","亳州","池州","宣城"],.34:["美国","英国","法国","俄罗斯","加拿大","巴西","澳大利亚","印尼","泰国","马来西亚","新加坡","菲律宾","越南","印度","日本","新西兰","韩国","德国","意大利","爱尔兰","荷兰","瑞士","乌克兰","南非","芬兰","瑞典","奥地利","西班牙","比利时","挪威","丹麦","波兰","阿根廷","白俄罗斯","哥伦比亚","古巴","埃及","希腊","匈牙利","伊朗","蒙古","墨西哥","葡萄牙","沙特阿拉伯","土耳其","其他"],.23:["济南","青岛","淄博","枣庄","东营","烟台","潍坊","济宁","泰安","威海","日照","莱芜","临沂","德州","聊城","滨州","菏泽"],.12:["石家庄","唐山","秦皇岛","邯郸","邢台","保定","张家口","承德","沧州","廊坊","衡水"],.6:["万州区","涪陵区","渝中区","大渡口区","江北区","沙坪坝区","九龙坡区","南岸区","北碚区","万盛区","双桥区","渝北区","巴南区","黔江区","长寿区","綦江县","潼南县","铜梁县","大足县","荣昌县","璧山县","梁平县","城口县","丰都县","垫江县","武隆县","忠县","开县","云阳县","奉节县","巫山县","巫溪县","石柱土家族自治县","秀山土家族苗族自治县","酉阳土家族苗族自治县","彭水苗族土家族自治县","江津区","合川区","永川区","南川区"],.7:["福州","厦门","莆田","三明","泉州","漳州","南平","龙岩","宁德"],.24:["太原","大同","阳泉","长治","晋城","朔州","晋中","运城","忻州","临汾","吕梁"],.13:["郑州","开封","洛阳","平顶山","安阳","鹤壁","新乡","焦作","濮阳","许昌","漯河","三门峡","南阳","商丘","信阳","周口","驻马店","济源"],.8:["兰州","嘉峪关","金昌","白银","天水","武威","张掖","平凉","酒泉","庆阳","定西","陇南","临夏","甘南"],.25:["西安","铜川","宝鸡","咸阳","渭南","延安","汉中","榆林","安康","商洛"],.14:["哈尔滨","齐齐哈尔","鸡西","鹤岗","双鸭山","大庆","伊春","佳木斯","七台河","牡丹江","黑河","绥化","大兴安岭"],.9:["南宁","柳州","桂林","梧州","北海","防城港","钦州","贵港","玉林","百色","贺州","河池","来宾","崇左"],0:["北京","上海","广东","浙江","江苏","安徽","重庆","福建","甘肃","广西","贵州","海南","河北","河南","黑龙江","湖北","湖南","吉林","江西","辽宁","内蒙古","宁夏","青海","山东","山西","陕西","四川","天津","西藏","新疆","云南","香港","澳门","台湾","海外"],.26:["成都","自贡","攀枝花","泸州","德阳","绵阳","广元","遂宁","内江","乐山","南充","眉山","宜宾","广安","达州","雅安","巴中","资阳","阿坝","甘孜","凉山"],.15:["武汉","黄石","十堰","宜昌","襄阳","鄂州","荆门","孝感","荆州","黄冈","咸宁","随州","恩施土家族自治州","仙桃","潜江","天门","神农架"],.27:["和平区","河东区","河西区","南开区","河北区","红桥区","塘沽区","汉沽区","大港区","东丽区","西青区","津南区","北辰区","武清区","宝坻区","宁河县","静海县","蓟县","滨海新区","保税区"],.16:["长沙","株洲","湘潭","衡阳","邵阳","岳阳","常德","张家界","益阳","郴州","永州","怀化","娄底","湘西土家族苗族自治区"],"0.0":["东城区","西城区","朝阳区","丰台区","石景山区","海淀区","门头沟区","房山区","通州区","顺义区","昌平区","大兴区","怀柔区","平谷区","密云县","延庆县"],.28:["拉萨","昌都","山南","日喀则","那曲","阿里","林芝"],.17:["长春","吉林","四平","辽源","通化","白山","松原","白城","延边朝鲜族自治州"],.1:["黄浦区","卢湾区","徐汇区","长宁区","静安区","普陀区","闸北区","虹口区","杨浦区","闵行区","宝山区","嘉定区","浦东新区","金山区","松江区","青浦区","南汇区","奉贤区","崇明县"],"0.30":["昆明","曲靖","玉溪","保山","昭通","丽江","思茅","临沧","楚雄","红河","文山","西双版纳","大理","德宏","怒江","迪庆"],.29:["乌鲁木齐","克拉玛依","吐鲁番","哈密","昌吉","博尔塔拉","巴音郭楞","阿克苏","克孜勒苏","喀什","和田","伊犁","塔城","阿勒泰","石河子","阿拉尔","图木舒克","五家渠"],.18:["南昌","景德镇","萍乡","九江","新余","鹰潭","赣州","吉安","宜春","抚州","上饶"],.2:["广州","韶关","深圳","珠海","汕头","佛山","江门","湛江","茂名","肇庆","惠州","梅州","汕尾","河源","阳江","清远","东莞","中山","潮州","揭阳","云浮"],.31:["中西区","港仔区","东区","南区","九龙城区","油尖旺区","深水埗区","黄大仙区","观塘区","北区","大埔区","沙田区","西贡区","元朗区","屯门区","荃湾区","葵青区","离岛区"],"0.20":["呼和浩特","包头","乌海","赤峰","通辽","鄂尔多斯","呼伦贝尔","巴彦淖尔盟","乌兰察布盟","兴安盟","锡林郭勒盟","阿拉善盟"],.19:["沈阳","大连","鞍山","抚顺","本溪","丹东","锦州","营口","阜新","辽阳","盘锦","铁岭","朝阳","葫芦岛"],.3:["杭州","宁波","温州","嘉兴","湖州","绍兴","金华","衢州","舟山","台州","丽水"]},function(){function e(e,t){var i;e||(e={});for(i in t)e[i]=t[i];return e}function t(e,t){return parseInt(e,t||10)}function i(e){return"string"==typeof e}function n(e){return"object"==typeof e}function o(e){return"number"==typeof e}function s(e){return Y.log(e)/Y.LN10}function r(e,t){for(var i=e.length;i--;)if(e[i]===t){e.splice(i,1);break}}function a(e){return e!==I&&null!==e}function l(e,t,o){var s,r;if(i(t))a(o)?e.setAttribute(t,o):e&&e.getAttribute&&(r=e.getAttribute(t));else if(a(t)&&n(t))for(s in t)e.setAttribute(s,t[s]);return r}function d(e){return"[object Array]"===Object.prototype.toString.call(e)?e:[e]}function u(){var e,t,i=arguments,n=i.length;for(e=0;n>e;e++)if(t=i[e],"undefined"!=typeof t&&null!==t)return t}function c(t,i){ot&&i&&i.opacity!==I&&(i.filter="alpha(opacity="+100*i.opacity+")"),e(t.style,i)}function h(t,i,n,o,s){return t=z.createElement(t),i&&e(t,i),s&&c(t,{padding:0,border:wt,margin:0}),n&&c(t,n),o&&o.appendChild(t),t}function p(t,i){var n=function(){};return n.prototype=new t,e(n.prototype,i),n}function f(e,i,n,o){var s=T.lang;e=e;var r=isNaN(i=K(i))?2:i;i=void 0===n?s.decimalPoint:n,o=void 0===o?s.thousandsSep:o,s=0>e?"-":"",n=String(t(e=K(+e||0).toFixed(r)));var a=n.length>3?n.length%3:0;return s+(a?n.substr(0,a)+o:"")+n.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+o)+(r?i+K(e-n).toFixed(r).slice(2):"")}function m(e){var t={left:e.offsetLeft,top:e.offsetTop};for(e=e.offsetParent;e;)t.left+=e.offsetLeft,t.top+=e.offsetTop,e!==z.body&&e!==z.documentElement&&(t.left-=e.scrollLeft,t.top-=e.scrollTop),e=e.offsetParent;return t}function g(){this.symbol=this.color=0}function v(e,t,i,n,o,s,r){var a=r.x;r=r.y;var l,d=a-e+i-25,u=r-t+n+10;return 7>d&&(d=i+a+15),d+e>i+o&&(d-=d+e-(i+o),u-=t,l=!0),5>u?(u=5,l&&r>=u&&u+t>=r&&(u=r+t-5)):u+t>n+s&&(u=n+s-t-5),{x:d,y:u}}function b(e,t){var i,n=e.length;for(i=0;n>i;i++)e[i].ss_i=i;for(e.sort(function(e,i){var n=t(e,i);return 0===n?e.ss_i-i.ss_i:n}),i=0;n>i;i++)delete e[i].ss_i}function y(e){for(var t in e)e[t]&&e[t].destroy&&e[t].destroy(),delete e[t]}function _(e,t){N=u(e,t.animation)}function w(){var e=T.global.useUTC;D=e?Date.UTC:function(e,t,i,n,o,s){return new Date(e,t,u(i,1),u(n,0),u(o,0),u(s,0)).getTime()},L=e?"getUTCMinutes":"getMinutes",P=e?"getUTCHours":"getHours",R=e?"getUTCDay":"getDay",F=e?"getUTCDate":"getDate",O=e?"getUTCMonth":"getMonth",M=e?"getUTCFullYear":"getFullYear",B=e?"setUTCMinutes":"setMinutes",W=e?"setUTCHours":"setHours",H=e?"setUTCDate":"setDate",j=e?"setUTCMonth":"setMonth",$=e?"setUTCFullYear":"setFullYear"}function C(e){A||(A=h(ft)),e&&A.appendChild(e),A.innerHTML=""}function S(){}function E(o,p){function w(i){function n(e,t){this.pos=e,this.minor=t,this.isNew=!0,t||this.addLabel()}function o(e){return e&&(this.options=e,this.id=e.id),this}function l(e,t,i,n){this.isNegative=t,this.options=e,this.x=i,this.stack=n,this.alignOptions={align:e.align||(Di?t?"left":"right":"center"),verticalAlign:e.verticalAlign||(Di?"middle":t?"bottom":"top"),y:u(e.y,Di?4:t?14:-6),x:u(e.x,Di?t?-6:6:0)},this.textAlign=e.textAlign||(Di?t?"right":"left":"center")}function d(){var e,t=[],i=[];z=q=null,Z=[],Nt(on,function(n){if(e=!1,Nt(["xAxis","yAxis"],function(t){n.isCartesian&&("xAxis"===t&&at||"yAxis"===t&&!at)&&(n.options[t]===ht.index||n.options[t]===I&&0===ht.index)&&(n[t]=ft,Z.push(n),e=!0)}),!n.visible&&kt.ignoreHiddenSeries&&(e=!1),e){var o,s,r,d,c,h;at||(o=n.options.stacking,rt="percent"===o,o&&(c=n.options.stack,d=n.type+u(c,""),h="-"+d,n.stackKey=d,s=t[d]||[],t[d]=s,r=i[h]||[],i[h]=r),rt&&(z=0,q=99)),n.isCartesian&&(Nt(n.data,function(e){var t=e.x,i=e.y,n=0>i,p=n?r:s,f=n?h:d;null===z&&(z=q=e[Et]),at?t>q?q=t:z>t&&(z=t):a(i)&&(o&&(p[t]=a(p[t])?p[t]+i:i),i=p?p[t]:i,e=u(e.low,i),rt||(i>q?q=i:z>e&&(z=e)),o&&(ct[f]||(ct[f]={}),ct[f][t]||(ct[f][t]=new l(ht.stackLabels,n,t,c)),ct[f][t].setTotal(i)))}),/(area|column|bar)/.test(n.type)&&!at&&(z>=0?(z=0,ot=!0):0>q&&(q=0,st=!0)))}})}function c(e,t){var i,n;for(Wt=t?1:Y.pow(10,Q(Y.log(e)/Y.LN10)),i=e/Wt,t||(t=[1,2,2.5,5,10],(ht.allowDecimals===!1||bt)&&(1===Wt?t=[1,2,5,10]:.1>=Wt&&(t=[1/Wt]))),n=0;n<t.length&&(e=t[n],!(i<=(t[n]+(t[n+1]||t[n]))/2));n++);return e*=Wt}function h(e){var t;return t=e,Wt=u(Wt,Y.pow(10,Q(Y.log(Mt)/Y.LN10))),1>Wt&&(t=10*V(1/Wt),t=V(e*t)/t),t}function p(){var e,t,i,n,o=ht.tickInterval,r=ht.tickPixelInterval;if(e=ht.maxZoom||(!at||a(ht.min)||a(ht.max)?null:J(5*Ki.smallestInterval,q-z)),w=dt?Si:Ci,Ft?(i=Ki[at?"xAxis":"yAxis"][ht.linkedTo],n=i.getExtremes(),Tt=u(n.min,n.dataMin),At=u(n.max,n.dataMax)):(Tt=u(et,ht.min,z),At=u(tt,ht.max,q)),bt&&(Tt=s(Tt),At=s(At)),e>At-Tt&&(n=(e-At+Tt)/2,Tt=X(Tt-n,u(ht.min,Tt-n),z),At=J(Tt+e,u(ht.max,Tt+e),q)),ci||rt||Ft||!a(Tt)||!a(At)||(e=At-Tt||1,a(ht.min)||a(et)||!Ut||!(0>z)&&ot||(Tt-=e*Ut),a(ht.max)||a(tt)||!It||!(q>0)&&st||(At+=e*It)),Mt=Tt===At?1:Ft&&!o&&r===i.options.tickPixelInterval?i.tickInterval:u(o,ci?1:(At-Tt)*r/w),gt||a(ht.tickInterval)||(Mt=c(Mt)),ft.tickInterval=Mt,Bt="auto"===ht.minorTickInterval&&Mt?Mt/5:ht.minorTickInterval,gt){Ht=[],o=T.global.useUTC;var l=1e3/pt,d=6e4/pt,p=36e5/pt;r=864e5/pt,e=6048e5/pt,n=2592e6/pt;var f=31556952e3/pt,m=[["second",l,[1,2,5,10,15,30]],["minute",d,[1,2,5,10,15,30]],["hour",p,[1,2,3,4,6,8,12]],["day",r,[1,2]],["week",e,[1,2]],["month",n,[1,2,3,4,6]],["year",f,null]],g=m[6],v=g[1],b=g[2];for(i=0;i<m.length&&(g=m[i],v=g[1],b=g[2],!(m[i+1]&&Mt<=(v*b[b.length-1]+m[i+1][1])/2));i++);for(v===f&&5*v>Mt&&(b=[1,2,5]),m=c(Mt/v,b),b=new Date(Tt*pt),b.setMilliseconds(0),v>=l&&b.setSeconds(v>=d?0:m*Q(b.getSeconds()/m)),v>=d&&b[B](v>=p?0:m*Q(b[L]()/m)),v>=p&&b[W](v>=r?0:m*Q(b[P]()/m)),v>=r&&b[H](v>=n?1:m*Q(b[F]()/m)),v>=n&&(b[j](v>=f?0:m*Q(b[O]()/m)),t=b[M]()),v>=f&&(t-=t%m,b[$](t)),v===e&&b[H](b[F]()-b[R]()+ht.startOfWeek),i=1,t=b[M](),l=b.getTime()/pt,d=b[O](),p=b[F]();At>l&&Si>i;)Ht.push(l),v===f?l=D(t+i*m,0)/pt:v===n?l=D(t,d+i*m)/pt:o||v!==r&&v!==e?l+=v*m:l=D(t,d,p+i*m*(v===r?1:7)),i++;Ht.push(l),ii=ht.dateTimeLabelFormats[g[0]]}else for(i=h(Q(Tt/Mt)*Mt),t=h(G(At/Mt)*Mt),Ht=[],i=h(i);t>=i;)Ht.push(i),i=h(i+Mt);Ft||((ci||at&&Ki.hasColumn)&&(t=.5*(ci?1:Mt),(ci||!a(u(ht.min,et)))&&(Tt-=t),(ci||!a(u(ht.max,tt)))&&(At+=t)),t=Ht[0],i=Ht[Ht.length-1],ht.startOnTick?Tt=t:Tt>t&&Ht.shift(),ht.endOnTick?At=i:i>At&&Ht.pop(),Ii||(Ii={x:0,y:0}),!gt&&Ht.length>Ii[Et]&&(Ii[Et]=Ht.length))}function m(){var e,t;if(it=Tt,nt=At,d(),p(),S=C,C=w/(At-Tt||1),!at)for(e in ct)for(t in ct[e])ct[e][t].cum=ct[e][t].total;ft.isDirty||(ft.isDirty=Tt!==it||At!==nt)}function g(e){return e=new o(e).render(),ni.push(e),e}function v(){var e,i,s=ht.title,r=ht.stackLabels,l=ht.alternateGridColor,d=ht.lineWidth,u=(e=Ki.hasRendered)&&a(it)&&!isNaN(it);if(i=Z.length&&a(Tt)&&a(At),w=dt?Si:Ci,C=w/(At-Tt||1),xt=dt?Zt:Kt,i||Ft){if(Bt&&!ci)for(i=Tt+(Ht[0]-Tt)%Bt;At>=i;i+=Bt)si[i]||(si[i]=new n(i,!0)),u&&si[i].isNew&&si[i].render(null,!0),si[i].isActive=!0,si[i].render();Nt(Ht,function(e,t){(!Ft||e>=Tt&&At>=e)&&(u&&oi[e].isNew&&oi[e].render(t,!0),oi[e].isActive=!0,oi[e].render(t))}),l&&Nt(Ht,function(e,t){0===t%2&&At>e&&(ri[e]||(ri[e]=new o),ri[e].options={from:e,to:Ht[t+1]!==I?Ht[t+1]:At,color:l},ri[e].render(),ri[e].isActive=!0)}),e||Nt((ht.plotLines||[]).concat(ht.plotBands||[]),function(e){ni.push(new o(e).render())})}if(Nt([oi,si,ri],function(e){for(var t in e)e[t].isActive?e[t].isActive=!1:(e[t].destroy(),delete e[t])}),d&&(e=Zt+(lt?Si:0)+wt,i=li-Kt-(lt?Ci:0)+wt,e=Li.crispLine([Ct,dt?Zt:e,dt?i:Gt,St,dt?ai-Jt:e,dt?i:li-Kt],d),U?U.animate({d:e}):U=Li.path(e).attr({stroke:ht.lineColor,"stroke-width":d,zIndex:7}).add()),_&&(e=dt?Zt:Gt,d=t(s.style.fontSize||12),e={low:e+(dt?0:w),middle:e+w/2,high:e+(dt?w:0)}[s.align],d=(dt?Gt+Ci:Zt)+(dt?1:-1)*(lt?-1:1)*ti+(2===ut?d:0),_[_.isNew?"attr":"animate"]({x:dt?e:d+(lt?Si:0)+wt+(s.x||0),y:dt?d-(lt?Ci:0)+wt:e+(s.y||0)}),_.isNew=!1),r&&r.enabled){var c,h;r=ft.stackTotalGroup,r||(ft.stackTotalGroup=r=Li.g("stack-labels").attr({visibility:yt,zIndex:6}).translate(Zt,Gt).add());for(c in ct){s=ct[c];for(h in s)s[h].render(r)}}ft.isDirty=!1}function b(e){for(var t=ni.length;t--;)ni[t].id===e&&ni[t].destroy()}var _,w,C,S,E,x,A,N,U,z,q,Z,et,tt,it,nt,ot,st,rt,at=i.isX,lt=i.opposite,dt=Di?!at:at,ut=dt?lt?0:2:lt?1:3,ct={},ht=Dt(at?jt:$t,[Vt,qt,Yt,zt][ut],i),ft=this,mt=ht.type,gt="datetime"===mt,bt="logarithmic"===mt,wt=ht.offset||0,Et=at?"x":"y",xt=dt?Zt:Kt,At=null,Tt=null,Ut=ht.minPadding,It=ht.maxPadding,Ft=a(ht.linkedTo);mt=ht.events;var Ot,Mt,Bt,Wt,Ht,Qt,Xt,ti,ii,ni=[],oi={},si={},ri={},ci=ht.categories,hi=ht.labels.formatter||function(){var e=this.value;return ii?k(ii,e):0===Mt%1e6?e/1e6+"M":0===Mt%1e3?e/1e3+"k":!ci&&e>=1e3?f(e,0):e},pi=dt&&ht.labels.staggerLines,fi=ht.reversed,mi=ci&&"between"===ht.tickmarkPlacement?.5:0;n.prototype={addLabel:function(){var t=this.pos,i=ht.labels,n=!(t===Tt&&!u(ht.showFirstLabel,1)||t===At&&!u(ht.showLastLabel,0)),o=ci&&dt&&ci.length&&!i.step&&!i.staggerLines&&!i.rotation&&Si/ci.length||!dt&&Si/2,s=ci&&a(ci[t])?ci[t]:t,r=this.label;t=hi.call({isFirst:t===Ht[0],isLast:t===Ht[Ht.length-1],dateTimeLabelFormat:ii,value:bt?Y.pow(10,s):s}),o=o&&{width:X(1,V(o-2*(i.padding||10)))+_t},o=e(o,i.style),r===I?this.label=a(t)&&n&&i.enabled?Li.text(t,0,0,i.useHTML).attr({align:i.align,rotation:i.rotation}).css(o).add(A):null:r&&r.attr({text:t}).css(o)},getLabelSize:function(){var e=this.label;return e?(this.labelBBox=e.getBBox())[dt?"height":"width"]:0},render:function(e,i){var n,o=!this.minor,s=this.label,r=this.pos,l=ht.labels,d=this.gridLine,u=o?ht.gridLineWidth:ht.minorGridLineWidth,c=o?ht.gridLineColor:ht.minorGridLineColor,h=o?ht.gridLineDashStyle:ht.minorGridLineDashStyle,p=this.mark,f=o?ht.tickLength:ht.minorTickLength,m=o?ht.tickWidth:ht.minorTickWidth||0,g=o?ht.tickColor:ht.minorTickColor,v=o?ht.tickPosition:ht.minorTickPosition,b=l.step,y=i&&ui||li;n=dt?E(r+mi,null,null,i)+xt:Zt+wt+(lt?(i&&di||ai)-Jt-Zt:0),y=dt?y-Kt+wt-(lt?Ci:0):y-E(r+mi,null,null,i)-xt,u&&(r=x(r+mi,u,i),d===I&&(d={stroke:c,"stroke-width":u},h&&(d.dashstyle=h),o&&(d.zIndex=1),this.gridLine=d=u?Li.path(r).attr(d).add(N):null),!i&&d&&r&&d.animate({d:r})),m&&("inside"===v&&(f=-f),lt&&(f=-f),o=Li.crispLine([Ct,n,y,St,n+(dt?0:-f),y+(dt?f:0)],m),p?p.animate({d:o}):this.mark=Li.path(o).attr({stroke:g,"stroke-width":m}).add(A)),s&&!isNaN(n)&&(n=n+l.x-(mi&&dt?mi*C*(fi?-1:1):0),y=y+l.y-(mi&&!dt?mi*C*(fi?1:-1):0),a(l.y)||(y+=.9*t(s.styles.lineHeight)-s.getBBox().height/2),pi&&(y+=16*(e/(b||1)%pi)),b&&s[e%b?"hide":"show"](),s[this.isNew?"attr":"animate"]({x:n,y:y})),this.isNew=!1},destroy:function(){y(this)}},o.prototype={render:function(){var e,t,i,n=this,o=n.options,r=o.label,l=n.label,d=o.width,c=o.to,h=o.from,p=o.value,f=o.dashStyle,m=n.svgElem,g=[],v=o.color;i=o.zIndex;var b=o.events;if(bt&&(h=s(h),c=s(c),p=s(p)),d)g=x(p,d),o={stroke:v,"stroke-width":d},f&&(o.dashstyle=f);else{if(!a(h)||!a(c))return;h=X(h,Tt),c=J(c,At),e=x(c),(g=x(h))&&e?g.push(e[4],e[5],e[1],e[2]):g=null,o={fill:v}}if(a(i)&&(o.zIndex=i),m)g?m.animate({d:g},null,m.onGetPath):(m.hide(),m.onGetPath=function(){m.show()});else if(g&&g.length&&(n.svgElem=m=Li.path(g).attr(o).add(),b)){f=function(e){m.on(e,function(t){b[e].apply(n,[t])})};for(t in b)f(t)}return r&&a(r.text)&&g&&g.length&&Si>0&&Ci>0?(r=Dt({align:dt&&e&&"center",x:dt?!e&&4:10,verticalAlign:!dt&&e&&"middle",y:dt?e?16:10:e?6:-4,rotation:dt&&!e&&90},r),l||(n.label=l=Li.text(r.text,0,0).attr({align:r.textAlign||r.align,rotation:r.rotation,zIndex:i}).css(r.style).add()),e=[g[1],g[4],u(g[6],g[1])],g=[g[2],g[5],u(g[7],g[2])],t=J.apply(Y,e),i=J.apply(Y,g),l.align(r,!1,{x:t,y:i,width:X.apply(Y,e)-t,height:X.apply(Y,g)-i}),l.show()):l&&l.hide(),n},destroy:function(){y(this),r(ni,this)}},l.prototype={destroy:function(){y(this)},setTotal:function(e){this.cum=this.total=e},render:function(e){var t=this.options.formatter.call(this);this.label?this.label.attr({text:t,visibility:vt}):this.label=Ki.renderer.text(t,0,0).css(this.options.style).attr({align:this.textAlign,rotation:this.options.rotation,visibility:vt}).add(e)},setOffset:function(e,t){var i=this.isNegative,n=ft.translate(this.total),o=ft.translate(0);o=K(n-o);var s=Ki.xAxis[0].translate(this.x)+e,r=Ki.plotHeight;i={x:Di?i?n:n-o:s,y:Di?r-s-t:i?r-n-o:r-n,width:Di?o:t,height:Di?t:o},this.label&&this.label.align(this.alignOptions,null,i).attr({visibility:yt})}},E=function(e,t,i,n,o){var r=1,a=0,l=n?S:C;return n=n?it:Tt,l||(l=C),i&&(r*=-1,a=w),fi&&(r*=-1,a-=r*w),t?(fi&&(e=w-e),e=e/l+n,bt&&o&&(e=Y.pow(10,e))):(bt&&o&&(e=s(e)),e=r*(e-n)*l+a),e},x=function(e,t,i){var n,o,s;e=E(e,null,null,i);var r,a=i&&ui||li,l=i&&di||ai;return i=o=V(e+xt),n=s=V(a-e-xt),isNaN(e)?r=!0:dt?(n=Gt,s=a-Kt,(Zt>i||i>Zt+Si)&&(r=!0)):(i=Zt,o=l-Jt,(Gt>n||n>Gt+Ci)&&(r=!0)),r?null:Li.crispLine([Ct,i,n,St,o,s],t||0)},Di&&at&&fi===I&&(fi=!0),e(ft,{addPlotBand:g,addPlotLine:g,adjustTickAmount:function(){if(Ii&&!gt&&!ci&&!Ft){var e=Qt,t=Ht.length;if(Qt=Ii[Et],Qt>t){for(;Ht.length<Qt;)Ht.push(h(Ht[Ht.length-1]+Mt));C*=(t-1)/(Qt-1),At=Ht[Ht.length-1]}a(e)&&Qt!==e&&(ft.isDirty=!0)}},categories:ci,getExtremes:function(){return{min:Tt,max:At,dataMin:z,dataMax:q,userMin:et,userMax:tt}},getPlotLinePath:x,getThreshold:function(e){return Tt>e?e=Tt:e>At&&(e=At),E(e,0,1)},isXAxis:at,options:ht,plotLinesAndBands:ni,getOffset:function(){var e,t=Z.length&&a(Tt)&&a(At),i=0,o=0,s=ht.title,r=ht.labels,l=[-1,1,1,-1][ut];if(A||(A=Li.g("axis").attr({zIndex:7}).add(),N=Li.g("grid").attr({zIndex:1}).add()),Xt=0,t||Ft)Nt(Ht,function(e){oi[e]?oi[e].addLabel():oi[e]=new n(e),(0===ut||2===ut||{1:"left",3:"right"}[ut]===r.align)&&(Xt=X(oi[e].getLabelSize(),Xt))}),pi&&(Xt+=16*(pi-1));else for(e in oi)oi[e].destroy(),delete oi[e];s&&s.text&&(_||(_=ft.axisTitle=Li.text(s.text,0,0,s.useHTML).attr({zIndex:7,rotation:s.rotation||0,align:s.textAlign||{low:"left",middle:"center",high:"right"}[s.align]}).css(s.style).add(),_.isNew=!0),i=_.getBBox()[dt?"height":"width"],o=u(s.margin,dt?5:10)),wt=l*(ht.offset||ei[ut]),ti=Xt+(2!==ut&&Xt&&l*ht.labels[dt?"y":"x"])+o,ei[ut]=X(ei[ut],ti+i+l*wt)},render:v,setCategories:function(e,t){ft.categories=i.categories=ci=e,Nt(Z,function(e){e.translate(),e.setTooltipPoints(!0)}),ft.isDirty=!0,u(t,!0)&&Ki.redraw()},setExtremes:function(e,t,i,n){i=u(i,!0),Rt(ft,"setExtremes",{min:e,max:t},function(){et=e,tt=t,i&&Ki.redraw(n)})},setScale:m,setTickPositions:p,translate:E,redraw:function(){Ei.resetTracker&&Ei.resetTracker(),v(),Nt(ni,function(e){e.render()}),Nt(Z,function(e){e.isDirty=!0})},removePlotBand:b,removePlotLine:b,reversed:fi,stacks:ct,destroy:function(){var e;Pt(ft);for(e in ct)y(ct[e]),ct[e]=null;ft.stackTotalGroup&&(ft.stackTotalGroup=ft.stackTotalGroup.destroy()),Nt([oi,si,ri,ni],function(e){y(e)}),Nt([U,A,N,_],function(e){e&&e.destroy()}),U=A=N=_=null}});for(Ot in mt)Lt(ft,Ot,mt[Ot]);m()}function S(){var e={};return{add:function(t,i,n,s){e[t]||(i=Li.text(i,0,0).css(o.toolbar.itemStyle).align({align:"right",x:-Jt-20,y:Gt+30}).on("click",s).attr({align:"right",zIndex:20}).add(),e[t]=i)},remove:function(t){C(e[t].element),e[t]=null}}}function E(e){function n(){var e=this.points||d(this),t=e[0].series.xAxis,n=this.x;t=t&&"datetime"===t.options.type;var o,s=i(n)||t;return o=s?['<span style="font-size: 10px">'+(t?k("%A, %b %e, %Y",n):n)+"</span>"]:[],Nt(e,function(e){o.push(e.point.tooltipFormatter(s))}),o.join("<br/>")}function o(e,t){y=b?e:(2*y+e)/3,_=b?t:(_+t)/2,w.translate(y,_),Pi=K(e-y)>1||K(t-_)>1?function(){o(e,t)}:null}function s(){if(!b){var e=Ki.hoverPoints;w.hide(),Nt(h,function(e){e&&e.hide()}),e&&Nt(e,function(e){e.setState()}),Ki.hoverPoints=null,b=!0}}var r,a,l,u=e.borderWidth,c=e.crosshairs,h=[],p=e.style,f=e.shared,m=t(p.padding),g=u+m,b=!0,y=0,_=0;p.padding=0;var w=Li.g("tooltip").attr({zIndex:8}).add(),C=Li.rect(g,g,0,0,e.borderRadius,u).attr({fill:e.backgroundColor,"stroke-width":u}).add(w).shadow(e.shadow),S=Li.text("",m+g,t(p.fontSize)+m+g,e.useHTML).attr({zIndex:1}).css(p).add(w);return w.hide(),{shared:f,refresh:function(t){var i,u,p,y=0,_={},E=[];if(p=t.tooltipPos,i=e.formatter||n,_=Ki.hoverPoints,f?(_&&Nt(_,function(e){e.setState()}),Ki.hoverPoints=t,Nt(t,function(e){e.setState(At),y+=e.plotY,E.push(e.getLabelConfig())}),u=t[0].plotX,y=V(y)/t.length,_={x:t[0].category},_.points=E,t=t[0]):_=t.getLabelConfig(),_=i.call(_),r=t.series,u=f?u:t.plotX,y=f?y:t.plotY,i=V(p?p[0]:Di?Si-y:u),u=V(p?p[1]:Di?Ci-u:y),p=f||!t.series.isCartesian||gi(i,u),_!==!1&&p?(b&&(w.show(),b=!1),S.attr({text:_}),p=S.getBBox(),a=p.width+2*m,l=p.height+2*m,C.attr({width:a,height:l,stroke:e.borderColor||t.color||r.color||"#606060"}),i=v(a,l,Zt,Gt,Si,Ci,{x:i,y:u}),o(V(i.x-g),V(i.y-g))):s(),c)for(c=d(c),i=c.length;i--;)u=t.series[i?"yAxis":"xAxis"],c[i]&&u&&(u=u.getPlotLinePath(t[i?"y":"x"],1),h[i]?h[i].attr({d:u,visibility:yt}):(p={"stroke-width":c[i].width||1,stroke:c[i].color||"#C0C0C0",zIndex:2},c[i].dashStyle&&(p.dashstyle=c[i].dashStyle),h[i]=Li.path(u).attr(p).add()))},hide:s,destroy:function(){Nt(h,function(e){e&&e.destroy()}),Nt([C,S,w],function(e){e&&e.destroy()}),C=S=w=null}}}function A(t){function i(t){var i,n,o,s,r=rt&&z.width/z.body.scrollWidth-1;return t=t||q.event,t.target||(t.target=t.srcElement),i=t.touches?t.touches.item(0):t,("mousemove"!==t.type||q.opera||r)&&(Ui=m(ni),n=Ui.left,o=Ui.top),ot?(s=t.x,i=t.y):i.layerX===I?(s=i.pageX-n,i=i.pageY-o):(s=t.layerX,i=t.layerY),r&&(s+=V((r+1)*n-n),i+=V((r+1)*o-o)),e(t,{chartX:s,chartY:i})}function n(e){var t={xAxis:[],yAxis:[]};return Nt(nn,function(i){var n=i.translate,o=i.isXAxis;t[o?"xAxis":"yAxis"].push({axis:i,value:n((Di?!o:o)?e.chartX-Zt:Ci-e.chartY+Gt,!0)})}),t}function o(){var e=Ki.hoverSeries,t=Ki.hoverPoint;t&&t.onMouseOut(),e&&e.onMouseOut(),vi&&vi.hide(),Fi=null}function s(){if(h){var e={xAxis:[],yAxis:[]},t=h.getBBox(),i=t.x-Zt,n=t.y-Gt;c&&(Nt(nn,function(o){var s=o.translate,r=o.isXAxis,a=Di?!r:r,l=s(a?i:Ci-n-t.height,!0,0,0,1);s=s(a?i+t.width:Ci-n,!0,0,0,1),e[r?"xAxis":"yAxis"].push({axis:o,min:J(l,s),max:X(l,s)})}),Rt(Ki,"selection",e,ji)),h=h.destroy()}Ki.mouseIsDown=bi=c=!1,Pt(z,ut?"touchend":"mouseup",s)}function r(e){var t=a(e.pageX)?e.pageX:e.page.x;e=a(e.pageX)?e.pageY:e.page.y,Ui&&!gi(t-Ui.left-Zt,e-Ui.top-Gt)&&o()}var d,u,c,h,p=kt.zoomType,f=/x/.test(p),g=/y/.test(p),v=f&&!Di||g&&Di,b=g&&!Di||f&&Di;Ai=function(){xi?(xi.translate(Zt,Gt),Di&&xi.attr({width:Ki.plotWidth,height:Ki.plotHeight}).invert()):Ki.trackerGroup=xi=Li.g("tracker").attr({zIndex:9}).add()},Ai(),t.enabled&&(Ki.tooltip=vi=E(t)),function(){ni.onmousedown=function(e){e=i(e),!ut&&e.preventDefault&&e.preventDefault(),Ki.mouseIsDown=bi=!0,d=e.chartX,u=e.chartY,Lt(z,ut?"touchend":"mouseup",s)};var a=function(e){if(!(e&&e.touches&&e.touches.length>1)){e=i(e),ut||(e.returnValue=!1);var n=e.chartX,o=e.chartY,s=!gi(n-Zt,o-Gt);if(Ui||(Ui=m(ni)),ut&&"touchstart"===e.type&&(l(e.target,"isTracker")?Ki.runTrackerClick||e.preventDefault():!Zi&&!s&&e.preventDefault()),s&&(Zt>n?n=Zt:n>Zt+Si&&(n=Zt+Si),Gt>o?o=Gt:o>Gt+Ci&&(o=Gt+Ci)),bi&&"touchstart"!==e.type)c=Math.sqrt(Math.pow(d-n,2)+Math.pow(u-o,2)),c>10&&(en&&(f||g)&&gi(d-Zt,u-Gt)&&(h||(h=Li.rect(Zt,Gt,v?1:Si,b?1:Ci,0).attr({fill:kt.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),h&&v&&(n-=d,h.attr({width:K(n),x:(n>0?0:n)+d})),h&&b&&(o-=u,h.attr({height:K(o),y:(o>0?0:o)+u})));else if(!s){var r;o=Ki.hoverPoint,n=Ki.hoverSeries;var a,p,y=ai,_=Di?e.chartY:e.chartX-Zt;if(vi&&t.shared){for(r=[],a=on.length,p=0;a>p;p++)on[p].visible&&on[p].tooltipPoints.length&&(e=on[p].tooltipPoints[_],e._dist=K(_-e.plotX),y=J(y,e._dist),r.push(e));for(a=r.length;a--;)r[a]._dist>y&&r.splice(a,1);r.length&&r[0].plotX!==Fi&&(vi.refresh(r),Fi=r[0].plotX)}n&&n.tracker&&(e=n.tooltipPoints[_])&&e!==o&&e.onMouseOver()}return s||!en}};ni.onmousemove=a,Lt(ni,"mouseleave",o),Lt(z,"mousemove",r),ni.ontouchstart=function(e){(f||g)&&ni.onmousedown(e),a(e)},ni.ontouchmove=a,ni.ontouchend=function(){c&&o()},ni.onclick=function(t){var o=Ki.hoverPoint;if(t=i(t),t.cancelBubble=!0,!c)if(o&&l(t.target,"isTracker")){var s=o.plotX,r=o.plotY;e(o,{pageX:Ui.left+Zt+(Di?Si-r:s),pageY:Ui.top+Gt+(Di?Ci-s:r)}),Rt(o.series,"click",e(t,{point:o})),o.firePointEvent("click",t)}else e(t,n(t)),gi(t.chartX-Zt,t.chartY-Gt)&&Rt(Ki,"click",t);c=!1}}(),Ri=setInterval(function(){Pi&&Pi()},32),e(this,{zoomX:f,zoomY:g,resetTracker:o,destroy:function(){Ki.trackerGroup&&(Ki.trackerGroup=xi=Ki.trackerGroup.destroy()),Pt(z,"mousemove",r),ni.onclick=ni.onmousedown=ni.onmousemove=ni.ontouchstart=ni.ontouchend=ni.ontouchmove=null
}})}function U(e){var t=e.type||kt.type||kt.defaultSeriesType,i=Mt[t],n=Ki.hasRendered;return n&&(Di&&"column"===t?i=Mt.bar:Di||"bar"!==t||(i=Mt.column)),t=new i,t.init(Ki,e),!n&&t.inverted&&(Di=!0),t.isCartesian&&(en=t.isCartesian),on.push(t),t}function Z(){kt.alignTicks!==!1&&Nt(nn,function(e){e.adjustTickAmount()}),Ii=null}function et(e){var t,i=Ki.isDirtyLegend,n=Ki.isDirtyBox,o=on.length,s=o,r=Ki.clipRect;for(_(e,Ki);s--;)if(e=on[s],e.isDirty&&e.options.stacking){t=!0;break}if(t)for(s=o;s--;)e=on[s],e.options.stacking&&(e.isDirty=!0);Nt(on,function(e){e.isDirty&&(e.cleanData(),e.getSegments(),"point"===e.options.legendType&&(i=!0))}),i&&Ti.renderLegend&&(Ti.renderLegend(),Ki.isDirtyLegend=!1),en&&(tn||(Ii=null,Nt(nn,function(e){e.setScale()})),Z(),Mi(),Nt(nn,function(e){(e.isDirty||n)&&(e.redraw(),n=!0)})),n&&(Oi(),Ai(),r&&(Ot(r),r.animate({width:Ki.plotSizeX,height:Ki.plotSizeY}))),Nt(on,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),Ei&&Ei.resetTracker&&Ei.resetTracker(),Rt(Ki,"redraw")}function tt(){var e,t=o.xAxis||{},i=o.yAxis||{};t=d(t),Nt(t,function(e,t){e.index=t,e.isX=!0}),i=d(i),Nt(i,function(e,t){e.index=t}),nn=t.concat(i),Ki.xAxis=[],Ki.yAxis=[],nn=It(nn,function(t){return e=new w(t),Ki[e.isXAxis?"xAxis":"yAxis"].push(e),e}),Z()}function it(e,t){Ht=Dt(o.title,e),Qt=Dt(o.subtitle,t),Nt([["title",e,Ht],["subtitle",t,Qt]],function(e){var t=e[0],i=Ki[t],n=e[1];e=e[2],i&&n&&(i=i.destroy()),e&&e.text&&!i&&(Ki[t]=Li.text(e.text,0,0,e.useHTML).attr({align:e.align,"class":"highcharts-"+t,zIndex:1}).css(e.style).add().align(e,!1,Wt))})}function nt(){ti=kt.renderTo,oi=bt+ht++,i(ti)&&(ti=z.getElementById(ti)),ti.innerHTML="",ti.offsetWidth||(ii=ti.cloneNode(0),c(ii,{position:mt,top:"-9999px",display:""}),z.body.appendChild(ii)),si=(ii||ti).offsetWidth,ri=(ii||ti).offsetHeight,Ki.chartWidth=ai=kt.width||si||600,Ki.chartHeight=li=kt.height||(ri>19?ri:400),Ki.container=ni=h(ft,{className:"highcharts-container"+(kt.className?" "+kt.className:""),id:oi},e({position:gt,overflow:vt,width:ai+_t,height:li+_t,textAlign:"left"},kt.style),ii||ti),Ki.renderer=Li=kt.forExport?new Xt(ni,ai,li,!0):new x(ni,ai,li);var n,o;at&&ni.getBoundingClientRect&&(n=function(){c(ni,{left:0,top:0}),o=ni.getBoundingClientRect(),c(ni,{left:-(o.left-t(o.left))+_t,top:-(o.top-t(o.top))+_t})},n(),Lt(q,"resize",n),Lt(Ki,"destroy",function(){Pt(q,"resize",n)}))}function st(){function e(){var e=kt.width||ti.offsetWidth,i=kt.height||ti.offsetHeight;e&&i&&((e!==si||i!==ri)&&(clearTimeout(t),t=setTimeout(function(){Hi(e,i,!1)},100)),si=e,ri=i)}var t;Lt(q,"resize",e),Lt(Ki,"destroy",function(){Pt(q,"resize",e)})}function dt(){Rt(Ki,"endResize",null,function(){tn-=1})}function ct(){var i,n=o.labels,s=o.credits;it(),Ti=Ki.legend=new sn,Mi(),Nt(nn,function(e){e.setTickPositions(!0)}),Z(),Mi(),Oi(),en&&Nt(nn,function(e){e.render()}),Ki.seriesGroup||(Ki.seriesGroup=Li.g("series-group").attr({zIndex:3}).add()),Nt(on,function(e){e.translate(),e.setTooltipPoints(),e.render()}),n.items&&Nt(n.items,function(){var i=e(n.style,this.style),o=t(i.left)+Zt,s=t(i.top)+Gt+12;delete i.left,delete i.top,Li.text(this.html,o,s).attr({zIndex:2}).css(i).add()}),Ki.toolbar||(Ki.toolbar=S()),s.enabled&&!Ki.credits&&(i=s.href,Ki.credits=Li.text(s.text,0,0).on("click",function(){i&&(location.href=i)}).attr({align:s.position.align,zIndex:8}).css(s.style).add().align(s.position)),Ai(),Ki.hasRendered=!0,ii&&(ti.appendChild(ni),C(ii))}function Et(){var e,t=ni&&ni.parentNode;if(null!==Ki){for(Rt(Ki,"destroy"),Pt(q,"unload",Et),Pt(Ki),e=nn.length;e--;)nn[e]=nn[e].destroy();for(e=on.length;e--;)on[e]=on[e].destroy();Nt(["title","subtitle","seriesGroup","clipRect","credits","tracker"],function(e){var t=Ki[e];t&&(Ki[e]=t.destroy())}),Nt([ci,fi,hi,Ti,vi,Li,Ei],function(e){e&&e.destroy&&e.destroy()}),ci=fi=hi=Ti=vi=Li=Ei=null,ni&&(ni.innerHTML="",Pt(ni),t&&C(ni),ni=null),clearInterval(Ri);for(e in Ki)delete Ki[e];Ki=null}}function Tt(){lt||q!=q.top||"complete"===z.readyState?(nt(),Bi(),Wi(),Nt(o.series||[],function(e){U(e)}),Ki.inverted=Di=u(Di,o.chart.inverted),tt(),Ki.render=ct,Ki.tracker=Ei=new A(o.tooltip),ct(),Rt(Ki,"load"),p&&p.apply(Ki,[Ki]),Nt(Ki.callbacks,function(e){e.apply(Ki,[Ki])})):z.attachEvent("onreadystatechange",function(){z.detachEvent("onreadystatechange",Tt),"complete"===z.readyState&&Tt()})}jt=Dt(jt,T.xAxis),$t=Dt($t,T.yAxis),T.xAxis=T.yAxis=null,o=Dt(T,o);var kt=o.chart,Bt=kt.margin;Bt=n(Bt)?Bt:[Bt,Bt,Bt,Bt];var Wt,Ht,Qt,Gt,Jt,Kt,Zt,ei,ti,ii,ni,oi,si,ri,ai,li,di,ui,ci,hi,pi,fi,mi,gi,vi,bi,yi,_i,wi,Ci,Si,Ei,xi,Ai,Ti,ki,Ni,Ui,Ii,Di,Li,Pi,Ri,Fi,Oi,Mi,Bi,Wi,Hi,ji,$i,zi=u(kt.marginTop,Bt[0]),qi=u(kt.marginRight,Bt[1]),Yi=u(kt.marginBottom,Bt[2]),Vi=u(kt.marginLeft,Bt[3]),Qi=kt.spacingTop,Gi=kt.spacingRight,Xi=kt.spacingBottom,Ji=kt.spacingLeft,Ki=this,Zi=(Bt=kt.events)&&!!Bt.click,en=kt.showAxes,tn=0,nn=[],on=[],sn=function(){function i(e,t){var i=e.legendItem,n=e.legendLine,o=e.legendSymbol,s=x.color,r=t?a.itemStyle.color:s,l=t?e.color:s;s=t?e.pointAttr[xt]:{stroke:s,fill:s},i&&i.css({fill:r}),n&&n.attr({stroke:l}),o&&o.attr(s)}function n(e,t,i){var n=e.legendItem,o=e.legendLine,s=e.legendSymbol;e=e.checkbox,n&&n.attr({x:t,y:i}),o&&o.translate(t,i-4),s&&s.attr({x:t+s.xOff,y:i+s.yOff}),e&&(e.x=t,e.y=i)}function o(){Nt(l,function(e){var t=e.checkbox,i=m.alignAttr;t&&c(t,{left:i.translateX+e.legendItemWidth+t.x-40+_t,top:i.translateY+t.y-11+_t})})}function s(e){var t,o,s,r,l=e.legendItem;r=e.series||e;var c=r.options,f=c&&c.borderWidth||0;if(!l){if(r=/^(bar|pie|area|column)$/.test(r.type),e.legendItem=l=Li.text(a.labelFormatter.call(e),0,0).css(e.visible?S:x).on("mouseover",function(){e.setState(At),l.css(E)}).on("mouseout",function(){l.css(e.visible?S:x),e.setState()}).on("click",function(){var t=function(){e.setVisible()};e.firePointEvent?e.firePointEvent("legendItemClick",null,t):Rt(e,"legendItemClick",null,t)}).attr({zIndex:2}).add(m),!r&&c&&c.lineWidth){var b={"stroke-width":c.lineWidth,zIndex:2};c.dashStyle&&(b.dashstyle=c.dashStyle),e.legendLine=Li.path([Ct,-y-_,0,St,-_,0]).attr(b).add(m)}r?t=Li.rect(o=-y-_,s=-11,y,12,2).attr({zIndex:3}).add(m):c&&c.marker&&c.marker.enabled&&(t=Li.symbol(e.symbol,o=-y/2-_,s=-4,c.marker.radius).attr({zIndex:3}).add(m)),t&&(t.xOff=o+f%2/2,t.yOff=s+f%2/2),e.legendSymbol=t,i(e,e.visible),c&&c.showCheckbox&&(e.checkbox=h("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},a.itemCheckboxStyle,ni),Lt(e.checkbox,"click",function(t){Rt(e,"checkboxClick",{checked:t.target.checked},function(){e.select()})}))}t=l.getBBox(),o=e.legendItemWidth=a.itemWidth||y+_+t.width+A,N=t.height,v&&d-k+o>(D||ai-2*A-k)&&(d=k,u+=N),p=u,n(e,d,u),v?d+=o:u+=N,g=D||X(v?d-k:o,g)}function r(){d=k,u=T,p=g=0,m||(m=Li.g("legend").attr({zIndex:7}).add()),l=[],Nt(L,function(e){var t=e.options;t.showInLegend&&(l=l.concat("point"===t.legendType?e.data:e))}),b(l,function(e,t){return(e.options.legendIndex||0)-(t.options.legendIndex||0)}),P&&l.reverse(),Nt(l,s),ki=D||g,Ni=p-T+N,(U||I)&&(ki+=2*A,Ni+=2*A,f?ki>0&&Ni>0&&(f[f.isNew?"attr":"animate"](f.crisp(null,null,null,ki,Ni)),f.isNew=!1):(f=Li.rect(0,0,ki,Ni,a.borderRadius,U||0).attr({stroke:a.borderColor,"stroke-width":U||0,fill:I||wt}).add(m).shadow(a.shadow),f.isNew=!0),f[l.length?"show":"hide"]());for(var i,n=["left","right","top","bottom"],r=4;r--;)i=n[r],w[i]&&"auto"!==w[i]&&(a[2>r?"align":"verticalAlign"]=i,a[2>r?"x":"y"]=t(w[i])*(r%2?-1:1));l.length&&m.align(e(a,{width:ki,height:Ni}),!0,Wt),tn||o()}var a=Ki.options.legend;if(a.enabled){var l,d,u,p,f,m,g,v="horizontal"===a.layout,y=a.symbolWidth,_=a.symbolPadding,w=a.style,S=a.itemStyle,E=a.itemHoverStyle,x=a.itemHiddenStyle,A=t(w.padding),T=18,k=4+A+y+_,N=0,U=a.borderWidth,I=a.backgroundColor,D=a.width,L=Ki.series,P=a.reversed;return r(),Lt(Ki,"endResize",o),{colorizeItem:i,destroyItem:function(e){var t=e.checkbox;Nt(["legendItem","legendLine","legendSymbol"],function(t){e[t]&&e[t].destroy()}),t&&C(e.checkbox)},renderLegend:r,destroy:function(){f&&(f=f.destroy()),m&&(m=m.destroy())}}}};if(gi=function(e,t){return e>=0&&Si>=e&&t>=0&&Ci>=t},$i=function(){Rt(Ki,"selection",{resetSelection:!0},ji),Ki.toolbar.remove("zoom")},ji=function(e){var t=T.lang,i=Ki.pointCount<100;Ki.toolbar.add("zoom",t.resetZoom,t.resetZoomTitle,$i),!e||e.resetSelection?Nt(nn,function(e){e.setExtremes(null,null,!1,i)}):Nt(e.xAxis.concat(e.yAxis),function(e){var t=e.axis;Ki.tracker[t.isXAxis?"zoomX":"zoomY"]&&t.setExtremes(e.min,e.max,!1,i)}),et()},Mi=function(){var e,t=o.legend,i=u(t.margin,10),n=t.x,s=t.y,r=t.align,l=t.verticalAlign;Bi(),!Ki.title&&!Ki.subtitle||a(zi)||(e=X(Ki.title&&!Ht.floating&&!Ht.verticalAlign&&Ht.y||0,Ki.subtitle&&!Qt.floating&&!Qt.verticalAlign&&Qt.y||0))&&(Gt=X(Gt,e+u(Ht.margin,15)+Qi)),t.enabled&&!t.floating&&("right"===r?a(qi)||(Jt=X(Jt,ki-n+i+Gi)):"left"===r?a(Vi)||(Zt=X(Zt,ki+n+i+Ji)):"top"===l?a(zi)||(Gt=X(Gt,Ni+s+i+Qi)):"bottom"===l&&(a(Yi)||(Kt=X(Kt,Ni-s+i+Xi)))),en&&Nt(nn,function(e){e.getOffset()}),a(Vi)||(Zt+=ei[3]),a(zi)||(Gt+=ei[0]),a(Yi)||(Kt+=ei[2]),a(qi)||(Jt+=ei[1]),Wi()},Hi=function(e,t,i){var n=Ki.title,o=Ki.subtitle;tn+=1,_(i,Ki),ui=li,di=ai,Ki.chartWidth=ai=V(e),Ki.chartHeight=li=V(t),c(ni,{width:ai+_t,height:li+_t}),Li.setSize(ai,li,i),Si=ai-Zt-Jt,Ci=li-Gt-Kt,Ii=null,Nt(nn,function(e){e.isDirty=!0,e.setScale()}),Nt(on,function(e){e.isDirty=!0}),Ki.isDirtyLegend=!0,Ki.isDirtyBox=!0,Mi(),n&&n.align(null,null,Wt),o&&o.align(null,null,Wt),et(i),ui=null,Rt(Ki,"resize"),N===!1?dt():setTimeout(dt,N&&N.duration||500)},Wi=function(){Ki.plotLeft=Zt=V(Zt),Ki.plotTop=Gt=V(Gt),Ki.plotWidth=Si=V(ai-Zt-Jt),Ki.plotHeight=Ci=V(li-Gt-Kt),Ki.plotSizeX=Di?Ci:Si,Ki.plotSizeY=Di?Si:Ci,Wt={x:Ji,y:Qi,width:ai-Ji-Gi,height:li-Qi-Xi}},Bi=function(){Gt=u(zi,Qi),Jt=u(qi,Gi),Kt=u(Yi,Xi),Zt=u(Vi,Ji),ei=[0,0,0,0]},Oi=function(){var e,t=kt.borderWidth||0,i=kt.backgroundColor,n=kt.plotBackgroundColor,o=kt.plotBackgroundImage,s={x:Zt,y:Gt,width:Si,height:Ci};e=t+(kt.shadow?8:0),(t||i)&&(ci?ci.animate(ci.crisp(null,null,null,ai-e,li-e)):ci=Li.rect(e/2,e/2,ai-e,li-e,kt.borderRadius,t).attr({stroke:kt.borderColor,"stroke-width":t,fill:i||wt}).add().shadow(kt.shadow)),n&&(hi?hi.animate(s):hi=Li.rect(Zt,Gt,Si,Ci,0).attr({fill:n}).add().shadow(kt.plotShadow)),o&&(pi?pi.animate(s):pi=Li.image(o,Zt,Gt,Si,Ci).add()),kt.plotBorderWidth&&(fi?fi.animate(fi.crisp(null,Zt,Gt,Si,Ci)):fi=Li.rect(Zt,Gt,Si,Ci,0,kt.plotBorderWidth).attr({stroke:kt.plotBorderColor,"stroke-width":kt.plotBorderWidth,zIndex:4}).add()),Ki.isDirtyBox=!1},Lt(q,"unload",Et),kt.reflow!==!1&&Lt(Ki,"load",st),Bt)for(mi in Bt)Lt(Ki,mi,Bt[mi]);Ki.options=o,Ki.series=on,Ki.addSeries=function(e,t,i){var n;return e&&(_(i,Ki),t=u(t,!0),Rt(Ki,"addSeries",{options:e},function(){n=U(e),n.isDirty=!0,Ki.isDirtyLegend=!0,t&&Ki.redraw()})),n},Ki.animation=u(kt.animation,!0),Ki.destroy=Et,Ki.get=function(e){var t,i,n;for(t=0;t<nn.length;t++)if(nn[t].options.id===e)return nn[t];for(t=0;t<on.length;t++)if(on[t].options.id===e)return on[t];for(t=0;t<on.length;t++)for(n=on[t].data,i=0;i<n.length;i++)if(n[i].id===e)return n[i];return null},Ki.getSelectedPoints=function(){var e=[];return Nt(on,function(t){e=e.concat(Ut(t.data,function(e){return e.selected}))}),e},Ki.getSelectedSeries=function(){return Ut(on,function(e){return e.selected})},Ki.hideLoading=function(){Ft(yi,{opacity:0},{duration:o.loading.hideDuration,complete:function(){c(yi,{display:wt})}}),wi=!1},Ki.isInsidePlot=gi,Ki.redraw=et,Ki.setSize=Hi,Ki.setTitle=it,Ki.showLoading=function(t){var i=o.loading;yi||(yi=h(ft,{className:"highcharts-loading"},e(i.style,{left:Zt+_t,top:Gt+_t,width:Si+_t,height:Ci+_t,zIndex:10,display:wt}),ni),_i=h("span",null,i.labelStyle,yi)),_i.innerHTML=t||o.lang.loading,wi||(c(yi,{opacity:0,display:""}),Ft(yi,{opacity:i.style.opacity},{duration:i.showDuration}),wi=!0)},Ki.pointCount=0,Ki.counters=new g,Tt()}var x,A,T,k,N,U,I,D,L,P,R,F,O,M,B,W,H,j,$,z=document,q=window,Y=Math,V=Y.round,Q=Y.floor,G=Y.ceil,X=Y.max,J=Y.min,K=Y.abs,Z=Y.cos,et=Y.sin,tt=Y.PI,it=2*tt/360,nt=navigator.userAgent,ot=/msie/i.test(nt)&&!q.opera,st=8===z.documentMode,rt=/AppleWebKit/.test(nt),at=/Firefox/.test(nt),lt=!!z.createElementNS&&!!z.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,dt=at&&parseInt(nt.split("Firefox/")[1],10)<4,ut=void 0!==z.documentElement.ontouchstart,ct={},ht=0,pt=1,ft="div",mt="absolute",gt="relative",vt="hidden",bt="highcharts-",yt="visible",_t="px",wt="none",Ct="M",St="L",Et="rgba(192,192,192,"+(lt?1e-6:.002)+")",xt="",At="hover",Tt=q.HighchartsAdapter,kt=Tt||{},Nt=kt.each,Ut=kt.grep,It=kt.map,Dt=kt.merge,Lt=kt.addEvent,Pt=kt.removeEvent,Rt=kt.fireEvent,Ft=kt.animate,Ot=kt.stop,Mt={};if(k=function(e,t,i){function n(e){return e.toString().replace(/^([0-9])$/,"0$1")}if(!a(t)||isNaN(t))return"Invalid date";e=u(e,"%Y-%m-%d %H:%M:%S"),t=new Date(t*pt);var o,s=t[P](),r=t[R](),l=t[F](),d=t[O](),c=t[M](),h=T.lang,p=h.weekdays;t={a:p[r].substr(0,3),A:p[r],d:n(l),e:l,b:h.shortMonths[d],B:h.months[d],m:n(d+1),y:c.toString().substr(2,2),Y:c,H:n(s),I:n(s%12||12),l:s%12||12,M:n(t[L]()),p:12>s?"AM":"PM",P:12>s?"am":"pm",S:n(t.getSeconds())};for(o in t)e=e.replace("%"+o,t[o]);return i?e.substr(0,1).toUpperCase()+e.substr(1):e},g.prototype={wrapColor:function(e){this.color>=e&&(this.color=0)},wrapSymbol:function(e){this.symbol>=e&&(this.symbol=0)}},U={init:function(e,t,i){t=t||"";var n,o=e.shift,s=t.indexOf("C")>-1,r=s?7:3;t=t.split(" "),i=[].concat(i);var a,l,d=function(e){for(n=e.length;n--;)e[n]===Ct&&e.splice(n+1,0,e[n+1],e[n+2],e[n+1],e[n+2])};if(s&&(d(t),d(i)),e.isArea&&(a=t.splice(t.length-6,6),l=i.splice(i.length-6,6)),o&&(i=[].concat(i).splice(0,r).concat(i),e.shift=!1),t.length)for(e=i.length;t.length<e;)o=[].concat(t).splice(t.length-r,r),s&&(o[r-6]=o[r-2],o[r-5]=o[r-1]),t=t.concat(o);return a&&(t=t.concat(a),i=i.concat(l)),[t,i]},step:function(e,t,i,n){var o=[],s=e.length;if(1===i)o=n;else if(s===t.length&&1>i)for(;s--;)n=parseFloat(e[s]),o[s]=isNaN(n)?e[s]:i*parseFloat(t[s]-n)+n;else o=t;return o}},Tt&&Tt.init&&Tt.init(U),!Tt&&q.jQuery){var Bt=jQuery;Nt=function(e,t){for(var i=0,n=e.length;n>i;i++)if(t.call(e[i],e[i],i,e)===!1)return i},Ut=Bt.grep,It=function(e,t){for(var i=[],n=0,o=e.length;o>n;n++)i[n]=t.call(e[n],e[n],n,e);return i},Dt=function(){var e=arguments;return Bt.extend(!0,null,e[0],e[1],e[2],e[3])},Lt=function(e,t,i){Bt(e).bind(t,i)},Pt=function(e,t,i){var n=z.removeEventListener?"removeEventListener":"detachEvent";z[n]&&!e[n]&&(e[n]=function(){}),Bt(e).unbind(t,i)},Rt=function(t,i,n,o){var s=Bt.Event(i),r="detached"+i;e(s,n),t[i]&&(t[r]=t[i],t[i]=null),Bt(t).trigger(s),t[r]&&(t[i]=t[r],t[r]=null),o&&!s.isDefaultPrevented()&&o(s)},Ft=function(e,t,i){var n=Bt(e);t.d&&(e.toD=t.d,t.d=1),n.stop(),n.animate(t,i)},Ot=function(e){Bt(e).stop()},Bt.extend(Bt.easing,{easeOutQuad:function(e,t,i,n,o){return-n*(t/=o)*(t-2)+i}});var Wt=jQuery.fx,Ht=Wt.step;Nt(["cur","_default","width","height"],function(e,t){var i,n=t?Ht:Wt.prototype,o=n[e];o&&(n[e]=function(e){return e=t?e:this,i=e.elem,i.attr?i.attr(e.prop,e.now):o.apply(this,arguments)})}),Ht.d=function(e){var t=e.elem;if(!e.started){var i=U.init(t,t.d,t.toD);e.start=i[0],e.end=i[1],e.started=!0}t.attr("d",U.step(e.start,e.end,e.pos,t.toD))}}Tt={enabled:!0,align:"center",x:0,y:15,style:{color:"#666",fontSize:"11px",lineHeight:"14px"}},T={colors:["#4572A7","#AA4643","#89A54E","#80699B","#3D96AE","#DB843D","#92A8CD","#A47D7C","#B5CA92"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["1","2","3","4","5","6","7","8","9","10","11","12"],weekdays:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],decimalPoint:".",resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0"},title:{text:"Chart title",align:"center",y:15,style:{color:"#3E576F",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,shadow:!0,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:Dt(Tt,{enabled:!1,y:-6,formatter:function(){return this.y}}),showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:mt,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,shadow:!1,style:{padding:"5px"},itemStyle:{cursor:"pointer",color:"#3E576F"},itemHoverStyle:{cursor:"pointer",color:"#000000"},itemHiddenStyle:{color:"#C0C0C0"},itemCheckboxStyle:{position:mt,width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0},loading:{hideDuration:100,labelStyle:{fontWeight:"bold",position:gt,top:"1em"},showDuration:100,style:{position:mt,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,shadow:!0,snap:ut?25:10,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},toolbar:{itemStyle:{color:"#4572A7",cursor:"pointer"}},credits:{enabled:!1,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"10px"}}};var jt={dateTimeLabelFormats:{second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:Tt,lineColor:"#C0D0E0",lineWidth:1,max:null,min:null,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},$t=Dt(jt,{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Y-values"},stackLabels:{enabled:!1,formatter:function(){return this.total},style:Tt.style}}),zt={labels:{align:"right",x:-8,y:null},title:{rotation:270}},qt={labels:{align:"left",x:8,y:null},title:{rotation:90}},Yt={labels:{align:"center",x:0,y:14},title:{rotation:0}},Vt=Dt(Yt,{labels:{y:-5}}),Qt=T.plotOptions;Tt=Qt.line,Qt.spline=Dt(Tt),Qt.scatter=Dt(Tt,{lineWidth:0,states:{hover:{lineWidth:0}}}),Qt.area=Dt(Tt,{}),Qt.areaspline=Dt(Qt.area),Qt.column=Dt(Tt,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{y:null,verticalAlign:null}}),Qt.bar=Dt(Qt.column,{dataLabels:{align:"left",x:5,y:0}}),Qt.pie=Dt(Tt,{borderColor:"#FFFFFF",borderWidth:1,center:["50%","50%"],colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name},y:5},legendType:"point",marker:null,size:"75%",showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}}}),w();var Gt=function(e){var i,n=[];return function(e){(i=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(e))?n=[t(i[1]),t(i[2]),t(i[3]),parseFloat(i[4],10)]:(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))&&(n=[t(i[1],16),t(i[2],16),t(i[3],16),1])}(e),{get:function(t){return n&&!isNaN(n[0])?"rgb"===t?"rgb("+n[0]+","+n[1]+","+n[2]+")":"a"===t?n[3]:"rgba("+n.join(",")+")":e},brighten:function(e){if(o(e)&&0!==e){var i;for(i=0;3>i;i++)n[i]+=t(255*e),n[i]<0&&(n[i]=0),n[i]>255&&(n[i]=255)}return this},setOpacity:function(e){return n[3]=e,this}}};S.prototype={init:function(e,t){this.element=z.createElementNS("http://www.w3.org/2000/svg",t),this.renderer=e},animate:function(e,t,i){(t=u(t,N,!0))?(t=Dt(t),i&&(t.complete=i),Ft(this,e,t)):(this.attr(e),i&&i())},attr:function(n,o){var s,r,d,u,h,p,f=this.element,m=f.nodeName,g=this.renderer,v=this.shadows,b=this.htmlNode,y=this;if(i(n)&&a(o)&&(s=n,n={},n[s]=o),i(n))s=n,"circle"===m?s={x:"cx",y:"cy"}[s]||s:"strokeWidth"===s&&(s="stroke-width"),y=l(f,s)||this[s]||0,"d"!==s&&"visibility"!==s&&(y=parseFloat(y));else for(s in n){if(h=!1,r=n[s],"d"===s)r&&r.join&&(r=r.join(" ")),/(NaN| {2}|^$)/.test(r)&&(r="M 0 0"),this.d=r;else if("x"===s&&"text"===m){for(d=0;d<f.childNodes.length;d++)u=f.childNodes[d],l(u,"x")===l(f,"x")&&l(u,"x",r);this.rotation&&l(f,"transform","rotate("+this.rotation+" "+r+" "+t(n.y||l(f,"y"))+")")}else if("fill"===s)r=g.color(r,f,s);else if("circle"!==m||"x"!==s&&"y"!==s)if("translateX"===s||"translateY"===s||"rotation"===s||"verticalAlign"===s)this[s]=r,this.updateTransform(),h=!0;else if("stroke"===s)r=g.color(r,f,s);else if("dashstyle"===s){if(s="stroke-dasharray",r=r&&r.toLowerCase(),"solid"===r)r=wt;else if(r){for(r=r.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),d=r.length;d--;)r[d]=t(r[d])*n["stroke-width"];r=r.join(",")}}else"isTracker"===s?this[s]=r:"width"===s?r=t(r):"align"===s?(s="text-anchor",r={left:"start",center:"middle",right:"end"}[r]):"title"===s&&(d=z.createElementNS("http://www.w3.org/2000/svg","title"),d.appendChild(z.createTextNode(r)),f.appendChild(d));else s={x:"cx",y:"cy"}[s]||s;if("strokeWidth"===s&&(s="stroke-width"),rt&&"stroke-width"===s&&0===r&&(r=1e-6),this.symbolName&&/^(x|y|r|start|end|innerR)/.test(s)&&(p||(this.symbolAttr(n),p=!0),h=!0),v&&/^(width|height|visibility|x|y|d)$/.test(s))for(d=v.length;d--;)l(v[d],s,r);if(("width"===s||"height"===s)&&"rect"===m&&0>r&&(r=0),"text"===s?(this.textStr=r,this.added&&g.buildText(this)):h||l(f,s,r),b&&("x"===s||"y"===s||"translateX"===s||"translateY"===s||"visibility"===s)){d=b.length?b:[this],u=d.length;var _;for(_=0;u>_;_++)b=d[_],h=b.getBBox(),b=b.htmlNode,c(b,e(this.styles,{left:h.x+(this.translateX||0)+_t,top:h.y+(this.translateY||0)+_t})),"visibility"===s&&c(b,{visibility:r})}}return y},symbolAttr:function(e){var t=this;Nt(["x","y","r","start","end","width","height","innerR"],function(i){t[i]=u(e[i],t[i])}),t.attr({d:t.renderer.symbols[t.symbolName](V(2*t.x)/2,V(2*t.y)/2,t.r,{start:t.start,end:t.end,width:t.width,height:t.height,innerR:t.innerR})})},clip:function(e){return this.attr("clip-path","url("+this.renderer.url+"#"+e.id+")")},crisp:function(e,t,i,n,o){var s,r,a={},l={};e=e||this.strokeWidth||0,r=e%2/2,l.x=Q(t||this.x||0)+r,l.y=Q(i||this.y||0)+r,l.width=Q((n||this.width||0)-2*r),l.height=Q((o||this.height||0)-2*r),l.strokeWidth=e;for(s in l)this[s]!==l[s]&&(this[s]=a[s]=l[s]);return a},css:function(t){var i=this.element;i=t&&t.width&&"text"===i.nodeName;var n,o="",s=function(e,t){return"-"+t.toLowerCase()};if(t&&t.color&&(t.fill=t.color),this.styles=t=e(this.styles,t),ot&&!lt)i&&delete t.width,c(this.element,t);else{for(n in t)o+=n.replace(/([A-Z])/g,s)+":"+t[n]+";";this.attr({style:o})}return i&&this.added&&this.renderer.buildText(this),this},on:function(e,t){var i=t;return ut&&"click"===e&&(e="touchstart",i=function(e){e.preventDefault(),t()}),this.element["on"+e]=i,this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){return this.inverted=!0,this.updateTransform(),this},updateTransform:function(){var e=this.translateX||0,t=this.translateY||0,i=this.inverted,n=this.rotation,o=[];i&&(e+=this.attr("width"),t+=this.attr("height")),(e||t)&&o.push("translate("+e+","+t+")"),i?o.push("rotate(90) scale(-1,1)"):n&&o.push("rotate("+n+" "+this.x+" "+this.y+")"),o.length&&l(this.element,"transform",o.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,i){e?(this.alignOptions=e,this.alignByTranslate=t,i||this.renderer.alignedObjects.push(this)):(e=this.alignOptions,t=this.alignByTranslate),i=u(i,this.renderer);var n=e.align,o=e.verticalAlign,s=(i.x||0)+(e.x||0),r=(i.y||0)+(e.y||0),a={};return/^(right|center)$/.test(n)&&(s+=(i.width-(e.width||0))/{right:1,center:2}[n]),a[t?"translateX":"x"]=V(s),/^(bottom|middle)$/.test(o)&&(r+=(i.height-(e.height||0))/({bottom:1,middle:2}[o]||1)),a[t?"translateY":"y"]=V(r),this[this.placed?"animate":"attr"](a),this.placed=!0,this.alignAttr=a,this},getBBox:function(){var t,i,n,o=this.rotation,s=o*it;try{t=e({},this.element.getBBox())}catch(r){t={width:0,height:0}}return i=t.width,n=t.height,o&&(t.width=K(n*et(s))+K(i*Z(s)),t.height=K(n*Z(s))+K(i*et(s))),t},show:function(){return this.attr({visibility:yt})},hide:function(){return this.attr({visibility:vt})},add:function(e){var i=this.renderer,n=e||i,o=n.element||i.box,s=o.childNodes,r=this.element,d=l(r,"zIndex");if(this.parentInverted=e&&e.inverted,void 0!==this.textStr&&i.buildText(this),e&&this.htmlNode&&(e.htmlNode||(e.htmlNode=[]),e.htmlNode.push(this)),d&&(n.handleZ=!0,d=t(d)),n.handleZ)for(n=0;n<s.length;n++)if(e=s[n],i=l(e,"zIndex"),e!==r&&(t(i)>d||!a(d)&&a(i)))return o.insertBefore(r,e),this;return o.appendChild(r),this.added=!0,this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e,t,i=this,n=i.element||{},o=i.shadows;if(n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=null,Ot(i),i.clipPath&&(i.clipPath=i.clipPath.destroy()),i.stops){for(t=0;t<i.stops.length;t++)i.stops[t]=i.stops[t].destroy();i.stops=null}i.safeRemoveChild(n),o&&Nt(o,function(e){i.safeRemoveChild(e)}),r(i.renderer.alignedObjects,i);for(e in i)delete i[e];return null},empty:function(){for(var e=this.element,t=e.childNodes,i=t.length;i--;)e.removeChild(t[i])},shadow:function(e,t){var i,n,o=[],s=this.element,r=this.parentInverted?"(-1,-1)":"(1,1)";if(e){for(i=1;3>=i;i++)n=s.cloneNode(0),l(n,{isShadow:"true",stroke:"rgb(0, 0, 0)","stroke-opacity":.05*i,"stroke-width":7-2*i,transform:"translate"+r,fill:wt}),t?t.element.appendChild(n):s.parentNode.insertBefore(n,s),o.push(n);this.shadows=o}return this}};var Xt=function(){this.init.apply(this,arguments)};Xt.prototype={Element:S,init:function(e,t,i,n){var o,s=location;o=this.createElement("svg").attr({xmlns:"http://www.w3.org/2000/svg",version:"1.1"}),e.appendChild(o.element),this.box=o.element,this.boxWrapper=o,this.alignedObjects=[],this.url=ot?"":s.href.replace(/#.*?$/,""),this.defs=this.createElement("defs").add(),this.forExport=n,this.gradients=[],this.setSize(t,i,!1)},destroy:function(){var e,t=this.gradients,i=this.defs;if(this.box=null,this.boxWrapper=this.boxWrapper.destroy(),t){for(e=0;e<t.length;e++)this.gradients[e]=t[e].destroy();this.gradients=null}return i&&(this.defs=i.destroy()),this.alignedObjects=null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},buildText:function(i){for(var n,o=i.element,s=u(i.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),r=o.childNodes,a=/style="([^"]+)"/,d=/href="([^"]+)"/,p=l(o,"x"),f=i.styles,m=f&&i.useHTML&&!this.forExport,g=i.htmlNode,v=f&&t(f.width),b=f&&f.lineHeight,y=r.length;y--;)o.removeChild(r[y]);if(v&&!i.added&&this.box.appendChild(o),Nt(s,function(e,s){var r,u,h=0;e=e.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),r=e.split("|||"),Nt(r,function(e){if(""!==e||1===r.length){var f={},m=z.createElementNS("http://www.w3.org/2000/svg","tspan");if(a.test(e)&&l(m,"style",e.match(a)[1].replace(/(;| |^)color([ :])/,"$1fill$2")),d.test(e)&&(l(m,"onclick",'location.href="'+e.match(d)[1]+'"'),c(m,{cursor:"pointer"})),e=(e.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"),m.appendChild(z.createTextNode(e)),h?f.dx=3:f.x=p,h||(s&&(!lt&&i.renderer.forExport&&c(m,{display:"block"}),u=q.getComputedStyle&&t(q.getComputedStyle(n,null).getPropertyValue("line-height")),(!u||isNaN(u))&&(u=b||n.offsetHeight||18),l(m,"dy",u)),n=m),l(m,f),o.appendChild(m),h++,v){e=e.replace(/-/g,"- ").split(" ");for(var g,y=[];e.length||y.length;)g=o.getBBox().width,f=g>v,f&&1!==e.length?(m.removeChild(m.firstChild),y.unshift(e.pop())):(e=y,y=[],e.length&&(m=z.createElementNS("http://www.w3.org/2000/svg","tspan"),l(m,{dy:b||16,x:p}),o.appendChild(m),g>v&&(v=g))),e.length&&m.appendChild(z.createTextNode(e.join(" ").replace(/- /g,"-")))}}})}),m)for(g||(g=i.htmlNode=h("span",null,e(f,{position:mt,top:0,left:0}),this.box.parentNode)),g.innerHTML=i.textStr,y=r.length;y--;)r[y].style.visibility=vt},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=V(e[1])+t%2/2),e[2]===e[5]&&(e[2]=e[5]=V(e[2])+t%2/2),e},path:function(e){return this.createElement("path").attr({d:e,fill:wt})},circle:function(e,t,i){return e=n(e)?e:{x:e,y:t,r:i},this.createElement("circle").attr(e)},arc:function(e,t,i,o,s,r){return n(e)&&(t=e.y,i=e.r,o=e.innerR,s=e.start,r=e.end,e=e.x),this.symbol("arc",e||0,t||0,i||0,{innerR:o||0,start:s||0,end:r||0})},rect:function(e,t,i,o,s,r){return n(e)&&(t=e.y,i=e.width,o=e.height,s=e.r,r=e.strokeWidth,e=e.x),s=this.createElement("rect").attr({rx:s,ry:s,fill:wt}),s.attr(s.crisp(r,e,t,X(i,0),X(o,0)))},setSize:function(e,t,i){var n=this.alignedObjects,o=n.length;for(this.width=e,this.height=t,this.boxWrapper[u(i,!0)?"animate":"attr"]({width:e,height:t});o--;)n[o].align()},g:function(e){var t=this.createElement("g");return a(e)?t.attr({"class":bt+e}):t},image:function(t,i,n,o,s){var r={preserveAspectRatio:wt};return arguments.length>1&&e(r,{x:i,y:n,width:o,height:s}),r=this.createElement("image").attr(r),r.element.setAttributeNS?r.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):r.element.setAttribute("hc-svg-href",t),r},symbol:function(t,i,n,o,s){var r,a=this.symbols[t];a=a&&a(V(i),V(n),o,s);var l,d=/^url\((.*?)\)$/;if(a)r=this.path(a),e(r,{symbolName:t,x:i,y:n,r:o}),s&&e(r,s);else if(d.test(t)){var u=function(e,t){e.attr({width:t[0],height:t[1]}).translate(-V(t[0]/2),-V(t[1]/2))};l=t.match(d)[1],t=ct[l],r=this.image(l).attr({x:i,y:n}),t?u(r,t):(r.attr({width:0,height:0}),h("img",{onload:function(){u(r,ct[l]=[this.width,this.height])},src:l}))}else r=this.circle(i,n,o);return r},symbols:{square:function(e,t,i){return i=.707*i,[Ct,e-i,t-i,St,e+i,t-i,e+i,t+i,e-i,t+i,"Z"]},triangle:function(e,t,i){return[Ct,e,t-1.33*i,St,e+i,t+.67*i,e-i,t+.67*i,"Z"]},"triangle-down":function(e,t,i){return[Ct,e,t+1.33*i,St,e-i,t-.67*i,e+i,t-.67*i,"Z"]},diamond:function(e,t,i){return[Ct,e,t-i,St,e+i,t,e,t+i,e-i,t,"Z"]},arc:function(e,t,i,n){var o=n.start,s=n.end-1e-6,r=n.innerR,a=Z(o),l=et(o),d=Z(s);return s=et(s),n=n.end-o<tt?0:1,[Ct,e+i*a,t+i*l,"A",i,i,0,n,1,e+i*d,t+i*s,St,e+r*d,t+r*s,"A",r,r,0,n,0,e+r*a,t+r*l,"Z"]}},clipRect:function(e,t,i,n){var o=bt+ht++,s=this.createElement("clipPath").attr({id:o}).add(this.defs);return e=this.rect(e,t,i,n,0).add(s),e.id=o,e.clipPath=s,e},color:function(e,t,i){var n,o=/^rgba/;if(e&&e.linearGradient){var s=this;t=e.linearGradient,i=bt+ht++;var r,a,d;return r=s.createElement("linearGradient").attr({id:i,gradientUnits:"userSpaceOnUse",x1:t[0],y1:t[1],x2:t[2],y2:t[3]}).add(s.defs),s.gradients.push(r),r.stops=[],Nt(e.stops,function(e){o.test(e[1])?(n=Gt(e[1]),a=n.get("rgb"),d=n.get("a")):(a=e[1],d=1),e=s.createElement("stop").attr({offset:e[0],"stop-color":a,"stop-opacity":d}).add(r),r.stops.push(e)}),"url("+this.url+"#"+i+")"}return o.test(e)?(n=Gt(e),l(t,i+"-opacity",n.get("a")),n.get("rgb")):(t.removeAttribute(i+"-opacity"),e)},text:function(e,t,i,n){var o=T.chart.style;return t=V(u(t,0)),i=V(u(i,0)),e=this.createElement("text").attr({x:t,y:i,text:e}).css({fontFamily:o.fontFamily,fontSize:o.fontSize}),e.x=t,e.y=i,e.useHTML=n,e}},x=Xt,lt||(kt=p(S,{init:function(e,t){var i=["<",t,' filled="f" stroked="f"'],n=["position: ",mt,";"];("shape"===t||t===ft)&&n.push("left:0;top:0;width:10px;height:10px;"),st&&n.push("visibility: ",t===ft?vt:yt),i.push(' style="',n.join(""),'"/>'),t&&(i=t===ft||"span"===t||"img"===t?i.join(""):e.prepVML(i),this.element=h(i)),this.renderer=e},add:function(e){var t=this.renderer,i=this.element,n=t.box;return n=e?e.element||e:n,e&&e.inverted&&t.invertChild(i,n),st&&n.gVis===vt&&c(i,{visibility:vt}),n.appendChild(i),this.added=!0,this.alignOnAdd&&this.updateTransform(),this
},attr:function(e,t){var n,s,r,d,u,p=this.element||{},f=p.style,m=p.nodeName,g=this.renderer,v=this.symbolName,b=this.shadows,y=this;if(i(e)&&a(t)&&(n=e,e={},e[n]=t),i(e))n=e,y="strokeWidth"===n||"stroke-width"===n?this.strokeweight:this[n];else for(n in e){if(s=e[n],d=!1,v&&/^(x|y|r|start|end|width|height|innerR)/.test(n))u||(this.symbolAttr(e),u=!0),d=!0;else if("d"===n){for(s=s||[],this.d=s.join(" "),r=s.length,d=[];r--;)d[r]=o(s[r])?V(10*s[r])-5:"Z"===s[r]?"x":s[r];if(s=d.join(" ")||"x",p.path=s,b)for(r=b.length;r--;)b[r].path=s;d=!0}else if("zIndex"===n||"visibility"===n){if(st&&"visibility"===n&&"DIV"===m){for(p.gVis=s,d=p.childNodes,r=d.length;r--;)c(d[r],{visibility:s});s===yt&&(s=null)}s&&(f[n]=s),d=!0}else/^(width|height)$/.test(n)?(this[n]=s,this.updateClipping?(this[n]=s,this.updateClipping()):f[n]=s,d=!0):/^(x|y)$/.test(n)?(this[n]=s,"SPAN"===p.tagName?this.updateTransform():f[{x:"left",y:"top"}[n]]=s):"class"===n?p.className=s:"stroke"===n?(s=g.color(s,p,n),n="strokecolor"):"stroke-width"===n||"strokeWidth"===n?(p.stroked=s?!0:!1,n="strokeweight",this[n]=s,o(s)&&(s+=_t)):"dashstyle"===n?((p.getElementsByTagName("stroke")[0]||h(g.prepVML(["<stroke/>"]),null,null,p))[n]=s||"solid",this.dashstyle=s,d=!0):"fill"===n?"SPAN"===m?f.color=s:(p.filled=s!==wt?!0:!1,s=g.color(s,p,n),n="fillcolor"):"translateX"===n||"translateY"===n||"rotation"===n||"align"===n?("align"===n&&(n="textAlign"),this[n]=s,this.updateTransform(),d=!0):"text"===n&&(this.bBox=null,p.innerHTML=s,d=!0);if(b&&"visibility"===n)for(r=b.length;r--;)b[r].style[n]=s;d||(st?p[n]=s:l(p,n,s))}return y},clip:function(e){var t=this,i=e.members;return i.push(t),t.destroyClip=function(){r(i,t)},t.css(e.getCSS(t.inverted))},css:function(t){var i=this.element;return(i=t&&"SPAN"===i.tagName&&t.width)&&(delete t.width,this.textWidth=i,this.updateTransform()),this.styles=e(this.styles,t),c(this.element,t),this},safeRemoveChild:function(e){e.parentNode&&C(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),S.prototype.destroy.apply(this)},empty:function(){for(var e,t=this.element.childNodes,i=t.length;i--;)e=t[i],e.parentNode.removeChild(e)},getBBox:function(){var e=this.element,t=this.bBox;return t||("text"===e.nodeName&&(e.style.position=mt),t=this.bBox={x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}),t},on:function(e,t){return this.element["on"+e]=function(){var e=q.event;e.target=e.srcElement,t(e)},this},updateTransform:function(){if(this.added){var e=this,i=e.element,n=e.translateX||0,o=e.translateY||0,s=e.x||0,r=e.y||0,l=e.textAlign||"left",d={left:0,center:.5,right:1}[l],u=l&&"left"!==l;if((n||o)&&e.css({marginLeft:n,marginTop:o}),e.inverted&&Nt(i.childNodes,function(t){e.renderer.invertChild(t,i)}),"SPAN"===i.tagName){var h,p;n=e.rotation;var f;h=0,o=1;var m,g=0;f=t(e.textWidth);var v=e.xCorr||0,b=e.yCorr||0,y=[n,l,i.innerHTML,e.textWidth].join(",");y!==e.cTT&&(a(n)&&(h=n*it,o=Z(h),g=et(h),c(i,{filter:n?["progid:DXImageTransform.Microsoft.Matrix(M11=",o,", M12=",-g,", M21=",g,", M22=",o,", sizingMethod='auto expand')"].join(""):wt})),h=i.offsetWidth,p=i.offsetHeight,h>f&&(c(i,{width:f+_t,display:"block",whiteSpace:"normal"}),h=f),f=V(1.2*(t(i.style.fontSize)||12)),v=0>o&&-h,b=0>g&&-p,m=0>o*g,v+=g*f*(m?1-d:d),b-=o*f*(n?m?d:1-d:1),u&&(v-=h*d*(0>o?-1:1),n&&(b-=p*d*(0>g?-1:1)),c(i,{textAlign:l})),e.xCorr=v,e.yCorr=b),c(i,{left:s+v,top:r+b}),e.cTT=y}}else this.alignOnAdd=!0},shadow:function(e,i){var n,o,s,r=[],a=this.element,l=this.renderer,d=a.style,u=a.path;if(u&&"string"!=typeof u.value&&(u="x"),e){for(n=1;3>=n;n++)s=['<shape isShadow="true" strokeweight="',7-2*n,'" filled="false" path="',u,'" coordsize="100,100" style="',a.style.cssText,'" />'],o=h(l.prepVML(s),null,{left:t(d.left)+1,top:t(d.top)+1}),s=['<stroke color="black" opacity="',.05*n,'"/>'],h(l.prepVML(s),null,null,o),i?i.element.appendChild(o):a.parentNode.insertBefore(o,a),r.push(o);this.shadows=r}return this}}),Tt=function(){this.init.apply(this,arguments)},Tt.prototype=Dt(Xt.prototype,{Element:kt,isIE8:nt.indexOf("MSIE 8.0")>-1,init:function(e,t,i){var n;this.alignedObjects=[],n=this.createElement(ft),e.appendChild(n.element),this.box=n.element,this.boxWrapper=n,this.setSize(t,i,!1),z.namespaces.hcv||(z.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),z.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},clipRect:function(t,i,n,o){var s=this.createElement();return e(s,{members:[],left:t,top:i,width:n,height:o,getCSS:function(t){var i=this.top,n=this.left,o=n+this.width,s=i+this.height;return i={clip:"rect("+V(t?n:i)+"px,"+V(t?s:o)+"px,"+V(t?o:s)+"px,"+V(t?i:n)+"px)"},!t&&st&&e(i,{width:o+_t,height:s+_t}),i},updateClipping:function(){Nt(s.members,function(e){e.css(s.getCSS(e.inverted))})}})},color:function(e,t,i){var n,o=/^rgba/;if(!e||!e.linearGradient)return o.test(e)&&"IMG"!==t.tagName?(n=Gt(e),e=["<",i,' opacity="',n.get("a"),'"/>'],h(this.prepVML(e),null,null,t),n.get("rgb")):(t=t.getElementsByTagName(i),t.length&&(t[0].opacity=1),e);var s,r,a,l,d,u,c=e.linearGradient;Nt(e.stops,function(e,t){o.test(e[1])?(n=Gt(e[1]),s=n.get("rgb"),r=n.get("a")):(s=e[1],r=1),t?(d=s,u=r):(a=s,l=r)}),e=90-180*Y.atan((c[3]-c[1])/(c[2]-c[0]))/tt,e=["<",i,' colors="0% ',a,",100% ",d,'" angle="',e,'" opacity="',u,'" o:opacity2="',l,'" type="gradient" focus="100%" />'],h(this.prepVML(e),null,null,t)},prepVML:function(e){var t=this.isIE8;return e=e.join(""),t?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e=-1===e.indexOf('style="')?e.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):e.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):e=e.replace("<","<hcv:"),e},text:function(e,t,i){var n=T.chart.style;return this.createElement("span").attr({text:e,x:V(t),y:V(i)}).css({whiteSpace:"nowrap",fontFamily:n.fontFamily,fontSize:n.fontSize})},path:function(e){return this.createElement("shape").attr({coordsize:"100 100",d:e})},circle:function(e,t,i){return this.symbol("circle").attr({x:e,y:t,r:i})},g:function(e){var t;return e&&(t={className:bt+e,"class":bt+e}),this.createElement(ft).attr(t)},image:function(e,t,i,n,o){var s=this.createElement("img").attr({src:e});return arguments.length>1&&s.css({left:t,top:i,width:n,height:o}),s},rect:function(e,t,i,o,s,r){n(e)&&(t=e.y,i=e.width,o=e.height,s=e.r,r=e.strokeWidth,e=e.x);var a=this.symbol("rect");return a.r=s,a.attr(a.crisp(r,e,t,X(i,0),X(o,0)))},invertChild:function(e,i){var n=i.style;c(e,{flip:"x",left:t(n.width)-10,top:t(n.height)-10,rotation:-90})},symbols:{arc:function(e,t,i,n){var o=n.start,s=n.end,r=Z(o),a=et(o),l=Z(s),d=et(s);n=n.innerR;var u=.07/i,c=n&&.1/n||0;return 0===s-o?["x"]:(u>2*tt-s+o?l=-u:c>s-o&&(l=Z(o+c)),["wa",e-i,t-i,e+i,t+i,e+i*r,t+i*a,e+i*l,t+i*d,"at",e-n,t-n,e+n,t+n,e+n*l,t+n*d,e+n*r,t+n*a,"x","e"])},circle:function(e,t,i){return["wa",e-i,t-i,e+i,t+i,e+i,t,e+i,t,"e"]},rect:function(e,t,i,n){if(!a(n))return[];var o=n.width;n=n.height;var s=e+o,r=t+n;return i=J(i,o,n),[Ct,e+i,t,St,s-i,t,"wa",s-2*i,t,s,t+2*i,s-i,t,s,t+i,St,s,r-i,"wa",s-2*i,r-2*i,s,r,s,r-i,s-i,r,St,e+i,r,"wa",e,r-2*i,e+2*i,r,e+i,r,e,r-i,St,e,t+i,"wa",e,t,e+2*i,t+2*i,e,t+i,e+i,t,"x","e"]}}}),x=Tt),E.prototype.callbacks=[];var Jt=function(){};Jt.prototype={init:function(e,t){var i,n=e.chart.counters;return this.series=e,this.applyOptions(t),this.pointAttr={},e.options.colorByPoint&&(i=e.chart.options.colors,this.options||(this.options={}),this.color=this.options.color=this.color||i[n.color++],n.wrapColor(i.length)),e.chart.pointCount++,this},applyOptions:function(t){var s=this.series;this.config=t,o(t)||null===t?this.y=t:n(t)&&!o(t.length)?(e(this,t),this.options=t):i(t[0])?(this.name=t[0],this.y=t[1]):o(t[0])&&(this.x=t[0],this.y=t[1]),this.x===I&&(this.x=s.autoIncrement())},destroy:function(){var e,t=this,i=t.series,n=i.chart.hoverPoints;i.chart.pointCount--,n&&(t.setState(),r(n,t)),t===i.chart.hoverPoint&&t.onMouseOut(),Pt(t),Nt(["graphic","tracker","group","dataLabel","connector","shadowGroup"],function(e){t[e]&&t[e].destroy()}),t.legendItem&&t.series.chart.legend.destroyItem(t);for(e in t)t[e]=null},getLabelConfig:function(){return{x:this.category,y:this.y,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},select:function(e,t){var i=this,n=i.series.chart;e=u(e,!i.selected),i.firePointEvent(e?"select":"unselect",{accumulate:t},function(){i.selected=e,i.setState(e&&"select"),t||Nt(n.getSelectedPoints(),function(e){e.selected&&e!==i&&(e.selected=!1,e.setState(xt),e.firePointEvent("unselect"))})})},onMouseOver:function(){var e=this.series.chart,t=e.tooltip,i=e.hoverPoint;i&&i!==this&&i.onMouseOut(),this.firePointEvent("mouseOver"),t&&!t.shared&&t.refresh(this),this.setState(At),e.hoverPoint=this},onMouseOut:function(){this.firePointEvent("mouseOut"),this.setState(),this.series.chart.hoverPoint=null},tooltipFormatter:function(e){var t=this.series;return['<span style="color:'+t.color+'">',this.name||t.name,"</span>: ",e?"":"<b>x = "+(this.name||this.x)+",</b> ","<b>",e?"":"y = ",this.y,"</b>"].join("")},update:function(e,t,i){var o=this,s=o.series,r=o.graphic,a=s.chart;t=u(t,!0),o.firePointEvent("update",{options:e},function(){o.applyOptions(e),n(e)&&(s.getAttribs(),r&&r.attr(o.pointAttr[s.state])),s.isDirty=!0,t&&a.redraw(i)})},remove:function(e,t){var i=this,n=i.series,o=n.chart,s=n.data;_(t,o),e=u(e,!0),i.firePointEvent("remove",null,function(){r(s,i),i.destroy(),n.isDirty=!0,e&&o.redraw()})},firePointEvent:function(e,t,i){var n=this,o=this.series.options;(o.point.events[e]||n.options&&n.options.events&&n.options.events[e])&&this.importEvents(),"click"===e&&o.allowPointSelect&&(i=function(e){n.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),Rt(this,e,t,i)},importEvents:function(){if(!this.hasImportedEvents){var e,t=Dt(this.series.options.point,this.options).events;this.events=t;for(e in t)Lt(this,e,t[e]);this.hasImportedEvents=!0}},setState:function(e){var t=this.series,i=t.options.states,n=Qt[t.type].marker&&t.options.marker,o=n&&!n.enabled,s=(n=n&&n.states[e])&&n.enabled===!1,r=t.stateMarkerGraphic,a=t.chart,l=this.pointAttr;e=e||xt,e===this.state||this.selected&&"select"!==e||i[e]&&i[e].enabled===!1||e&&(s||o&&!n.enabled)||(this.graphic?this.graphic.attr(l[e]):(e&&(r||(t.stateMarkerGraphic=r=a.renderer.circle(0,0,l[e].r).attr(l[e]).add(t.group)),r.translate(this.plotX,this.plotY)),r&&r[e?"show":"hide"]()),this.state=e)}};var Kt=function(){};Kt.prototype={isCartesian:!0,type:"line",pointClass:Jt,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function(t,i){var n,o;o=t.series.length,this.chart=t,i=this.setOptions(i),e(this,{index:o,options:i,name:i.name||"Series "+(o+1),state:xt,pointAttr:{},visible:i.visible!==!1,selected:i.selected===!0}),o=i.events;for(n in o)Lt(this,n,o[n]);(o&&o.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(t.runTrackerClick=!0),this.getColor(),this.getSymbol(),this.setData(i.data,!1)},autoIncrement:function(){var e=this.options,t=this.xIncrement;return t=u(t,e.pointStart,0),this.pointInterval=u(this.pointInterval,e.pointInterval,1),this.xIncrement=t+this.pointInterval,t},cleanData:function(){var e,t,i,n,o=this.chart,s=this.data,r=o.smallestInterval;if(b(s,function(e,t){return e.x-t.x}),this.options.connectNulls)for(n=s.length-1;n>=0;n--)null===s[n].y&&s[n-1]&&s[n+1]&&s.splice(n,1);for(n=s.length-1;n>=0;n--)s[n-1]&&(i=s[n].x-s[n-1].x,i>0&&(t===I||t>i)&&(t=i,e=n));(r===I||r>t)&&(o.smallestInterval=t),this.closestPoints=e},getSegments:function(){var e=-1,t=[],i=this.data;Nt(i,function(n,o){null===n.y?(o>e+1&&t.push(i.slice(e+1,o)),e=o):o===i.length-1&&t.push(i.slice(e+1,o+1))}),this.segments=t},setOptions:function(e){var t=this.chart.options.plotOptions;return Dt(t[this.type],t.series,e)},getColor:function(){var e=this.chart.options.colors,t=this.chart.counters;this.color=this.options.color||e[t.color++]||"#0000ff",t.wrapColor(e.length)},getSymbol:function(){var e=this.chart.options.symbols,t=this.chart.counters;this.symbol=this.options.marker.symbol||e[t.symbol++],t.wrapSymbol(e.length)},addPoint:function(e,t,i,n){var o=this.data,s=this.graph,r=this.area,a=this.chart;e=(new this.pointClass).init(this,e),_(n,a),s&&i&&(s.shift=i),r&&(r.shift=i,r.isArea=!0),t=u(t,!0),o.push(e),i&&o[0].remove(!1),this.getAttribs(),this.isDirty=!0,t&&a.redraw()},setData:function(e,t){var i=this,n=i.data,o=i.initialColor,s=i.chart,r=n&&n.length||0;for(i.xIncrement=null,a(o)&&(s.counters.color=o),e=It(d(e||[]),function(e){return(new i.pointClass).init(i,e)});r--;)n[r].destroy();i.data=e,i.cleanData(),i.getSegments(),i.getAttribs(),i.isDirty=!0,s.isDirtyBox=!0,u(t,!0)&&s.redraw(!1)},remove:function(e,t){var i=this,n=i.chart;e=u(e,!0),i.isRemoving||(i.isRemoving=!0,Rt(i,"remove",null,function(){i.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,e&&n.redraw(t)})),i.isRemoving=!1},translate:function(){for(var e=this.chart,t=this.options.stacking,i=this.xAxis.categories,n=this.yAxis,o=this.data,s=o.length;s--;){var r=o[s],l=r.x,d=r.y,u=r.low,c=n.stacks[(0>d?"-":"")+this.stackKey];r.plotX=this.xAxis.translate(l),t&&this.visible&&c&&c[l]&&(u=c[l],l=u.total,u.cum=u=u.cum-d,d=u+d,"percent"===t&&(u=l?100*u/l:0,d=l?100*d/l:0),r.percentage=l?100*r.y/l:0,r.stackTotal=l),a(u)&&(r.yBottom=n.translate(u,0,1,0,1)),null!==d&&(r.plotY=n.translate(d,0,1,0,1)),r.clientX=e.inverted?e.plotHeight-r.plotX:r.plotX,r.category=i&&i[r.x]!==I?i[r.x]:r.x}},setTooltipPoints:function(e){var t,i,n=this.chart,o=n.inverted,s=[],r=V((o?n.plotTop:n.plotLeft)+n.plotSizeX),a=[];e&&(this.tooltipPoints=null),Nt(this.segments,function(e){s=s.concat(e)}),this.xAxis&&this.xAxis.reversed&&(s=s.reverse()),Nt(s,function(e,n){for(t=s[n-1]?s[n-1]._high+1:0,i=e._high=s[n+1]?Q((e.plotX+(s[n+1]?s[n+1].plotX:r))/2):r;i>=t;)a[o?r-t++:t++]=e}),this.tooltipPoints=a},onMouseOver:function(){var e=this.chart,t=e.hoverSeries;(ut||!e.mouseIsDown)&&(t&&t!==this&&t.onMouseOut(),this.options.events.mouseOver&&Rt(this,"mouseOver"),this.tracker&&this.tracker.toFront(),this.setState(At),e.hoverSeries=this)},onMouseOut:function(){var e=this.options,t=this.chart,i=t.tooltip,n=t.hoverPoint;n&&n.onMouseOut(),this&&e.events.mouseOut&&Rt(this,"mouseOut"),i&&!e.stickyTracking&&i.hide(),this.setState(),t.hoverSeries=null},animate:function(e){var t=this.chart,i=this.clipRect,o=this.options.animation;o&&!n(o)&&(o={}),e?i.isAnimating||(i.attr("width",0),i.isAnimating=!0):(i.animate({width:t.plotSizeX},o),this.animate=null)},drawPoints:function(){var e,t,i,n,o,s,r,a=this.data,l=this.chart;if(this.options.marker.enabled)for(n=a.length;n--;)o=a[n],t=o.plotX,i=o.plotY,r=o.graphic,i===I||isNaN(i)||(e=o.pointAttr[o.selected?"select":xt],s=e.r,r?r.animate({x:t,y:i,r:s}):o.graphic=l.renderer.symbol(u(o.marker&&o.marker.symbol,this.symbol),t,i,s).attr(e).add(this.group))},convertAttribs:function(e,t,i,n){var o,s,r=this.pointAttrToOptions,a={};e=e||{},t=t||{},i=i||{},n=n||{};for(o in r)s=r[o],a[o]=u(e[s],t[o],i[o],n[o]);return a},getAttribs:function(){var e,t,i,n=this,o=Qt[n.type].marker?n.options.marker:n.options,s=o.states,r=s[At],l=n.color,d={stroke:l,fill:l},u=n.data,c=[],h=n.pointAttrToOptions;for(n.options.marker?(r.radius=r.radius||o.radius+2,r.lineWidth=r.lineWidth||o.lineWidth+1):r.color=r.color||Gt(r.color||l).brighten(r.brightness).get(),c[xt]=n.convertAttribs(o,d),Nt([At,"select"],function(e){c[e]=n.convertAttribs(s[e],c[xt])}),n.pointAttr=c,l=u.length;l--;){if(d=u[l],(o=d.options&&d.options.marker||d.options)&&o.enabled===!1&&(o.radius=0),e=!1,d.options)for(i in h)a(o[h[i]])&&(e=!0);e?(t=[],s=o.states||{},e=s[At]=s[At]||{},n.options.marker||(e.color=Gt(e.color||d.options.color).brighten(e.brightness||r.brightness).get()),t[xt]=n.convertAttribs(o,c[xt]),t[At]=n.convertAttribs(s[At],c[At],t[xt]),t.select=n.convertAttribs(s.select,c.select,t[xt])):t=c,d.pointAttr=t}},destroy:function(){var e,t,i=this,n=i.chart,o=i.clipRect,s=/\/5[0-9\.]+ (Safari|Mobile)\//.test(nt);Rt(i,"destroy"),Pt(i),i.legendItem&&i.chart.legend.destroyItem(i),Nt(i.data,function(e){e.destroy()}),o&&o!==n.clipRect&&(i.clipRect=o.destroy()),Nt(["area","graph","dataLabelsGroup","group","tracker"],function(t){i[t]&&(e=s&&"group"===t?"hide":"destroy",i[t][e]())}),n.hoverSeries===i&&(n.hoverSeries=null),r(n.series,i);for(t in i)delete i[t]},drawDataLabels:function(){if(this.options.dataLabels.enabled){var e,i,n,o,s=this.data,r=this.options,l=r.dataLabels,d=this.dataLabelsGroup,c=this.chart,h=c.renderer,p=c.inverted,f=this.type;o=r.stacking;var m="column"===f||"bar"===f,g=null===l.verticalAlign,v=null===l.y;m&&(o?(g&&(l=Dt(l,{verticalAlign:"middle"})),v&&(l=Dt(l,{y:{top:14,middle:4,bottom:-6}[l.verticalAlign]}))):g&&(l=Dt(l,{verticalAlign:"top"}))),d?d.translate(c.plotLeft,c.plotTop):d=this.dataLabelsGroup=h.g("data-labels").attr({visibility:this.visible?yt:vt,zIndex:6}).translate(c.plotLeft,c.plotTop).add(),o=l.color,"auto"===o&&(o=null),l.style.color=u(o,this.color,"black"),Nt(s,function(o){var s=o.barX,g=s&&s+o.barW/2||o.plotX||-999,b=u(o.plotY,-999),y=o.dataLabel,_=l.align,w=v?o.y>=0?-6:12:l.y;n=l.formatter.call(o.getLabelConfig()),e=(p?c.plotWidth-b:g)+l.x,i=(p?c.plotHeight-g:b)+w,"column"===f&&(e+={left:-1,right:1}[_]*o.barW/2||0),p&&o.y<0&&(_="right",e-=10),y?(p&&!l.y&&(i=i+.9*t(y.styles.lineHeight)-y.getBBox().height/2),y.attr({text:n}).animate({x:e,y:i})):a(n)&&(y=o.dataLabel=h.text(n,e,i).attr({align:_,rotation:l.rotation,zIndex:1}).css(l.style).add(d),p&&!l.y&&y.attr({y:i+.9*t(y.styles.lineHeight)-y.getBBox().height/2})),m&&r.stacking&&y&&(g=o.barY,b=o.barW,o=o.barH,y.align(l,null,{x:p?c.plotWidth-g-o:s,y:p?c.plotHeight-s-b:g,width:p?o:b,height:p?b:o}))})}},drawGraph:function(){var e,t,i=this,n=i.options,o=i.graph,s=[],r=i.area,a=i.group,l=n.lineColor||i.color,d=n.lineWidth,c=n.dashStyle,h=i.chart.renderer,p=i.yAxis.getThreshold(n.threshold||0),f=/^area/.test(i.type),m=[],g=[];Nt(i.segments,function(e){if(t=[],Nt(e,function(o,s){i.getPointSpline?t.push.apply(t,i.getPointSpline(e,o,s)):(t.push(s?St:Ct),s&&n.step&&t.push(o.plotX,e[s-1].plotY),t.push(o.plotX,o.plotY))}),e.length>1?s=s.concat(t):m.push(e[0]),f){var o,r=[],a=t.length;for(o=0;a>o;o++)r.push(t[o]);if(3===a&&r.push(St,t[1],t[2]),n.stacking&&"areaspline"!==i.type)for(o=e.length-1;o>=0;o--)r.push(e[o].plotX,e[o].yBottom);else r.push(St,e[e.length-1].plotX,p,St,e[0].plotX,p);g=g.concat(r)}}),i.graphPath=s,i.singlePoints=m,f&&(e=u(n.fillColor,Gt(i.color).setOpacity(n.fillOpacity||.75).get()),r?r.animate({d:g}):i.area=i.chart.renderer.path(g).attr({fill:e}).add(a)),o?(Ot(o),o.animate({d:s})):d&&(o={stroke:l,"stroke-width":d},c&&(o.dashstyle=c),i.graph=h.path(s).attr(o).add(a).shadow(n.shadow))},render:function(){var e,t,i=this,n=i.chart,o=i.options,s=o.animation,r=s&&i.animate;s=r?s&&s.duration||500:0;var a=i.clipRect,l=n.renderer;a||(a=i.clipRect=!n.hasRendered&&n.clipRect?n.clipRect:l.clipRect(0,0,n.plotSizeX,n.plotSizeY),n.clipRect||(n.clipRect=a)),i.group||(e=i.group=l.g("series"),n.inverted&&(t=function(){e.attr({width:n.plotWidth,height:n.plotHeight}).invert()},t(),Lt(n,"resize",t),Lt(i,"destroy",function(){Pt(n,"resize",t)})),e.clip(i.clipRect).attr({visibility:i.visible?yt:vt,zIndex:o.zIndex}).translate(n.plotLeft,n.plotTop).add(n.seriesGroup)),i.drawDataLabels(),r&&i.animate(!0),i.drawGraph&&i.drawGraph(),i.drawPoints(),i.options.enableMouseTracking!==!1&&i.drawTracker(),r&&i.animate(),setTimeout(function(){a.isAnimating=!1,(e=i.group)&&a!==n.clipRect&&a.renderer&&(e.clip(i.clipRect=n.clipRect),a.destroy())},s),i.isDirty=!1},redraw:function(){var e=this.chart,t=this.group;t&&(e.inverted&&t.attr({width:e.plotWidth,height:e.plotHeight}),t.animate({translateX:e.plotLeft,translateY:e.plotTop})),this.translate(),this.setTooltipPoints(!0),this.render()},setState:function(e){var t=this.options,i=this.graph,n=t.states;t=t.lineWidth,e=e||xt,this.state!==e&&(this.state=e,n[e]&&n[e].enabled===!1||(e&&(t=n[e].lineWidth||t+1),i&&!i.dashstyle&&i.attr({"stroke-width":t},e?0:500)))},setVisible:function(e,t){var i,n=this.chart,o=this.legendItem,s=this.group,r=this.tracker,a=this.dataLabelsGroup,l=this.data,d=n.options.chart.ignoreHiddenSeries;if(i=this.visible,i=(this.visible=e=e===I?!i:e)?"show":"hide",s&&s[i](),r)r[i]();else for(s=l.length;s--;)r=l[s],r.tracker&&r.tracker[i]();a&&a[i](),o&&n.legend.colorizeItem(this,e),this.isDirty=!0,this.options.stacking&&Nt(n.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),d&&(n.isDirtyBox=!0),t!==!1&&n.redraw(),Rt(this,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=e===I?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),Rt(this,e?"select":"unselect")},drawTracker:function(){var e=this,t=e.options,i=[].concat(e.graphPath),n=i.length,o=e.chart,s=o.options.tooltip.snap,r=e.tracker,a=t.cursor;a=a&&{cursor:a};var l,d=e.singlePoints;if(n)for(l=n+1;l--;)i[l]===Ct&&i.splice(l+1,0,i[l+1]-s,i[l+2],St),(l&&i[l]===Ct||l===n)&&i.splice(l,0,St,i[l-2]+s,i[l-1]);for(l=0;l<d.length;l++)n=d[l],i.push(Ct,n.plotX-s,n.plotY,St,n.plotX+s,n.plotY);r?r.attr({d:i}):e.tracker=o.renderer.path(i).attr({isTracker:!0,stroke:Et,fill:wt,"stroke-width":t.lineWidth+2*s,visibility:e.visible?yt:vt,zIndex:t.zIndex||1}).on(ut?"touchstart":"mouseover",function(){o.hoverSeries!==e&&e.onMouseOver()}).on("mouseout",function(){t.stickyTracking||e.onMouseOut()}).css(a).add(o.trackerGroup)}},Tt=p(Kt),Mt.line=Tt,Tt=p(Kt,{type:"area"}),Mt.area=Tt,Tt=p(Kt,{type:"spline",getPointSpline:function(e,t,i){var n,o,s,r,a=t.plotX,l=t.plotY,d=e[i-1],u=e[i+1];if(i&&i<e.length-1){e=d.plotY,s=u.plotX,u=u.plotY;var c;n=(1.5*a+d.plotX)/2.5,o=(1.5*l+e)/2.5,s=(1.5*a+s)/2.5,r=(1.5*l+u)/2.5,c=(r-o)*(s-a)/(s-n)+l-r,o+=c,r+=c,o>e&&o>l?(o=X(e,l),r=2*l-o):e>o&&l>o&&(o=J(e,l),r=2*l-o),r>u&&r>l?(r=X(u,l),o=2*l-r):u>r&&l>r&&(r=J(u,l),o=2*l-r),t.rightContX=s,t.rightContY=r}return i?(t=["C",d.rightContX||d.plotX,d.rightContY||d.plotY,n||a,o||l,a,l],d.rightContX=d.rightContY=null):t=[Ct,a,l],t}}),Mt.spline=Tt,Tt=p(Tt,{type:"areaspline"}),Mt.areaspline=Tt;var Zt=p(Kt,{type:"column",pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},init:function(){Kt.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasColumn=!0,t.hasRendered&&Nt(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},translate:function(){var t,i,n=this,o=n.chart,s=n.options,r=s.stacking,l=s.borderWidth,d=0,c=n.xAxis.reversed,h=n.xAxis.categories,p={};Kt.prototype.translate.apply(n),Nt(o.series,function(e){e.type===n.type&&e.visible&&(e.options.stacking?(t=e.stackKey,p[t]===I&&(p[t]=d++),i=p[t]):i=d++,e.columnIndex=i)});var f=n.data,m=n.closestPoints;h=K(f[1]?f[m].plotX-f[m-1].plotX:o.plotSizeX/(h&&h.length||1)),m=h*s.groupPadding;var g=(h-2*m)/d,v=s.pointWidth,b=a(v)?(g-v)/2:g*s.pointPadding,y=X(u(v,g-2*b),1),_=b+(m+((c?d-n.columnIndex:n.columnIndex)||0)*g-h/2)*(c?-1:1),w=n.yAxis.getThreshold(s.threshold||0),C=u(s.minPointLength,5);Nt(f,function(t){var i,d=t.plotY,u=t.yBottom||w,c=t.plotX+_,h=G(J(d,u)),p=G(X(d,u)-h),f=n.yAxis.stacks[(t.y<0?"-":"")+n.stackKey];r&&n.visible&&f&&f[t.x]&&f[t.x].setOffset(_,y),K(p)<C&&(C&&(p=C,h=K(h-w)>C?u-C:w-(w>=d?C:0)),i=h-3),e(t,{barX:c,barY:h,barW:y,barH:p}),t.shapeType="rect",d=e(o.renderer.Element.prototype.crisp.apply({},[l,c,h,y,p]),{r:s.borderRadius}),l%2&&(d.y-=1,d.height+=1),t.shapeArgs=d,t.trackerArgs=a(i)&&Dt(t.shapeArgs,{height:X(6,p+3),y:i})})},getSymbol:function(){},drawGraph:function(){},drawPoints:function(){var e,t,i=this,n=i.options,o=i.chart.renderer;Nt(i.data,function(s){var r=s.plotY;r===I||isNaN(r)||null===s.y||(e=s.graphic,t=s.shapeArgs,e?(Ot(e),e.animate(t)):s.graphic=o[s.shapeType](t).attr(s.pointAttr[s.selected?"select":xt]).add(i.group).shadow(n.shadow))})},drawTracker:function(){var e,t,i,n=this,o=n.chart,s=o.renderer,r=+new Date,a=n.options,d=a.cursor,u=d&&{cursor:d};Nt(n.data,function(d){t=d.tracker,e=d.trackerArgs||d.shapeArgs,delete e.strokeWidth,null!==d.y&&(t?t.attr(e):d.tracker=s[d.shapeType](e).attr({isTracker:r,fill:Et,visibility:n.visible?yt:vt,zIndex:a.zIndex||1}).on(ut?"touchstart":"mouseover",function(e){i=e.relatedTarget||e.fromElement,o.hoverSeries!==n&&l(i,"isTracker")!==r&&n.onMouseOver(),d.onMouseOver()}).on("mouseout",function(e){a.stickyTracking||(i=e.relatedTarget||e.toElement,l(i,"isTracker")!==r&&n.onMouseOut())}).css(u).add(d.group||o.trackerGroup))})},animate:function(e){var t=this,i=t.data;e||(Nt(i,function(e){var i=e.graphic;e=e.shapeArgs,i&&(i.attr({height:0,y:t.yAxis.translate(0,0,1)}),i.animate({height:e.height,y:e.y},t.options.animation))}),t.animate=null)},remove:function(){var e=this,t=e.chart;t.hasRendered&&Nt(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),Kt.prototype.remove.apply(e,arguments)}});Mt.column=Zt,Tt=p(Zt,{type:"bar",init:function(e){e.inverted=this.inverted=!0,Zt.prototype.init.apply(this,arguments)}}),Mt.bar=Tt,Tt=p(Kt,{type:"scatter",translate:function(){var e=this;Kt.prototype.translate.apply(e),Nt(e.data,function(t){t.shapeType="circle",t.shapeArgs={x:t.plotX,y:t.plotY,r:e.chart.options.tooltip.snap}})},drawTracker:function(){var e,t=this,i=t.options.cursor,n=i&&{cursor:i};Nt(t.data,function(i){(e=i.graphic)&&e.attr({isTracker:!0}).on("mouseover",function(){t.onMouseOver(),i.onMouseOver()}).on("mouseout",function(){t.options.stickyTracking||t.onMouseOut()}).css(n)})},cleanData:function(){}}),Mt.scatter=Tt,Tt=p(Jt,{init:function(){Jt.prototype.init.apply(this,arguments);var t,i=this;return e(i,{visible:i.visible!==!1,name:u(i.name,"Slice")}),t=function(){i.slice()},Lt(i,"select",t),Lt(i,"unselect",t),i},setVisible:function(e){var t,i=this.series.chart,n=this.tracker,o=this.dataLabel,s=this.connector,r=this.shadowGroup;t=(this.visible=e=e===I?!this.visible:e)?"show":"hide",this.group[t](),n&&n[t](),o&&o[t](),s&&s[t](),r&&r[t](),this.legendItem&&i.legend.colorizeItem(this,e)},slice:function(e,t,i){var n=this.series.chart,o=this.slicedTranslation;_(i,n),u(t,!0),e=this.sliced=a(e)?e:!this.sliced,e={translateX:e?o[0]:n.plotLeft,translateY:e?o[1]:n.plotTop},this.group.animate(e),this.shadowGroup&&this.shadowGroup.animate(e)}}),Tt=p(Kt,{type:"pie",isCartesian:!1,pointClass:Tt,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=this.chart.counters.color},animate:function(){var e=this;Nt(e.data,function(t){var i=t.graphic;t=t.shapeArgs;var n=-tt/2;i&&(i.attr({r:0,start:n,end:n}),i.animate({r:t.r,start:t.start,end:t.end},e.options.animation))}),e.animate=null},translate:function(){var e,i,n,o,s,r,a,l=0,d=-.25,u=this.options,c=u.slicedOffset,h=c+u.borderWidth,p=u.center.concat([u.size,u.innerSize||0]),f=this.chart,m=f.plotWidth,g=f.plotHeight,v=this.data,b=2*tt,y=J(m,g),_=u.dataLabels.distance;p=It(p,function(e,i){return(s=/%$/.test(e))?[m,g,y,y][i]*t(e)/100:e}),this.getX=function(e,t){return n=Y.asin((e-p[1])/(p[2]/2+_)),p[0]+(t?-1:1)*Z(n)*(p[2]/2+_)},this.center=p,Nt(v,function(e){l+=e.y}),Nt(v,function(t){o=l?t.y/l:0,e=V(1e3*d*b)/1e3,d+=o,i=V(1e3*d*b)/1e3,t.shapeType="arc",t.shapeArgs={x:p[0],y:p[1],r:p[2]/2,innerR:p[3]/2,start:e,end:i},n=(i+e)/2,t.slicedTranslation=It([Z(n)*c+f.plotLeft,et(n)*c+f.plotTop],V),r=Z(n)*p[2]/2,a=et(n)*p[2]/2,t.tooltipPos=[p[0]+.7*r,p[1]+.7*a],t.labelPos=[p[0]+r+Z(n)*_,p[1]+a+et(n)*_,p[0]+r+Z(n)*h,p[1]+a+et(n)*h,p[0]+r,p[1]+a,0>_?"center":b/4>n?"left":"right",n],t.percentage=100*o,t.total=l}),this.setTooltipPoints()},render:function(){this.drawPoints(),this.options.enableMouseTracking!==!1&&this.drawTracker(),this.drawDataLabels(),this.options.animation&&this.animate&&this.animate(),this.isDirty=!1},drawPoints:function(){var t,i,n,o,s,r=this.chart,a=r.renderer,l=this.options.shadow;Nt(this.data,function(d){i=d.graphic,s=d.shapeArgs,n=d.group,o=d.shadowGroup,l&&!o&&(o=d.shadowGroup=a.g("shadow").attr({zIndex:4}).add()),n||(n=d.group=a.g("point").attr({zIndex:5}).add()),t=d.sliced?d.slicedTranslation:[r.plotLeft,r.plotTop],n.translate(t[0],t[1]),o&&o.translate(t[0],t[1]),i?i.animate(s):d.graphic=a.arc(s).attr(e(d.pointAttr[xt],{"stroke-linejoin":"round"})).add(d.group).shadow(l,o),d.visible===!1&&d.setVisible(!1)})},drawDataLabels:function(){var e,i,n,o=this.data,s=this.chart,r=this.options.dataLabels,a=u(r.connectorPadding,10),l=u(r.connectorWidth,1),d=u(r.softConnector,!0),c=r.distance,h=this.center,p=h[2]/2;h=h[1];var f,m,g,v,b,y=c>0,_=[[],[]],w=2;if(r.enabled)for(Kt.prototype.drawDataLabels.apply(this),Nt(o,function(e){e.dataLabel&&_[e.labelPos[7]<tt/2?0:1].push(e)}),_[1].reverse(),v=function(e,t){return t.y-e.y},o=_[0][0]&&_[0][0].dataLabel&&t(_[0][0].dataLabel.styles.lineHeight);w--;){var C,S=[],E=[],x=_[w],A=x.length;for(b=h-p-c;h+p+c>=b;b+=o)S.push(b);if(g=S.length,A>g){for(n=[].concat(x),n.sort(v),b=A;b--;)n[b].rank=b;for(b=A;b--;)x[b].rank>=g&&x.splice(b,1);A=x.length}for(b=0;A>b;b++){for(e=x[b],n=e.labelPos,e=9999,m=0;g>m;m++)i=K(S[m]-n[1]),e>i&&(e=i,C=m);if(b>C&&null!==S[b])C=b;else for(A-b+C>g&&null!==S[b]&&(C=g-A+b);null===S[C];)C++;E.push({i:C,y:S[C]}),S[C]=null}for(E.sort(v),b=0;A>b;b++)e=x[b],n=e.labelPos,i=e.dataLabel,m=E.pop(),f=n[1],g=e.visible===!1?vt:yt,C=m.i,m=m.y,(f>m&&null!==S[C+1]||m>f&&null!==S[C-1])&&(m=f),f=this.getX(0===C||C===S.length-1?f:m,w),i.attr({visibility:g,align:n[6]})[i.moved?"animate":"attr"]({x:f+r.x+({left:a,right:-a}[n[6]]||0),y:m+r.y}),i.moved=!0,y&&l&&(i=e.connector,n=d?[Ct,f+("left"===n[6]?5:-5),m,"C",f,m,2*n[2]-n[4],2*n[3]-n[5],n[2],n[3],St,n[4],n[5]]:[Ct,f+("left"===n[6]?5:-5),m,St,n[2],n[3],St,n[4],n[5]],i?(i.animate({d:n}),i.attr("visibility",g)):e.connector=i=this.chart.renderer.path(n).attr({"stroke-width":l,stroke:r.connectorColor||e.color||"#606060",visibility:g,zIndex:3}).translate(s.plotLeft,s.plotTop).add())}},drawTracker:Zt.prototype.drawTracker,getSymbol:function(){}}),Mt.pie=Tt,q.Highcharts={Chart:E,dateFormat:k,pathAnim:U,getOptions:function(){return T},hasRtlBug:dt,numberFormat:f,Point:Jt,Color:Gt,Renderer:x,seriesTypes:Mt,setOptions:function(e){return T=Dt(T,e),w(),T},Series:Kt,addEvent:Lt,removeEvent:Pt,createElement:h,discardElement:C,css:c,each:Nt,extend:e,map:It,merge:Dt,pick:u,extendClass:p,product:"Highcharts",version:"2.1.9"}}();var SWFUpload;"function"==typeof SWFUpload&&(SWFUpload.queue={},SWFUpload.prototype.initSettings=function(e){return function(){"function"==typeof e&&e.call(this),this.queueSettings={},this.queueSettings.queue_cancelled_flag=!1,this.queueSettings.queue_upload_count=0,this.queueSettings.user_upload_complete_handler=this.settings.upload_complete_handler,this.queueSettings.user_upload_start_handler=this.settings.upload_start_handler,this.settings.upload_complete_handler=SWFUpload.queue.uploadCompleteHandler,this.settings.upload_start_handler=SWFUpload.queue.uploadStartHandler,this.settings.queue_complete_handler=this.settings.queue_complete_handler||null}}(SWFUpload.prototype.initSettings),SWFUpload.prototype.startUpload=function(e){this.queueSettings.queue_cancelled_flag=!1,this.callFlash("StartUpload",[e])},SWFUpload.prototype.cancelQueue=function(){this.queueSettings.queue_cancelled_flag=!0,this.stopUpload();for(var e=this.getStats();e.files_queued>0;)this.cancelUpload(),e=this.getStats()},SWFUpload.queue.uploadStartHandler=function(e){var t;return"function"==typeof this.queueSettings.user_upload_start_handler&&(t=this.queueSettings.user_upload_start_handler.call(this,e)),t=t===!1?!1:!0,this.queueSettings.queue_cancelled_flag=!t,t},SWFUpload.queue.uploadCompleteHandler=function(e){var t,i=this.queueSettings.user_upload_complete_handler;if(e.filestatus===SWFUpload.FILE_STATUS.COMPLETE&&this.queueSettings.queue_upload_count++,t="function"==typeof i?i.call(this,e)===!1?!1:!0:e.filestatus===SWFUpload.FILE_STATUS.QUEUED?!1:!0){var n=this.getStats();n.files_queued>0&&this.queueSettings.queue_cancelled_flag===!1?this.startUpload():this.queueSettings.queue_cancelled_flag===!1?(this.queueEvent("queue_complete_handler",[this.queueSettings.queue_upload_count]),this.queueSettings.queue_upload_count=0):(this.queueSettings.queue_cancelled_flag=!1,this.queueSettings.queue_upload_count=0)}});var SWFUpload;void 0==SWFUpload&&(SWFUpload=function(e){this.initSWFUpload(e)}),SWFUpload.prototype.initSWFUpload=function(e){try{this.customSettings={},this.settings=e,this.eventQueue=[],this.movieName="SWFUpload_"+SWFUpload.movieCount++,this.movieElement=null,SWFUpload.instances[this.movieName]=this,this.initSettings(),this.loadFlash(),this.displayDebugInfo()}catch(t){throw delete SWFUpload.instances[this.movieName],t}},SWFUpload.instances={},SWFUpload.movieCount=0,SWFUpload.version="2.2.0 2009-03-25",SWFUpload.QUEUE_ERROR={QUEUE_LIMIT_EXCEEDED:-100,FILE_EXCEEDS_SIZE_LIMIT:-110,ZERO_BYTE_FILE:-120,INVALID_FILETYPE:-130},SWFUpload.UPLOAD_ERROR={HTTP_ERROR:-200,MISSING_UPLOAD_URL:-210,IO_ERROR:-220,SECURITY_ERROR:-230,UPLOAD_LIMIT_EXCEEDED:-240,UPLOAD_FAILED:-250,SPECIFIED_FILE_ID_NOT_FOUND:-260,FILE_VALIDATION_FAILED:-270,FILE_CANCELLED:-280,UPLOAD_STOPPED:-290},SWFUpload.FILE_STATUS={QUEUED:-1,IN_PROGRESS:-2,ERROR:-3,COMPLETE:-4,CANCELLED:-5},SWFUpload.BUTTON_ACTION={SELECT_FILE:-100,SELECT_FILES:-110,START_UPLOAD:-120},SWFUpload.CURSOR={ARROW:-1,HAND:-2},SWFUpload.WINDOW_MODE={WINDOW:"window",TRANSPARENT:"transparent",OPAQUE:"opaque"},SWFUpload.completeURL=function(e){if("string"!=typeof e||e.match(/^https?:\/\//i)||e.match(/^\//))return e;
window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");var t=window.location.pathname.lastIndexOf("/");return path=0>=t?"/":window.location.pathname.substr(0,t)+"/",path+e},SWFUpload.prototype.initSettings=function(){this.ensureDefault=function(e,t){this.settings[e]=void 0==this.settings[e]?t:this.settings[e]},this.ensureDefault("upload_url",""),this.ensureDefault("preserve_relative_urls",!1),this.ensureDefault("file_post_name","Filedata"),this.ensureDefault("post_params",{}),this.ensureDefault("use_query_string",!1),this.ensureDefault("requeue_on_error",!1),this.ensureDefault("http_success",[]),this.ensureDefault("assume_success_timeout",0),this.ensureDefault("file_types","*.*"),this.ensureDefault("file_types_description","All Files"),this.ensureDefault("file_size_limit",0),this.ensureDefault("file_upload_limit",0),this.ensureDefault("file_queue_limit",0),this.ensureDefault("flash_url","swfupload.swf"),this.ensureDefault("prevent_swf_caching",!0),this.ensureDefault("button_image_url",""),this.ensureDefault("button_width",1),this.ensureDefault("button_height",1),this.ensureDefault("button_text",""),this.ensureDefault("button_text_style","color: #000000; font-size: 16pt;"),this.ensureDefault("button_text_top_padding",0),this.ensureDefault("button_text_left_padding",0),this.ensureDefault("button_action",SWFUpload.BUTTON_ACTION.SELECT_FILES),this.ensureDefault("button_disabled",!1),this.ensureDefault("button_placeholder_id",""),this.ensureDefault("button_placeholder",null),this.ensureDefault("button_cursor",SWFUpload.CURSOR.ARROW),this.ensureDefault("button_window_mode",SWFUpload.WINDOW_MODE.WINDOW),this.ensureDefault("debug",!1),this.settings.debug_enabled=this.settings.debug,this.settings.return_upload_start_handler=this.returnUploadStart,this.ensureDefault("swfupload_loaded_handler",null),this.ensureDefault("file_dialog_start_handler",null),this.ensureDefault("file_queued_handler",null),this.ensureDefault("file_queue_error_handler",null),this.ensureDefault("file_dialog_complete_handler",null),this.ensureDefault("upload_start_handler",null),this.ensureDefault("upload_progress_handler",null),this.ensureDefault("upload_error_handler",null),this.ensureDefault("upload_success_handler",null),this.ensureDefault("upload_complete_handler",null),this.ensureDefault("debug_handler",this.debugMessage),this.ensureDefault("custom_settings",{}),this.customSettings=this.settings.custom_settings,this.settings.prevent_swf_caching&&(this.settings.flash_url=this.settings.flash_url+(this.settings.flash_url.indexOf("?")<0?"?":"&")+"preventswfcaching="+(new Date).getTime()),this.settings.preserve_relative_urls||(this.settings.upload_url=SWFUpload.completeURL(this.settings.upload_url),this.settings.button_image_url=SWFUpload.completeURL(this.settings.button_image_url)),delete this.ensureDefault},SWFUpload.prototype.loadFlash=function(){var e,t;if(null!==document.getElementById(this.movieName))throw"ID "+this.movieName+" is already in use. The Flash Object could not be added";if(e=document.getElementById(this.settings.button_placeholder_id)||this.settings.button_placeholder,void 0==e)throw"Could not find the placeholder element: "+this.settings.button_placeholder_id;t=document.createElement("div"),t.innerHTML=this.getFlashHTML(),e.parentNode.replaceChild(t.firstChild,e),void 0==window[this.movieName]&&(window[this.movieName]=this.getMovieElement())},SWFUpload.prototype.getFlashHTML=function(){return['<object id="',this.movieName,'" type="application/x-shockwave-flash" data="',this.settings.flash_url,'" width="',this.settings.button_width,'" height="',this.settings.button_height,'" class="swfupload">','<param name="wmode" value="',this.settings.button_window_mode,'" />','<param name="movie" value="',this.settings.flash_url,'" />','<param name="quality" value="high" />','<param name="menu" value="false" />','<param name="allowScriptAccess" value="always" />','<param name="wmode" value="transparent" />','<param name="flashvars" value="'+this.getFlashVars()+'" />',"</object>"].join("")},SWFUpload.prototype.getFlashVars=function(){var e=this.buildParamString(),t=this.settings.http_success.join(",");return["movieName=",encodeURIComponent(this.movieName),"&amp;uploadURL=",encodeURIComponent(this.settings.upload_url),"&amp;useQueryString=",encodeURIComponent(this.settings.use_query_string),"&amp;requeueOnError=",encodeURIComponent(this.settings.requeue_on_error),"&amp;httpSuccess=",encodeURIComponent(t),"&amp;assumeSuccessTimeout=",encodeURIComponent(this.settings.assume_success_timeout),"&amp;params=",encodeURIComponent(e),"&amp;filePostName=",encodeURIComponent(this.settings.file_post_name),"&amp;fileTypes=",encodeURIComponent(this.settings.file_types),"&amp;fileTypesDescription=",encodeURIComponent(this.settings.file_types_description),"&amp;fileSizeLimit=",encodeURIComponent(this.settings.file_size_limit),"&amp;fileUploadLimit=",encodeURIComponent(this.settings.file_upload_limit),"&amp;fileQueueLimit=",encodeURIComponent(this.settings.file_queue_limit),"&amp;debugEnabled=",encodeURIComponent(this.settings.debug_enabled),"&amp;buttonImageURL=",encodeURIComponent(this.settings.button_image_url),"&amp;buttonWidth=",encodeURIComponent(this.settings.button_width),"&amp;buttonHeight=",encodeURIComponent(this.settings.button_height),"&amp;buttonText=",encodeURIComponent(this.settings.button_text),"&amp;buttonTextTopPadding=",encodeURIComponent(this.settings.button_text_top_padding),"&amp;buttonTextLeftPadding=",encodeURIComponent(this.settings.button_text_left_padding),"&amp;buttonTextStyle=",encodeURIComponent(this.settings.button_text_style),"&amp;buttonAction=",encodeURIComponent(this.settings.button_action),"&amp;buttonDisabled=",encodeURIComponent(this.settings.button_disabled),"&amp;buttonCursor=",encodeURIComponent(this.settings.button_cursor)].join("")},SWFUpload.prototype.getMovieElement=function(){if(void 0==this.movieElement&&(this.movieElement=document.getElementById(this.movieName)),null===this.movieElement)throw"Could not find Flash element";return this.movieElement},SWFUpload.prototype.buildParamString=function(){var e=this.settings.post_params,t=[];if("object"==typeof e)for(var i in e)e.hasOwnProperty(i)&&t.push(encodeURIComponent(i.toString())+"="+encodeURIComponent(e[i].toString()));return t.join("&amp;")},SWFUpload.prototype.destroy=function(){try{this.cancelUpload(null,!1);var e=null;if(e=this.getMovieElement(),e&&"unknown"==typeof e.CallFunction){for(var t in e)try{"function"==typeof e[t]&&(e[t]=null)}catch(i){}try{e.parentNode.removeChild(e)}catch(n){}}return window[this.movieName]=null,SWFUpload.instances[this.movieName]=null,delete SWFUpload.instances[this.movieName],this.movieElement=null,this.settings=null,this.customSettings=null,this.eventQueue=null,this.movieName=null,!0}catch(o){return!1}},SWFUpload.prototype.displayDebugInfo=function(){this.debug(["---SWFUpload Instance Info---\n","Version: ",SWFUpload.version,"\n","Movie Name: ",this.movieName,"\n","Settings:\n","	","upload_url:               ",this.settings.upload_url,"\n","	","flash_url:                ",this.settings.flash_url,"\n","	","use_query_string:         ",this.settings.use_query_string.toString(),"\n","	","requeue_on_error:         ",this.settings.requeue_on_error.toString(),"\n","	","http_success:             ",this.settings.http_success.join(", "),"\n","	","assume_success_timeout:   ",this.settings.assume_success_timeout,"\n","	","file_post_name:           ",this.settings.file_post_name,"\n","	","post_params:              ",this.settings.post_params.toString(),"\n","	","file_types:               ",this.settings.file_types,"\n","	","file_types_description:   ",this.settings.file_types_description,"\n","	","file_size_limit:          ",this.settings.file_size_limit,"\n","	","file_upload_limit:        ",this.settings.file_upload_limit,"\n","	","file_queue_limit:         ",this.settings.file_queue_limit,"\n","	","debug:                    ",this.settings.debug.toString(),"\n","	","prevent_swf_caching:      ",this.settings.prevent_swf_caching.toString(),"\n","	","button_placeholder_id:    ",this.settings.button_placeholder_id.toString(),"\n","	","button_placeholder:       ",this.settings.button_placeholder?"Set":"Not Set","\n","	","button_image_url:         ",this.settings.button_image_url.toString(),"\n","	","button_width:             ",this.settings.button_width.toString(),"\n","	","button_height:            ",this.settings.button_height.toString(),"\n","	","button_text:              ",this.settings.button_text.toString(),"\n","	","button_text_style:        ",this.settings.button_text_style.toString(),"\n","	","button_text_top_padding:  ",this.settings.button_text_top_padding.toString(),"\n","	","button_text_left_padding: ",this.settings.button_text_left_padding.toString(),"\n","	","button_action:            ",this.settings.button_action.toString(),"\n","	","button_disabled:          ",this.settings.button_disabled.toString(),"\n","	","custom_settings:          ",this.settings.custom_settings.toString(),"\n","Event Handlers:\n","	","swfupload_loaded_handler assigned:  ",("function"==typeof this.settings.swfupload_loaded_handler).toString(),"\n","	","file_dialog_start_handler assigned: ",("function"==typeof this.settings.file_dialog_start_handler).toString(),"\n","	","file_queued_handler assigned:       ",("function"==typeof this.settings.file_queued_handler).toString(),"\n","	","file_queue_error_handler assigned:  ",("function"==typeof this.settings.file_queue_error_handler).toString(),"\n","	","upload_start_handler assigned:      ",("function"==typeof this.settings.upload_start_handler).toString(),"\n","	","upload_progress_handler assigned:   ",("function"==typeof this.settings.upload_progress_handler).toString(),"\n","	","upload_error_handler assigned:      ",("function"==typeof this.settings.upload_error_handler).toString(),"\n","	","upload_success_handler assigned:    ",("function"==typeof this.settings.upload_success_handler).toString(),"\n","	","upload_complete_handler assigned:   ",("function"==typeof this.settings.upload_complete_handler).toString(),"\n","	","debug_handler assigned:             ",("function"==typeof this.settings.debug_handler).toString(),"\n"].join(""))},SWFUpload.prototype.addSetting=function(e,t,i){return this.settings[e]=void 0==t?i:t},SWFUpload.prototype.getSetting=function(e){return void 0!=this.settings[e]?this.settings[e]:""},SWFUpload.prototype.callFlash=function(functionName,argumentArray){argumentArray=argumentArray||[];var movieElement=this.getMovieElement(),returnValue,returnString;try{returnString=movieElement.CallFunction('<invoke name="'+functionName+'" returntype="javascript">'+__flash__argumentsToXML(argumentArray,0)+"</invoke>"),returnValue=eval(returnString)}catch(ex){throw"Call to "+functionName+" failed"}return void 0!=returnValue&&"object"==typeof returnValue.post&&(returnValue=this.unescapeFilePostParams(returnValue)),returnValue},SWFUpload.prototype.selectFile=function(){this.callFlash("SelectFile")},SWFUpload.prototype.selectFiles=function(){this.callFlash("SelectFiles")},SWFUpload.prototype.startUpload=function(e){this.callFlash("StartUpload",[e])},SWFUpload.prototype.cancelUpload=function(e,t){t!==!1&&(t=!0),this.callFlash("CancelUpload",[e,t])},SWFUpload.prototype.stopUpload=function(){this.callFlash("StopUpload")},SWFUpload.prototype.getStats=function(){return this.callFlash("GetStats")},SWFUpload.prototype.setStats=function(e){this.callFlash("SetStats",[e])},SWFUpload.prototype.getFile=function(e){return"number"==typeof e?this.callFlash("GetFileByIndex",[e]):this.callFlash("GetFile",[e])},SWFUpload.prototype.addFileParam=function(e,t,i){return this.callFlash("AddFileParam",[e,t,i])},SWFUpload.prototype.removeFileParam=function(e,t){this.callFlash("RemoveFileParam",[e,t])},SWFUpload.prototype.setUploadURL=function(e){this.settings.upload_url=e.toString(),this.callFlash("SetUploadURL",[e])},SWFUpload.prototype.setPostParams=function(e){this.settings.post_params=e,this.callFlash("SetPostParams",[e])},SWFUpload.prototype.addPostParam=function(e,t){this.settings.post_params[e]=t,this.callFlash("SetPostParams",[this.settings.post_params])},SWFUpload.prototype.removePostParam=function(e){delete this.settings.post_params[e],this.callFlash("SetPostParams",[this.settings.post_params])},SWFUpload.prototype.setFileTypes=function(e,t){this.settings.file_types=e,this.settings.file_types_description=t,this.callFlash("SetFileTypes",[e,t])},SWFUpload.prototype.setFileSizeLimit=function(e){this.settings.file_size_limit=e,this.callFlash("SetFileSizeLimit",[e])},SWFUpload.prototype.setFileUploadLimit=function(e){this.settings.file_upload_limit=e,this.callFlash("SetFileUploadLimit",[e])},SWFUpload.prototype.setFileQueueLimit=function(e){this.settings.file_queue_limit=e,this.callFlash("SetFileQueueLimit",[e])},SWFUpload.prototype.setFilePostName=function(e){this.settings.file_post_name=e,this.callFlash("SetFilePostName",[e])},SWFUpload.prototype.setUseQueryString=function(e){this.settings.use_query_string=e,this.callFlash("SetUseQueryString",[e])},SWFUpload.prototype.setRequeueOnError=function(e){this.settings.requeue_on_error=e,this.callFlash("SetRequeueOnError",[e])},SWFUpload.prototype.setHTTPSuccess=function(e){"string"==typeof e&&(e=e.replace(" ","").split(",")),this.settings.http_success=e,this.callFlash("SetHTTPSuccess",[e])},SWFUpload.prototype.setAssumeSuccessTimeout=function(e){this.settings.assume_success_timeout=e,this.callFlash("SetAssumeSuccessTimeout",[e])},SWFUpload.prototype.setDebugEnabled=function(e){this.settings.debug_enabled=e,this.callFlash("SetDebugEnabled",[e])},SWFUpload.prototype.setButtonImageURL=function(e){void 0==e&&(e=""),this.settings.button_image_url=e,this.callFlash("SetButtonImageURL",[e])},SWFUpload.prototype.setButtonDimensions=function(e,t){this.settings.button_width=e,this.settings.button_height=t;var i=this.getMovieElement();void 0!=i&&(i.style.width=e+"px",i.style.height=t+"px"),this.callFlash("SetButtonDimensions",[e,t])},SWFUpload.prototype.setButtonText=function(e){this.settings.button_text=e,this.callFlash("SetButtonText",[e])},SWFUpload.prototype.setButtonTextPadding=function(e,t){this.settings.button_text_top_padding=t,this.settings.button_text_left_padding=e,this.callFlash("SetButtonTextPadding",[e,t])},SWFUpload.prototype.setButtonTextStyle=function(e){this.settings.button_text_style=e,this.callFlash("SetButtonTextStyle",[e])},SWFUpload.prototype.setButtonDisabled=function(e){this.settings.button_disabled=e,this.callFlash("SetButtonDisabled",[e])},SWFUpload.prototype.setButtonAction=function(e){this.settings.button_action=e,this.callFlash("SetButtonAction",[e])},SWFUpload.prototype.setButtonCursor=function(e){this.settings.button_cursor=e,this.callFlash("SetButtonCursor",[e])},SWFUpload.prototype.queueEvent=function(e,t){void 0==t?t=[]:t instanceof Array||(t=[t]);var i=this;if("function"==typeof this.settings[e])this.eventQueue.push(function(){this.settings[e].apply(this,t)}),setTimeout(function(){i.executeNextEvent()},0);else if(null!==this.settings[e])throw"Event handler "+e+" is unknown or is not a function"},SWFUpload.prototype.executeNextEvent=function(){var e=this.eventQueue?this.eventQueue.shift():null;"function"==typeof e&&e.apply(this)},SWFUpload.prototype.unescapeFilePostParams=function(e){var t,i=/[$]([0-9a-f]{4})/i,n={};if(void 0!=e){for(var o in e.post)if(e.post.hasOwnProperty(o)){t=o;for(var s;null!==(s=i.exec(t));)t=t.replace(s[0],String.fromCharCode(parseInt("0x"+s[1],16)));n[t]=e.post[o]}e.post=n}return e},SWFUpload.prototype.testExternalInterface=function(){try{return this.callFlash("TestExternalInterface")}catch(e){return!1}},SWFUpload.prototype.flashReady=function(){var e=this.getMovieElement();return e?(this.cleanUp(e),this.queueEvent("swfupload_loaded_handler"),void 0):(this.debug("Flash called back ready but the flash movie can't be found."),void 0)},SWFUpload.prototype.cleanUp=function(e){try{if(this.movieElement&&"unknown"==typeof e.CallFunction){this.debug("Removing Flash functions hooks (this should only run in IE and should prevent memory leaks)");for(var t in e)try{"function"==typeof e[t]&&(e[t]=null)}catch(i){}}}catch(n){}window.__flash__removeCallback=function(e,t){try{e&&(e[t]=null)}catch(i){}}},SWFUpload.prototype.fileDialogStart=function(){this.queueEvent("file_dialog_start_handler")},SWFUpload.prototype.fileQueued=function(e){e=this.unescapeFilePostParams(e),this.queueEvent("file_queued_handler",e)},SWFUpload.prototype.fileQueueError=function(e,t,i){e=this.unescapeFilePostParams(e),this.queueEvent("file_queue_error_handler",[e,t,i])},SWFUpload.prototype.fileDialogComplete=function(e,t,i){this.queueEvent("file_dialog_complete_handler",[e,t,i])},SWFUpload.prototype.uploadStart=function(e){e=this.unescapeFilePostParams(e),this.queueEvent("return_upload_start_handler",e)},SWFUpload.prototype.returnUploadStart=function(e){var t;if("function"==typeof this.settings.upload_start_handler)e=this.unescapeFilePostParams(e),t=this.settings.upload_start_handler.call(this,e);else if(void 0!=this.settings.upload_start_handler)throw"upload_start_handler must be a function";void 0===t&&(t=!0),t=!!t,this.callFlash("ReturnUploadStart",[t])},SWFUpload.prototype.uploadProgress=function(e,t,i){e=this.unescapeFilePostParams(e),this.queueEvent("upload_progress_handler",[e,t,i])},SWFUpload.prototype.uploadError=function(e,t,i){e=this.unescapeFilePostParams(e),this.queueEvent("upload_error_handler",[e,t,i])},SWFUpload.prototype.uploadSuccess=function(e,t,i){e=this.unescapeFilePostParams(e),this.queueEvent("upload_success_handler",[e,t,i])},SWFUpload.prototype.uploadComplete=function(e){e=this.unescapeFilePostParams(e),this.queueEvent("upload_complete_handler",e)},SWFUpload.prototype.debug=function(e){this.queueEvent("debug_handler",e)},SWFUpload.prototype.debugMessage=function(e){if(this.settings.debug){var t,i=[];if("object"==typeof e&&"string"==typeof e.name&&"string"==typeof e.message){for(var n in e)e.hasOwnProperty(n)&&i.push(n+": "+e[n]);t=i.join("\n")||"",i=t.split("\n"),t="EXCEPTION: "+i.join("\nEXCEPTION: "),SWFUpload.Console.writeLine(t)}else SWFUpload.Console.writeLine(e)}},SWFUpload.Console={},SWFUpload.Console.writeLine=function(e){var t,i;try{t=document.getElementById("SWFUpload_Console"),t||(i=document.createElement("form"),document.getElementsByTagName("body")[0].appendChild(i),t=document.createElement("textarea"),t.id="SWFUpload_Console",t.style.fontFamily="monospace",t.setAttribute("wrap","off"),t.wrap="off",t.style.overflow="auto",t.style.width="700px",t.style.height="350px",t.style.margin="5px",i.appendChild(t)),t.value+=e+"\n",t.scrollTop=t.scrollHeight-t.clientHeight}catch(n){alert("Exception: "+n.name+" Message: "+n.message)}},function(e){e.swfupload={settings:{},instances:{}},e.extend(e.swfupload,{load:function(e,t){this.settings[e]=t,this.settings[e].button_placeholder_id=e,this.instances[e]=new SWFUpload(this.settings[e])},reload:function(e){this.instances[e].destroy(),this.instances[e]=null,this.settings[e].button_action!=SWFUpload.BUTTON_ACTION.SELECT_FILE?this.multiple(e,this.settings[e]):this.load(e,this.settings[e])},multiple:function(t,i){var n={flash_url:"/assets/swfupload/swfupload.swf",file_size_limit:"5120",file_types:"*.jpg;*.jpeg;*.gif;*.png",file_types_description:"图片文件",file_queue_error_handler:function(i,n){n==SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED?alert("超过允许上传的文件数量，一次只能上传 "+this.settings.file_upload_limit+" 个文件"):n==SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT?e("#"+t.replace("_button","")).append(e('<div id="'+i.id+'" class="swfupload-error"><span>文件超过尺寸限制</span><a href="#ui_'+i.id+'" class="ui-action-close">取消</a></div>')):e("#"+t.replace("_button","")).append(e('<div id="'+i.id+'" class="swfupload-error"><span>文件上传错误</span><a href="#ui_'+i.id+'" class="ui-action-close">取消</a></div>')),e("#"+i.id).delay(3e3).fadeOut("slow")},file_dialog_complete_handler:function(){this.startUpload()},upload_start_handler:function(i){e("#"+t.replace("_button","")).append(e('<div id="'+i.id+'" class="swfupload-progress timeline-add-pic-preview"></div>'))},upload_progress_handler:function(t,i,n){e("#"+t.id).html(e("<div><span>上传中...<br>"+Math.ceil(99*(i/n))+"%</span></div>"))},upload_error_handler:function(t){this.startUpload(),e("#"+t.id).replaceWith(e('<div id="'+t.id+'" class="swfupload-error"><span>文件上传错误</span><a href="#ui_'+t.id+'" class="ui-action-close">取消</a></div>'))},upload_success_handler:function(t,i){e("#"+t.id).replaceWith(e(i))},upload_complete_handler:function(){this.startUpload()},button_image_url:"/assets/upload.gif",button_width:80,button_height:32,button_placeholder_id:t};this.settings[t]=e.extend(!0,{},n,i),this.instances[t]=new SWFUpload(this.settings[t])}})}(jQuery),function($){var escapeable=/["\\\x00-\x1f\x7f-\x9f]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};$.toJSON="object"==typeof JSON&&JSON.stringify?JSON.stringify:function(e){if(null===e)return"null";var t=typeof e;if("undefined"===t)return void 0;if("number"===t||"boolean"===t)return""+e;if("string"===t)return $.quoteString(e);if("object"===t){if("function"==typeof e.toJSON)return $.toJSON(e.toJSON());if(e.constructor===Date){var i=e.getUTCMonth()+1,n=e.getUTCDate(),o=e.getUTCFullYear(),s=e.getUTCHours(),r=e.getUTCMinutes(),a=e.getUTCSeconds(),l=e.getUTCMilliseconds();return 10>i&&(i="0"+i),10>n&&(n="0"+n),10>s&&(s="0"+s),10>r&&(r="0"+r),10>a&&(a="0"+a),100>l&&(l="0"+l),10>l&&(l="0"+l),'"'+o+"-"+i+"-"+n+"T"+s+":"+r+":"+a+"."+l+'Z"'}if(e.constructor===Array){for(var d=[],u=0;u<e.length;u++)d.push($.toJSON(e[u])||"null");return"["+d.join(",")+"]"}var c,h,p=[];for(var f in e){if(t=typeof f,"number"===t)c='"'+f+'"';else{if("string"!==t)continue;c=$.quoteString(f)}t=typeof e[f],"function"!==t&&"undefined"!==t&&(h=$.toJSON(e[f]),p.push(c+":"+h))}return"{"+p.join(",")+"}"}},$.evalJSON="object"==typeof JSON&&JSON.parse?JSON.parse:function(src){return eval("("+src+")")},$.secureEvalJSON="object"==typeof JSON&&JSON.parse?JSON.parse:function(src){var filtered=src.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(filtered))return eval("("+src+")");throw new SyntaxError("Error parsing JSON, source is not valid.")},$.quoteString=function(e){return e.match(escapeable)?'"'+e.replace(escapeable,function(e){var t=meta[e];return"string"==typeof t?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))})+'"':'"'+e+'"'}}(jQuery),function(e){function t(e,t,n,o){if(!e.tag.isInline&&n.length>0)for(n.push("\n"),i=0;o>i;i++)n.push("	")}function n(i,o){var s,r=[],a=0==i.attributes.length;this.name.concat(void 0==i.tag.rawAttributes?"":i.tag.rawAttributes);var h=i.tag.render&&(0==o.allowedTags.length||e.inArray(i.tag.name,o.allowedTags)>-1)&&(0==o.removeTags.length||-1==e.inArray(i.tag.name,o.removeTags));if(!i.isRoot&&h&&(r.push("<"),r.push(i.tag.name),e.each(i.attributes,function(){if(-1==e.inArray(this.name,o.removeAttrs)){var t=RegExp(/^(['"]?)(.*?)['"]?$/).exec(this.value),n=t[2],s=t[1]||"'";"class"==this.name&&(n=e.grep(n.split(" "),function(t){return e.grep(o.allowedClasses,function(n){return n[0]==t&&(1==n.length||e.inArray(i.tag.name,n[1])>-1)}).length>0}).join(" "),s="'"),null!=n&&(n.length>0||e.inArray(this.name,i.tag.requiredAttributes)>-1)&&(r.push(" "),r.push(this.name),r.push("="),r.push(s),r.push(n),r.push(s))}})),i.tag.isSelfClosing)h&&r.push(" />"),a=!1;else if(i.tag.isNonClosing)a=!1;else{!i.isRoot&&h&&r.push(">");var s=o.formatIndent++;if(i.tag.toProtect){var f=e.htmlClean.trim(i.children.join("")).replace(/<br>/gi,"\n");r.push(f),a=0==f.length}else{for(var f=[],m=0;m<i.children.length;m++){var g=i.children[m],v=e.htmlClean.trim(p(u(g)?g:g.childrenToString()));c(g)&&m>0&&v.length>0&&(l(g)||d(i.children[m-1]))&&f.push(" "),u(g)?v.length>0&&f.push(v):(m!=i.children.length-1||"br"!=g.tag.name)&&(o.format&&t(g,o,f,s),f=f.concat(n(g,o)))}o.formatIndent--,f.length>0&&(o.format&&"\n"!=f[0]&&t(i,o,r,s),r=r.concat(f),a=!1)}!i.isRoot&&h&&(o.format&&t(i,o,r,s-1),r.push("</"),r.push(i.tag.name),r.push(">"))}return!i.tag.allowEmpty&&a?[]:r}function o(t,i,n){return n=n||1,e.inArray(t[t.length-n].tag.name,i)>-1?!0:t.length-(n+1)>0&&o(t,i,n+1)?(t.pop(),!0):!1}function s(e){return e?(this.tag=e,this.isRoot=!1):(this.tag=new a("root"),this.isRoot=!0),this.attributes=[],this.children=[],this.hasAttribute=function(e){for(var t=0;t<this.attributes.length;t++)if(this.attributes[t].name==e)return!0;return!1},this.childrenToString=function(){return this.children.join("")},this}function r(e,t){return this.name=e,this.value=t,this}function a(t,i,n,o){return this.name=t.toLowerCase(),this.isSelfClosing=e.inArray(this.name,y)>-1,this.isNonClosing=e.inArray(this.name,_)>-1,this.isClosing=void 0!=i&&i.length>0,this.isInline=e.inArray(this.name,f)>-1,this.disallowNest=e.inArray(this.name,m)>-1,this.requiredParent=v[e.inArray(this.name,v)+1],this.allowEmpty=e.inArray(this.name,g)>-1,this.toProtect=e.inArray(this.name,b)>-1,this.rawAttributes=n,this.allowedAttributes=w[e.inArray(this.name,w)+1],this.requiredAttributes=C[e.inArray(this.name,C)+1],this.render=o&&-1==e.inArray(this.name,o.notRenderedTags),this}function l(t){for(;h(t)&&t.children.length>0;)t=t.children[0];return u(t)&&t.length>0&&e.htmlClean.isWhitespace(t.charAt(0))}function d(t){for(;h(t)&&t.children.length>0;)t=t.children[t.children.length-1];return u(t)&&t.length>0&&e.htmlClean.isWhitespace(t.charAt(t.length-1))}function u(e){return e.constructor==String}function c(e){return u(e)||e.tag.isInline}function h(e){return e.constructor==s}function p(e){return e.replace(/&nbsp;|\n/g," ").replace(/\s\s+/g," ")}e.fn.htmlClean=function(t){return this.each(function(){e(this),this.value?this.value=e.htmlClean(this.value,t):this.innerHTML=e.htmlClean(this.innerHTML,t)})},e.htmlClean=function(t,i){i=e.extend({},e.htmlClean.defaults,i);var l,d=/<(\/)?(\w+:)?([\w]+)([^>]*)>/gi,c=/(\w+)=(".*?"|'.*?'|[^\s>]*)/gi,h=new s,p=[h],f=h;i.bodyOnly&&(l=/<body[^>]*>((\n|.)*)<\/body>/i.exec(t))&&(t=l[1]),t=t.concat("<xxx>");for(var m;l=d.exec(t);){var g=new a(l[3],l[1],l[4],i),v=t.substring(m,l.index);if(v.length>0){var b=f.children[f.children.length-1];f.children.length>0&&u(b=f.children[f.children.length-1])?f.children[f.children.length-1]=b.concat(v):f.children.push(v)}if(m=d.lastIndex,g.isClosing)o(p,[g.name])&&(p.pop(),f=p[p.length-1]);else{for(var y,_=new s(g);y=c.exec(g.rawAttributes);){if("style"==y[1].toLowerCase()&&i.replaceStyles)for(var w=!g.isInline,C=0;C<i.replaceStyles.length;C++)i.replaceStyles[C][0].test(y[2])&&(w||(g.render=!1,w=!0),f.children.push(_),p.push(_),f=_,g=new a(i.replaceStyles[C][1],"","",i),_=new s(g));null!=g.allowedAttributes&&(0==g.allowedAttributes.length||e.inArray(y[1],g.allowedAttributes)>-1)&&_.attributes.push(new r(y[1],y[2]))}e.each(g.requiredAttributes,function(){var e=this.toString();_.hasAttribute(e)||_.attributes.push(new r(e,""))});for(var S=0;S<i.replace.length;S++)for(var E=0;E<i.replace[S][0].length;E++){var x="string"==typeof i.replace[S][0][E];if(x&&i.replace[S][0][E]==g.name||!x&&i.replace[S][0][E].test(l)){g.render=!1,f.children.push(_),p.push(_),f=_,g=new a(i.replace[S][1],l[1],l[4],i),_=new s(g),_.attributes=f.attributes,S=i.replace.length;break}}var A=!0;if(f.isRoot||(f.tag.isInline&&!g.isInline?A=!1:f.tag.disallowNest&&g.disallowNest&&!g.requiredParent?A=!1:g.requiredParent&&(A=o(p,g.requiredParent))&&(f=p[p.length-1])),A)if(f.children.push(_),g.toProtect)for(;tagMatch2=d.exec(t);){var T=new a(tagMatch2[3],tagMatch2[1],tagMatch2[4],i);if(T.isClosing&&T.name==g.name){_.children.push(RegExp.leftContext.substring(m)),m=d.lastIndex;break}}else g.isSelfClosing||g.isNonClosing||(p.push(_),f=_)}}return n(h,i).join("")},e.htmlClean.defaults={Only:!0,allowedTags:[],removeTags:["basefont","center","dir","font","frame","frameset","iframe","isindex","menu","noframes","s","strike","u"],removeAttrs:[],allowedClasses:[],notRenderedTags:[],format:!1,formatIndent:0,replace:[[["b","big"],"strong"],[["i"],"em"]],replaceStyles:[[/font-weight:\s*bold/i,"strong"],[/font-style:\s*italic/i,"em"],[/vertical-align:\s*super/i,"sup"],[/vertical-align:\s*sub/i,"sub"]]},e.htmlClean.trim=function(t){return e.htmlClean.trimStart(e.htmlClean.trimEnd(t))},e.htmlClean.trimStart=function(t){return t.substring(e.htmlClean.trimStartIndex(t))},e.htmlClean.trimStartIndex=function(t){for(var i=0;i<t.length-1&&e.htmlClean.isWhitespace(t.charAt(i));i++);return i},e.htmlClean.trimEnd=function(t){return t.substring(0,e.htmlClean.trimEndIndex(t))},e.htmlClean.trimEndIndex=function(t){for(var i=t.length-1;i>=0&&e.htmlClean.isWhitespace(t.charAt(i));i--);return i+1},e.htmlClean.isWhitespace=function(t){return-1!=e.inArray(t,S)};var f=["a","abbr","acronym","address","b","big","br","button","caption","cite","code","del","em","font","hr","i","input","img","ins","label","legend","map","q","samp","select","small","span","strong","sub","sup","tt","var"],m=["h1","h2","h3","h4","h5","h6","p","th","td"],g=["th","td"],v=[null,"li",["ul","ol"],"dt",["dl"],"dd",["dl"],"td",["tr"],"th",["tr"],"tr",["table","thead","tbody","tfoot"],"thead",["table"],"tbody",["table"],"tfoot",["table"]],b=["script","style","pre","code"],y=["br","hr","img","link","meta"],_=["!doctype","?xml"],w=[["class"],"?xml",[],"!doctype",[],"a",["accesskey","class","href","name","title","rel","rev","type","tabindex"],"abbr",["class","title"],"acronym",["class","title"],"blockquote",["cite","class"],"button",["class","disabled","name","type","value"],"del",["cite","class","datetime"],"form",["accept","action","class","enctype","method","name"],"input",["accept","accesskey","alt","checked","class","disabled","ismap","maxlength","name","size","readonly","src","tabindex","type","usemap","value"],"img",["alt","class","height","src","width"],"ins",["cite","class","datetime"],"label",["accesskey","class","for"],"legend",["accesskey","class"],"link",["href","rel","type"],"meta",["content","http-equiv","name","scheme"],"map",["name"],"optgroup",["class","disabled","label"],"option",["class","disabled","label","selected","value"],"q",["class","cite"],"script",["src","type"],"select",["class","disabled","multiple","name","size","tabindex"],"style",["type"],"table",["class","summary"],"textarea",["accesskey","class","cols","disabled","name","readonly","rows","tabindex"]],C=[[],"img",["alt"]],S=[" "," ","	","\n","\r","\f"]}(jQuery),function(){var e="http://"+window.location.host+"/ueditor2/";UEDITOR_CONFIG={imagePath:"http://"+window.location.host,compressSide:0,maxImageSideLength:900,relativePath:!0,UEDITOR_HOME_URL:e,toolbars:[["Bold","Indent","|","Print","InsertVideo","Link"]],labelMap:{anchor:"锚点",undo:"撤销",redo:"重做",bold:"插入标题",indent:"自动排版",italic:"斜体",underline:"下划线",strikethrough:"删除线",subscript:"下标",superscript:"上标",formatmatch:"格式刷",source:"源代码",blockquote:"引用",pasteplain:"纯文本粘贴模式",selectall:"全选",print:"插入图片",preview:"预览",horizontal:"分隔线",removeformat:"清除格式",time:"时间",date:"日期",unlink:"取消链接",insertrow:"前插入行",insertcol:"前插入列",mergeright:"右合并单元格",mergedown:"下合并单元格",deleterow:"删除行",deletecol:"删除列",splittorows:"拆分成行",splittocols:"拆分成列",splittocells:"完全拆分单元格",mergecells:"合并多个单元格",deletetable:"删除表格",insertparagraphbeforetable:"表格前插行",cleardoc:"清空文档",fontfamily:"字体",fontsize:"字号",paragraph:"段落格式",insertimage:"图片",inserttable:"表格",link:"插入链接",emotion:"表情",spechars:"特殊字符",searchreplace:"查询替换",map:"Baidu地图",gmap:"Google地图",insertvideo:"插入视频",help:"帮助",justifyleft:"居左对齐",justifyright:"居右对齐",justifycenter:"居中对齐",justifyjustify:"两端对齐",forecolor:"字体颜色",backcolor:"背景色",insertorderedlist:"有序列表",insertunorderedlist:"无序列表",fullscreen:"全屏",directionalityltr:"从左向右输入",directionalityrtl:"从右向左输入",rowspacing:"段间距",highlightcode:"插入代码",pagebreak:"分页",insertframe:"插入Iframe",imagenone:"默认",imageleft:"居左",imageright:"居右",imagecenter:"居中",checkimage:"图片转存",lineheight:"行间距",customstyle:"自定义标题"},iframeUrlMap:{anchor:"~/dialogs/anchor/anchor.html",insertimage:"~/dialogs/image/image.html",inserttable:"~/dialogs/table/table.html",link:"~/dialogs/link/link.html",spechars:"~/dialogs/spechars/spechars.html",searchreplace:"~/dialogs/searchreplace/searchreplace.html",map:"~/dialogs/map/map.html",gmap:"~/dialogs/gmap/gmap.html",insertvideo:"~/dialogs/video/video.html",help:"~/dialogs/help/help.html",highlightcode:"~/dialogs/code/code.html",emotion:"~/dialogs/emotion/emotion.html",wordimage:"~/dialogs/wordimage/wordimage.html",attachment:"~/dialogs/attachment/attachment.html",insertframe:"~/dialogs/insertframe/insertframe.html",edittd:"~/dialogs/table/edittd.html",snapscreen:"~/dialogs/snapscreen/snapscreen.html"},listMap:{fontfamily:["宋体","楷体","隶书","黑体","andale mono","arial","arial black","comic sans ms","impact","times new roman"],fontsize:[10,11,12,14,16,18,20,24,36],paragraph:["p:段落","h1:标题 1","h2:标题 2","h3:标题 3","h4:标题 4","h5:标题 5","h6:标题 6"],rowspacing:["5","10","15","20","25"],lineheight:["100","125","150","200","300","400","500"],customstyle:[{tag:"h1",label:"居中标题",style:"border-bottom:#ccc 2px solid;padding:0 4px 0 0;text-align:center;margin:0 0 20px 0;"},{tag:"h1",label:"居左标题",style:"border-bottom:#ccc 2px solid;padding:0 4px 0 0;margin:0 0 10px 0;"},{tag:"span",label:"强调",style:"font-style:italic;font-weight:bold"},{tag:"span",label:"明显强调",style:"font-style:italic;font-weight:bold;color:rgb(51, 153, 204)"}]},fontMap:{"宋体":["宋体","SimSun"],"楷体":["楷体","楷体_GB2312","SimKai"],"黑体":["黑体","SimHei"],"隶书":["隶书","SimLi"],"andale mono":["andale mono"],arial:["arial","helvetica","sans-serif"],"arial black":["arial black","avant garde"],"comic sans ms":["comic sans ms"],impact:["impact","chicago"],"times new roman":["times new roman"]},contextMenu:[],initialStyle:'.selectTdClass{background-color:#3399FF !important}table{clear:both;margin-bottom:10px;border-collapse:collapse;word-break:break-all;}.pagebreak{border-bottom:1px dotted #999999 !important;border-top:1px dotted #999999 !important;clear:both !important;cursor:default !important;height: 5px !important;padding: 0 !important;width: 100% !important;margin-bottom:10px;height:5px !important;overflow: hidden;}.anchorclass{background: url("'+e+'themes/default/images/anchor.gif") no-repeat scroll left center transparent;border: 1px dotted #0000FF;cursor: auto;display: inline-block;height: 16px;width: 15px;}'+".view{padding:0;word-wrap:break-word;word-break:break-all;cursor:text;height:100%;}\n"+'body{padding:0px;font-family:"宋体";font-size:14px;overflow:hidden;margin:8px 8px 0px 8px;line-height:1.4}'+"li{clear:both}"+'p{margin:0px 0px 0px 0px;overflow:hidden;font-size:14px;font-family:helvetica,"Helvetica Neue",arial,"liberation sans",freesans,sans-serif;line-height:21px;}'+'body img,body h3 img,body p img{overflow:hidden;max-width:570px;*max-width:566px;_width:expression(document.body.clientWidth > 566 ? "566px" : "auto");}'+"body h3{overflow:hidden;clear:both;display:block;font-size:18px;padding:0px 0px 5px 0px;margin:10px 0px 10px 0px}"+".tableclear{clear:both;margin:0;padding:0;}",initialContent:"",autoClearinitialContent:!1,removeFormatTags:"b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var",removeFormatAttributes:"class,style,lang,width,height,align,hspace,valign",enterTag:"p",maxUndoCount:20,maxInputCount:20,selectedTdClass:"selectTdClass",pasteplain:!1,textarea:"editorValue",focus:!1,indentValue:"0em",pageBreakTag:"_baidu_page_break_tag_",autoHeightEnabled:!0,autoFloatEnabled:!0,elementPathEnabled:!1,wordCount:!1,maximumWords:1e4,tabSize:4,tabNode:"&nbsp;",imagePopup:!0,emotionLocalization:!0,sourceEditor:"codemirror",tdHeight:"20",highlightJsUrl:e+"third-party/SyntaxHighlighter/shCore.js",highlightCssUrl:e+"third-party/SyntaxHighlighter/shCoreDefault.css",zIndex:999,fullscrren:!1,snapscreenHost:"localhost",snapscreenServerFile:e+"server/upload/php/snapImgUp.php",snapscreenServerPort:80,snapscreenImgAlign:"center",snapscreenImgIsUseImagePath:1,messages:{pasteMsg:"编辑器将过滤掉您粘贴内容中的不支持格式！",wordCountMsg:"当前已输入 {#count} 个字符，您还可以输入{#leave} 个字符 ",wordOverFlowMsg:"你输入的字符个数已经超出最大允许值，服务器可能会拒绝保存！",pasteWordImgMsg:"您粘贴的内容中包含本地图片，需要转存后才能正确显示！",snapScreenNotIETip:"截图功能需要在ie浏览器下使用",snapScreenMsg:"截图上传失败，请检查你的PHP环境。 "},serialize:function(){return{blackList:{style:1,font:1,span:1,script:1,link:1,object:1,applet:1,input:1,meta:1,base:1,button:1,select:1,textarea:1,"#comment":1,map:1,area:1}}
}(),ComboxInitial:{FONT_FAMILY:"字体",FONT_SIZE:"字号",ROW_SPACING:"段间距",PARAGRAPH:"段落格式",LINE_HEIGHT:"行间距",CUSTOMSTYLE:"自定义样式"},autotypeset:{mergeEmptyline:!1,removeClass:!0,removeEmptyline:!1,textAlign:"left",lineHeight:"100",rowSpacing:"10",imageBlockLine:"center",pasteFilter:!0,clearFontSize:!1,clearFontFamily:!1,removeEmptyNode:!1,removeTagNames:{div:1,a:1,abbr:1,acronym:1,address:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1},indent:!1,indentValue:"2em"}}}(),UEDITOR_CONFIG=window.UEDITOR_CONFIG||{};var baidu=window.baidu||{};window.baidu=baidu,window.UE=baidu.editor={},UE.plugins={},UE.commands={},UE.version="1.2.0.0";var dom=UE.dom={},browser=UE.browser=function(){var e=navigator.userAgent.toLowerCase(),t=window.opera,i={ie:!!window.ActiveXObject,opera:!!t&&t.version,webkit:e.indexOf(" applewebkit/")>-1,mac:e.indexOf("macintosh")>-1,quirks:"BackCompat"==document.compatMode};i.gecko="Gecko"==navigator.product&&!i.webkit&&!i.opera;var n=0;if(i.ie&&(n=parseFloat(e.match(/msie (\d+)/)[1]),i.ie8=!!document.documentMode,i.ie8Compat=8==document.documentMode,i.ie7Compat=7==n&&!document.documentMode||7==document.documentMode,i.ie6Compat=7>n||i.quirks),i.gecko){var o=e.match(/rv:([\d\.]+)/);o&&(o=o[1].split("."),n=1e4*o[0]+100*(o[1]||0)+1*(o[2]||0))}return/chrome\/(\d+\.\d)/i.test(e)&&(i.chrome=+RegExp.$1),/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(e)&&!/chrome/i.test(e)&&(i.safari=+(RegExp.$1||RegExp.$2)),i.opera&&(n=parseFloat(t.version())),i.webkit&&(n=parseFloat(e.match(/ applewebkit\/(\d+)/)[1])),i.version=n,i.isCompatible=!i.mobile&&(i.ie&&n>=6||i.gecko&&n>=10801||i.opera&&n>=9.5||i.air&&n>=1||i.webkit&&n>=522||!1),i}(),ie=browser.ie,webkit=browser.webkit,gecko=browser.gecko,utils=UE.utils={makeInstance:function(e){var t=new Function;return t.prototype=e,e=new t,t.prototype=null,e},extend:function(e,t,i){if(t)for(var n in t)i&&e.hasOwnProperty(n)||(e[n]=t[n]);return e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},isString:function(e){return"string"==typeof e||e.constructor==String},inherits:function(e,t){var i=e.prototype,n=utils.makeInstance(t.prototype);return utils.extend(n,i,!0),e.prototype=n,n.constructor=e},bind:function(e,t){return function(){return e.apply(t,arguments)}},defer:function(e,t,i){var n;return function(){i&&clearTimeout(n),n=setTimeout(e,t)}},indexOf:function(e,t,i){for(var n=i||0,o=e.length;o>n;n++)if(e[n]===t)return n;return-1},findNode:function(e,t,i){for(var n,o=0;n=e[o++];)if(i?i(n):-1!=this.indexOf(t,n.tagName.toLowerCase()))return n},removeItem:function(e,t){for(var i=0,n=e.length;n>i;i++)e[i]===t&&(e.splice(i,1),i--)},trim:function(e){return e.replace(/(^[ \t\n\r]+)|([ \t\n\r]+$)/g,"")},listToMap:function(e){if(!e)return{};e=utils.isArray(e)?e:e.split(",");for(var t,i=0,n={};t=e[i++];)n[t.toUpperCase()]=n[t]=1;return n},unhtml:function(e){return e?e.replace(/[&<">]/g,function(e){return{"<":"&lt;","&":"&amp",'"':"&quot;",">":"&gt;"}[e]}):""},cssStyleToDomStyle:function(){var e=document.createElement("div").style,t={"float":void 0!=e.cssFloat?"cssFloat":void 0!=e.styleFloat?"styleFloat":"float"};return function(e){return t[e]||(t[e]=e.toLowerCase().replace(/-./g,function(e){return e.charAt(1).toUpperCase()}))}}(),loadFile:function(e,t,i){if(!t.id||!e.getElementById(t.id)){var n=e.createElement(t.tag);delete t.tag;for(var o in t)n.setAttribute(o,t[o]);n.onload=n.onreadystatechange=function(){(!this.readyState||/loaded|complete/.test(this.readyState))&&(i&&i(),n.onload=n.onreadystatechange=null)},e.getElementsByTagName("head")[0].appendChild(n)}},isEmptyObject:function(e){for(var t in e)return!1;return!0},fixColor:function(e,t){if(/color/i.test(e)&&/rgba?/.test(t)){var i=t.split(",");if(i.length>3)return"";t="#";for(var n,o=0;n=i[o++];)n=parseInt(n.replace(/[^\d]/gi,""),10).toString(16),t+=1==n.length?"0"+n:n;t=t.toUpperCase()}return t},optCss:function(e){function t(e,t){if(!e)return"";var i=e.top,n=e.bottom,o=e.left,s=e.right,r="";if(i&&o&&n&&s)r+=";"+t+":"+(i==n&&n==o&&o==s?i:i==n&&o==s?i+" "+o:o==s?i+" "+o+" "+n:i+" "+s+" "+n+" "+o)+";";else for(var a in e)r+=";"+t+"-"+a+":"+e[a]+";";return r}var i,n;return e=e.replace(/(padding|margin|border)\-([^:]+):([^;]+);?/gi,function(e,t,o,s){if(1==s.split(" ").length)switch(t){case"padding":return!i&&(i={}),i[o]=s,"";case"margin":return!n&&(n={}),n[o]=s,"";case"border":return"initial"==s?"":e}return e}),e+=t(i,"padding")+t(n,"margin"),e.replace(/^[ \n\r\t;]*|[ \n\r\t]*$/,"").replace(/;([ \n\r\t]+)|\1;/g,";").replace(/;{2,}/g,";")}},EventBase=UE.EventBase=function(){};EventBase.prototype={addListener:function(e,t){getListener(this,e,!0).push(t)},removeListener:function(e,t){var i=getListener(this,e);i&&utils.removeItem(i,t)},fireEvent:function(e){var t,i,n,o=getListener(this,e);if(o)for(n=o.length;n--;)i=o[n].apply(this,arguments),void 0!==i&&(t=i);return(i=this["on"+e.toLowerCase()])&&(t=i.apply(this,arguments)),t}};var dtd=dom.dtd=function(){function e(e){for(var t in e)e[t.toUpperCase()]=e[t];return e}function t(e){for(var t=arguments,i=1;i<t.length;i++){var n=t[i];for(var o in n)e.hasOwnProperty(o)||(e[o]=n[o])}return e}var i=e({isindex:1,fieldset:1}),n=e({input:1,button:1,select:1,textarea:1,label:1}),o=t(e({a:1}),n),s=t({iframe:1},o),r=e({hr:1,ul:1,menu:1,div:1,blockquote:1,noscript:1,table:1,center:1,address:1,dir:1,pre:1,h5:1,dl:1,h4:1,noframes:1,h6:1,ol:1,h1:1,h3:1,h2:1}),a=e({ins:1,del:1,script:1,style:1}),l=t(e({b:1,acronym:1,bdo:1,"var":1,"#":1,abbr:1,code:1,br:1,i:1,cite:1,kbd:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,dfn:1,span:1}),a),d=t(e({sub:1,img:1,embed:1,object:1,sup:1,basefont:1,map:1,applet:1,font:1,big:1,small:1}),l),u=t(e({p:1}),d),c=t(e({iframe:1}),d,n),h=e({img:1,embed:1,noscript:1,br:1,kbd:1,center:1,button:1,basefont:1,h5:1,h4:1,samp:1,h6:1,ol:1,h1:1,h3:1,h2:1,form:1,font:1,"#":1,select:1,menu:1,ins:1,abbr:1,label:1,code:1,table:1,script:1,cite:1,input:1,iframe:1,strong:1,textarea:1,noframes:1,big:1,small:1,span:1,hr:1,sub:1,bdo:1,"var":1,div:1,object:1,sup:1,strike:1,dir:1,map:1,dl:1,applet:1,del:1,isindex:1,fieldset:1,ul:1,b:1,acronym:1,a:1,blockquote:1,i:1,u:1,s:1,tt:1,address:1,q:1,pre:1,p:1,em:1,dfn:1}),p=t(e({a:0}),c),f=e({tr:1}),m=e({"#":1}),g=t(e({param:1}),h),v=t(e({form:1}),i,s,r,u),b=e({li:1}),y=e({style:1,script:1}),_=e({base:1,link:1,meta:1,title:1}),w=t(_,y),C=e({head:1,body:1}),S=e({html:1}),E=e({address:1,blockquote:1,center:1,dir:1,div:1,dl:1,fieldset:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,hr:1,isindex:1,menu:1,noframes:1,ol:1,p:1,pre:1,table:1,ul:1}),x=e({area:1,base:1,br:1,col:1,hr:1,img:1,input:1,link:1,meta:1,param:1,embed:1});return e({$nonBodyContent:t(S,C,_),$block:E,$inline:p,$body:t(e({script:1,style:1}),E),$cdata:e({script:1,style:1}),$empty:x,$nonChild:e({iframe:1}),$listItem:e({dd:1,dt:1,li:1}),$list:e({ul:1,ol:1,dl:1}),$isNotEmpty:e({table:1,ul:1,ol:1,dl:1,iframe:1,area:1,base:1,col:1,hr:1,img:1,embed:1,input:1,link:1,meta:1,param:1}),$removeEmpty:e({a:1,abbr:1,acronym:1,address:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1}),$removeEmptyBlock:e({p:1,div:1}),$tableContent:e({caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1,table:1}),$notTransContent:e({pre:1,script:1,style:1,textarea:1}),html:C,head:w,style:m,script:m,body:v,base:{},link:{},meta:{},title:m,col:{},tr:e({td:1,th:1}),img:{},embed:{},colgroup:e({thead:1,col:1,tbody:1,tr:1,tfoot:1}),noscript:v,td:v,br:{},th:v,center:v,kbd:p,button:t(u,r),basefont:{},h5:p,h4:p,samp:p,h6:p,ol:b,h1:p,h3:p,option:m,h2:p,form:t(i,s,r,u),select:e({optgroup:1,option:1}),font:p,ins:p,menu:b,abbr:p,label:p,table:e({thead:1,col:1,tbody:1,tr:1,colgroup:1,caption:1,tfoot:1}),code:p,tfoot:f,cite:p,li:v,input:{},iframe:v,strong:p,textarea:m,noframes:v,big:p,small:p,span:{"#":1},hr:p,dt:p,sub:p,optgroup:e({option:1}),param:{},bdo:p,"var":p,div:v,object:g,sup:p,dd:v,strike:p,area:{},dir:b,map:t(e({area:1,form:1,p:1}),i,a,r),applet:g,dl:e({dt:1,dd:1}),del:p,isindex:{},fieldset:t(e({legend:1}),h),thead:f,ul:b,acronym:p,b:p,a:t(e({a:1}),c),blockquote:t(e({td:1,tr:1,tbody:1,li:1}),v),caption:p,i:p,u:p,tbody:f,s:p,address:t(s,u),tt:p,legend:p,q:p,pre:t(l,o),p:t(e({a:1}),p),em:p,dfn:p})}(),attrFix=ie&&browser.version<9?{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder"}:{tabindex:"tabIndex",readonly:"readOnly"},styleBlock=utils.listToMap(["-webkit-box","-moz-box","block","list-item","table","table-row-group","table-header-group","table-footer-group","table-row","table-column-group","table-column","table-cell","table-caption"]),domUtils=dom.domUtils={NODE_ELEMENT:1,NODE_DOCUMENT:9,NODE_TEXT:3,NODE_COMMENT:8,NODE_DOCUMENT_FRAGMENT:11,POSITION_IDENTICAL:0,POSITION_DISCONNECTED:1,POSITION_FOLLOWING:2,POSITION_PRECEDING:4,POSITION_IS_CONTAINED:8,POSITION_CONTAINS:16,fillChar:ie&&"6"==browser.version?"﻿":"​",keys:{8:1,46:1,16:1,17:1,18:1,37:1,38:1,39:1,40:1,13:1},getPosition:function(e,t){if(e===t)return 0;var i,n=[e],o=[t];for(i=e;i=i.parentNode;){if(i===t)return 10;n.push(i)}for(i=t;i=i.parentNode;){if(i===e)return 20;o.push(i)}if(n.reverse(),o.reverse(),n[0]!==o[0])return 1;for(var s=-1;s++,n[s]===o[s];);for(e=n[s],t=o[s];e=e.nextSibling;)if(e===t)return 4;return 2},getNodeIndex:function(e){for(var t=e.parentNode.firstChild,i=0;e!==t;)i++,t=t.nextSibling;return i},inDoc:function(e,t){for(;e=e.parentNode;)if(e===t)return!0;return!1},findParent:function(e,t,i){if(!domUtils.isBody(e))for(e=i?e:e.parentNode;e;){if(!t||t(e)||this.isBody(e))return t&&!t(e)&&this.isBody(e)?null:e;e=e.parentNode}return null},findParentByTagName:function(e,t,i,n){if(e&&e.nodeType&&!this.isBody(e)&&(1==e.nodeType||e.nodeType))for(t=utils.listToMap(utils.isArray(t)?t:[t]),e=3!=e.nodeType&&i?e:e.parentNode;e&&e.tagName&&9!=e.nodeType&&(!n||!n(e));){if(t[e.tagName])return e;e=e.parentNode}return null},findParents:function(e,t,i,n){for(var o=t&&(i&&i(e)||!i)?[e]:[];e=domUtils.findParent(e,i);)o.push(e);return n?o:o.reverse()},insertAfter:function(e,t){return e.parentNode.insertBefore(t,e.nextSibling)},remove:function(e,t){var i,n=e.parentNode;if(n){if(t&&e.hasChildNodes())for(;i=e.firstChild;)n.insertBefore(i,e);n.removeChild(e)}return e},getNextDomNode:function(e,t,i,n){return getDomNode(e,"firstChild","nextSibling",t,i,n)},isBookmarkNode:function(e){return 1==e.nodeType&&e.id&&/^_baidu_bookmark_/i.test(e.id)},getWindow:function(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getCommonAncestor:function(e,t){if(e===t)return e;for(var i=[e],n=[t],o=e,s=-1;o=o.parentNode;){if(o===t)return o;i.push(o)}for(o=t;o=o.parentNode;){if(o===e)return o;n.push(o)}for(i.reverse(),n.reverse();s++,i[s]===n[s];);return 0==s?null:i[s-1]},clearEmptySibling:function(e,t,i){function n(e,t){for(var i;e&&!domUtils.isBookmarkNode(e)&&(domUtils.isEmptyInlineElement(e)||domUtils.isWhitespace(e));)i=e[t],domUtils.remove(e),e=i}!t&&n(e.nextSibling,"nextSibling"),!i&&n(e.previousSibling,"previousSibling")},split:function(e,t){var i=e.ownerDocument;if(browser.ie&&t==e.nodeValue.length){var n=i.createTextNode("");return domUtils.insertAfter(e,n)}var o=e.splitText(t);if(browser.ie8){var s=i.createTextNode("");domUtils.insertAfter(o,s),domUtils.remove(s)}return o},isWhitespace:function(e){return!new RegExp("[^ 	\n\r"+domUtils.fillChar+"]").test(e.nodeValue)},getXY:function(e){for(var t=0,i=0;e.offsetParent;)i+=e.offsetTop,t+=e.offsetLeft,e=e.offsetParent;return{x:t,y:i}},on:function(e,t,i){var n=t instanceof Array?t:[t],o=n.length;if(o)for(;o--;)if(t=n[o],e.addEventListener)e.addEventListener(t,i,!1);else{i._d||(i._d={});var s=t+i.toString();i._d[s]||(i._d[s]=function(e){return i.call(e.srcElement,e||window.event)},e.attachEvent("on"+t,i._d[s]))}e=null},un:function(e,t,i){var n=t instanceof Array?t:[t],o=n.length;if(o)for(;o--;)if(t=n[o],e.removeEventListener)e.removeEventListener(t,i,!1);else{var s=t+i.toString();e.detachEvent("on"+t,i._d?i._d[s]:i),i._d&&i._d[s]&&delete i._d[s]}},isSameElement:function(e,t){if(e.tagName!=t.tagName)return 0;var i=e.attributes,n=t.attributes;if(!ie&&i.length!=n.length)return 0;for(var o,s,r=0,a=0,l=0;o=i[l++];){if("style"==o.nodeName){if(o.specified&&r++,domUtils.isSameStyle(e,t))continue;return 0}if(ie){if(!o.specified)continue;r++,s=n.getNamedItem(o.nodeName)}else s=t.attributes[o.nodeName];if(!s.specified)return 0;if(o.nodeValue!=s.nodeValue)return 0}if(ie){for(l=0;s=n[l++];)s.specified&&a++;if(r!=a)return 0}return 1},isSameStyle:function(e,t){var i=e.style.cssText.replace(/( ?; ?)/g,";").replace(/( ?: ?)/g,":"),n=t.style.cssText.replace(/( ?; ?)/g,";").replace(/( ?: ?)/g,":");if(!i||!n)return i==n?1:0;if(i=i.split(";"),n=n.split(";"),i.length!=n.length)return 0;for(var o,s=0;o=i[s++];)if(-1==utils.indexOf(n,o))return 0;return 1},isBlockElm:function(e){return 1==e.nodeType&&(dtd.$block[e.tagName]||styleBlock[domUtils.getComputedStyle(e,"display")])&&!dtd.$nonChild[e.tagName]},isBody:function(e){return e&&1==e.nodeType&&"body"==e.tagName.toLowerCase()},breakParent:function(e,t){var i,n,o,s=e,r=e;do{for(s=s.parentNode,n?(i=s.cloneNode(!1),i.appendChild(n),n=i,i=s.cloneNode(!1),i.appendChild(o),o=i):(n=s.cloneNode(!1),o=n.cloneNode(!1));i=r.previousSibling;)n.insertBefore(i,n.firstChild);for(;i=r.nextSibling;)o.appendChild(i);r=s}while(t!==s);return i=t.parentNode,i.insertBefore(n,t),i.insertBefore(o,t),i.insertBefore(e,o),domUtils.remove(t),e},isEmptyInlineElement:function(e){if(1!=e.nodeType||!dtd.$removeEmpty[e.tagName])return 0;for(e=e.firstChild;e;){if(domUtils.isBookmarkNode(e))return 0;if(1==e.nodeType&&!domUtils.isEmptyInlineElement(e)||3==e.nodeType&&!domUtils.isWhitespace(e))return 0;e=e.nextSibling}return 1},trimWhiteTextNode:function(e){function t(t){for(var i;(i=e[t])&&3==i.nodeType&&domUtils.isWhitespace(i);)e.removeChild(i)}t("firstChild"),t("lastChild")},mergChild:function(e,t,i){for(var n,o=domUtils.getElementsByTagName(e,e.tagName.toLowerCase()),s=0;n=o[s++];)if(n.parentNode&&!domUtils.isBookmarkNode(n))if("span"!=n.tagName.toLowerCase())domUtils.isSameElement(e,n)&&domUtils.remove(n,!0);else{if(e===n.parentNode&&(domUtils.trimWhiteTextNode(e),1==e.childNodes.length)){e.style.cssText=n.style.cssText+";"+e.style.cssText,domUtils.remove(n,!0);continue}if(n.style.cssText=e.style.cssText+";"+n.style.cssText,i){var r=i.style;if(r){r=r.split(";");for(var a,l=0;a=r[l++];)n.style[utils.cssStyleToDomStyle(a.split(":")[0])]=a.split(":")[1]}}domUtils.isSameStyle(n,e)&&domUtils.remove(n,!0)}if("span"==t)for(var d,u=domUtils.getElementsByTagName(e,"a"),s=0;d=u[s++];)d.style.cssText=";"+e.style.cssText,d.style.textDecoration="underline"},getElementsByTagName:function(e,t){for(var i,n=e.getElementsByTagName(t),o=[],s=0;i=n[s++];)o.push(i);return o},mergToParent:function(e){for(var t=e.parentNode;t&&dtd.$removeEmpty[t.tagName];){if(t.tagName==e.tagName||"A"==t.tagName){if(domUtils.trimWhiteTextNode(t),"SPAN"==t.tagName&&!domUtils.isSameStyle(t,e)||"A"==t.tagName&&"SPAN"==e.tagName){if(t.childNodes.length>1||t!==e.parentNode){e.style.cssText=t.style.cssText+";"+e.style.cssText,t=t.parentNode;continue}t.style.cssText+=";"+e.style.cssText,"A"==t.tagName&&(t.style.textDecoration="underline")}if("A"!=t.tagName){t===e.parentNode&&domUtils.remove(e,!0);break}}t=t.parentNode}},mergSibling:function(e,t,i){function n(e,t,i){var n;if((n=i[e])&&!domUtils.isBookmarkNode(n)&&1==n.nodeType&&domUtils.isSameElement(i,n)){for(;n.firstChild;)"firstChild"==t?i.insertBefore(n.lastChild,i.firstChild):i.appendChild(n.firstChild);domUtils.remove(n)}}!t&&n("previousSibling","firstChild",e),!i&&n("nextSibling","lastChild",e)},unselectable:gecko?function(e){e.style.MozUserSelect="none"}:webkit?function(e){e.style.KhtmlUserSelect="none"}:function(e){e.onselectstart=function(){return!1},e.onclick=e.onkeyup=e.onkeydown=function(){return!1},e.unselectable="on",e.setAttribute("unselectable","on");for(var t,i=0;t=e.all[i++];)switch(t.tagName.toLowerCase()){case"iframe":case"textarea":case"input":case"select":break;default:t.unselectable="on",e.setAttribute("unselectable","on")}},removeAttributes:function(e,t){for(var i,n=0;i=t[n++];){switch(i=attrFix[i]||i){case"className":e[i]="";break;case"style":e.style.cssText="",!browser.ie&&e.removeAttributeNode(e.getAttributeNode("style"))}e.removeAttribute(i)}},setAttributes:function(e,t){for(var i in t){var n=t[i];switch(i){case"class":e.className=n;break;case"style":e.style.cssText=e.style.cssText+";"+n;break;case"innerHTML":e[i]=n;break;case"value":e.value=n;break;default:e.setAttribute(attrFix[i]||i,n)}}return e},getComputedStyle:function(e,t){function i(e,t){return"font-size"==e&&/pt$/.test(t)&&(t=Math.round(parseFloat(t)/.75)+"px"),t}if(3==e.nodeType&&(e=e.parentNode),browser.ie&&browser.version<9&&"font-size"==t&&!e.style.fontSize&&!dtd.$empty[e.tagName]&&!dtd.$nonChild[e.tagName]){var n=e.ownerDocument.createElement("span");n.style.cssText="padding:0;border:0;font-family:simsun;",n.innerHTML=".",e.appendChild(n);var o=n.offsetHeight;return e.removeChild(n),n=null,o+"px"}try{var s=domUtils.getStyle(e,t)||(window.getComputedStyle?domUtils.getWindow(e).getComputedStyle(e,"").getPropertyValue(t):(e.currentStyle||e.style)[utils.cssStyleToDomStyle(t)])}catch(r){return null}return i(t,utils.fixColor(t,s))},removeClasses:function(e,t){e.className=(" "+e.className+" ").replace(new RegExp("(?:\\s+(?:"+t.join("|")+"))+\\s+","g")," ")},removeStyle:function(e,t){e.style[utils.cssStyleToDomStyle(t)]="",e.style.cssText||domUtils.removeAttributes(e,["style"])},hasClass:function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},getStyle:function(e,t){var i=e.style[utils.cssStyleToDomStyle(t)];return utils.fixColor(t,i)},setStyle:function(e,t,i){e.style[utils.cssStyleToDomStyle(t)]=i},setStyles:function(e,t){for(var i in t)t.hasOwnProperty(i)&&domUtils.setStyle(e,i,t[i])},removeDirtyAttr:function(e){for(var t,i=0,n=e.getElementsByTagName("*");t=n[i++];)t.removeAttribute("_moz_dirty");e.removeAttribute("_moz_dirty")},getChildCount:function(e,t){var i=0,n=e.firstChild;for(t=t||function(){return 1};n;)t(n)&&i++,n=n.nextSibling;return i},isEmptyNode:function(e){return!e.firstChild||0==domUtils.getChildCount(e,function(e){return!domUtils.isBr(e)&&!domUtils.isBookmarkNode(e)&&!domUtils.isWhitespace(e)})},clearSelectedArr:function(e){for(var t;t=e.pop();)domUtils.removeAttributes(t,["class"])},scrollToView:function(e,t,i){var n=function(){var e=t.document,i="CSS1Compat"==e.compatMode;return{width:(i?e.documentElement.clientWidth:e.body.clientWidth)||0,height:(i?e.documentElement.clientHeight:e.body.clientHeight)||0}},o=function(e){if("pageXOffset"in e)return{x:e.pageXOffset||0,y:e.pageYOffset||0};var t=e.document;return{x:t.documentElement.scrollLeft||t.body.scrollLeft||0,y:t.documentElement.scrollTop||t.body.scrollTop||0}},s=n().height,r=-1*s+i;r+=e.offsetHeight||0;var a=domUtils.getXY(e);r+=a.y;var l=o(t).y;(r>l||l-s>r)&&t.scrollTo(0,r+(0>r?-20:20))},isBr:function(e){return 1==e.nodeType&&"BR"==e.tagName},isFillChar:function(e){return 3==e.nodeType&&!e.nodeValue.replace(new RegExp(domUtils.fillChar),"").length},isStartInblock:function(e){for(var t,i=e.cloneRange(),n=0,o=i.startContainer;o&&domUtils.isFillChar(o);)t=o,o=o.previousSibling;for(t&&(i.setStartBefore(t),o=i.startContainer),1==o.nodeType&&domUtils.isEmptyNode(o)&&1==i.startOffset&&i.setStart(o,0).collapse(!0);!i.startOffset;){if(o=i.startContainer,domUtils.isBlockElm(o)||domUtils.isBody(o)){n=1;break}var s,r=i.startContainer.previousSibling;if(r){for(;r&&domUtils.isFillChar(r);)s=r,r=r.previousSibling;s?i.setStartBefore(s):i.setStartBefore(i.startContainer)}else i.setStartBefore(i.startContainer)}return n&&!domUtils.isBody(i.startContainer)?1:0},isEmptyBlock:function(e){var t=new RegExp("[ 	\r\n"+domUtils.fillChar+"]","g");if(e[browser.ie?"innerText":"textContent"].replace(t,"").length>0)return 0;for(var i in dtd.$isNotEmpty)if(e.getElementsByTagName(i).length)return 0;return 1},setViewportOffset:function(e,t){var i=0|parseInt(e.style.left),n=0|parseInt(e.style.top),o=e.getBoundingClientRect(),s=t.left-o.left,r=t.top-o.top;s&&(e.style.left=i+s+"px"),r&&(e.style.top=n+r+"px")},fillNode:function(e,t){t.appendChild(browser.ie?e.createTextNode(domUtils.fillChar):e.createElement("br"))},moveChild:function(e,t,i){for(;e.firstChild;)i&&t.firstChild?t.insertBefore(e.lastChild,t.firstChild):t.appendChild(e.firstChild)},hasNoAttributes:function(e){return browser.ie?/^<\w+\s*?>/.test(e.outerHTML):0==e.attributes.length}},fillCharReg=new RegExp(domUtils.fillChar,"g");!function(){function e(e){e.collapsed=e.startContainer&&e.endContainer&&e.startContainer===e.endContainer&&e.startOffset==e.endOffset}function t(t,i,n,o){return 1==i.nodeType&&(dtd.$empty[i.tagName]||dtd.$nonChild[i.tagName])&&(n=domUtils.getNodeIndex(i)+(t?0:1),i=i.parentNode),t?(o.startContainer=i,o.startOffset=n,o.endContainer||o.collapse(!0)):(o.endContainer=i,o.endOffset=n,o.startContainer||o.collapse(!1)),e(o),o}function i(e,t){var i,n,o=e.startContainer,s=e.endContainer,r=e.startOffset,a=e.endOffset,l=e.document,d=l.createDocumentFragment();if(1==o.nodeType&&(o=o.childNodes[r]||(i=o.appendChild(l.createTextNode("")))),1==s.nodeType&&(s=s.childNodes[a]||(n=s.appendChild(l.createTextNode("")))),o===s&&3==o.nodeType)return d.appendChild(l.createTextNode(o.substringData(r,a-r))),t&&(o.deleteData(r,a-r),e.collapse(!0)),d;for(var u,c,h=d,p=domUtils.findParents(o,!0),f=domUtils.findParents(s,!0),m=0;p[m]==f[m];m++);for(var g,v=m;g=p[v];v++){for(u=g.nextSibling,g==o?i||(3==e.startContainer.nodeType?(h.appendChild(l.createTextNode(o.nodeValue.slice(r))),t&&o.deleteData(r,o.nodeValue.length-r)):h.appendChild(t?o:o.cloneNode(!0))):(c=g.cloneNode(!1),h.appendChild(c));u&&u!==s&&u!==f[v];)g=u.nextSibling,h.appendChild(t?u:u.cloneNode(!0)),u=g;h=c}h=d,p[m]||(h.appendChild(p[m-1].cloneNode(!1)),h=h.firstChild);for(var b,v=m;b=f[v];v++){if(u=b.previousSibling,b==s?n||3!=e.endContainer.nodeType||(h.appendChild(l.createTextNode(s.substringData(0,a))),t&&s.deleteData(0,a)):(c=b.cloneNode(!1),h.appendChild(c)),v!=m||!p[m])for(;u&&u!==o;)b=u.previousSibling,h.insertBefore(t?u:u.cloneNode(!0),h.firstChild),u=b;h=c}return t&&e.setStartBefore(f[m]?p[m]?f[m]:p[m-1]:f[m-1]).collapse(!0),i&&domUtils.remove(i),n&&domUtils.remove(n),d}function n(e){try{if(s&&domUtils.inDoc(s,e))if(s.nodeValue.replace(fillCharReg,"").length)s.nodeValue=s.nodeValue.replace(fillCharReg,"");else{var t=s.parentNode;for(domUtils.remove(s);t&&domUtils.isEmptyInlineElement(t);)s=t.parentNode,domUtils.remove(t),t=s}}catch(i){}}function o(e,t){var i;for(e=e[t];e&&domUtils.isFillChar(e);)i=e[t],domUtils.remove(e),e=i}var s,r=0,a=domUtils.fillChar,l=dom.Range=function(e){var t=this;t.startContainer=t.startOffset=t.endContainer=t.endOffset=null,t.document=e,t.collapsed=!0};l.prototype={cloneContents:function(){return this.collapsed?null:i(this,0)},deleteContents:function(){if(this.collapsed||i(this,1),browser.webkit){var e=this.startContainer;3!=e.nodeType||e.nodeValue.length||(this.setStartBefore(e).collapse(!0),domUtils.remove(e))}return this},extractContents:function(){return this.collapsed?null:i(this,2)},setStart:function(e,i){return t(!0,e,i,this)},setEnd:function(e,i){return t(!1,e,i,this)},setStartAfter:function(e){return this.setStart(e.parentNode,domUtils.getNodeIndex(e)+1)},setStartBefore:function(e){return this.setStart(e.parentNode,domUtils.getNodeIndex(e))},setEndAfter:function(e){return this.setEnd(e.parentNode,domUtils.getNodeIndex(e)+1)},setEndBefore:function(e){return this.setEnd(e.parentNode,domUtils.getNodeIndex(e))},selectNode:function(e){return this.setStartBefore(e).setEndAfter(e)},selectNodeContents:function(e){return this.setStart(e,0).setEnd(e,3==e.nodeType?e.nodeValue.length:e.childNodes.length)},cloneRange:function(){var e=this,t=new l(e.document);return t.setStart(e.startContainer,e.startOffset).setEnd(e.endContainer,e.endOffset)},collapse:function(e){var t=this;return e?(t.endContainer=t.startContainer,t.endOffset=t.startOffset):(t.startContainer=t.endContainer,t.startOffset=t.endOffset),t.collapsed=!0,t},shrinkBoundary:function(e){for(var t,i=this,n=i.collapsed;1==i.startContainer.nodeType&&(t=i.startContainer.childNodes[i.startOffset])&&1==t.nodeType&&!domUtils.isBookmarkNode(t)&&!dtd.$empty[t.tagName]&&!dtd.$nonChild[t.tagName];)i.setStart(t,0);if(n)return i.collapse(!0);if(!e)for(;1==i.endContainer.nodeType&&i.endOffset>0&&(t=i.endContainer.childNodes[i.endOffset-1])&&1==t.nodeType&&!domUtils.isBookmarkNode(t)&&!dtd.$empty[t.tagName]&&!dtd.$nonChild[t.tagName];)i.setEnd(t,t.childNodes.length);return i},getCommonAncestor:function(e,t){var i=this.startContainer,n=this.endContainer;return i===n?e&&1==i.nodeType&&this.startOffset==this.endOffset-1?i.childNodes[this.startOffset]:t&&3==i.nodeType?i.parentNode:i:domUtils.getCommonAncestor(i,n)},trimBoundary:function(e){this.txtToElmBoundary();var t=this.startContainer,i=this.startOffset,n=this.collapsed,o=this.endContainer;if(3==t.nodeType){if(0==i)this.setStartBefore(t);else if(i>=t.nodeValue.length)this.setStartAfter(t);else{var s=domUtils.split(t,i);t===o?this.setEnd(s,this.endOffset-i):t.parentNode===o&&(this.endOffset+=1),this.setStartBefore(s)}if(n)return this.collapse(!0)}return e||(i=this.endOffset,o=this.endContainer,3==o.nodeType&&(0==i?this.setEndBefore(o):i>=o.nodeValue.length?this.setEndAfter(o):(domUtils.split(o,i),this.setEndAfter(o)))),this},txtToElmBoundary:function(){function e(e,t){var i=e[t+"Container"],n=e[t+"Offset"];3==i.nodeType&&(n?n>=i.nodeValue.length&&e["set"+t.replace(/(\w)/,function(e){return e.toUpperCase()})+"After"](i):e["set"+t.replace(/(\w)/,function(e){return e.toUpperCase()})+"Before"](i))}return this.collapsed||(e(this,"start"),e(this,"end")),this},insertNode:function(e){var t=e,i=1;11==e.nodeType&&(t=e.firstChild,i=e.childNodes.length),this.trimBoundary(!0);var n=this.startContainer,o=this.startOffset,s=n.childNodes[o];return s?n.insertBefore(e,s):n.appendChild(e),t.parentNode===this.endContainer&&(this.endOffset=this.endOffset+i),this.setStartBefore(t)},setCursor:function(e,t){return this.collapse(e?!1:!0).select(t)},createBookmark:function(e,t){var i,n=this.document.createElement("span");return n.style.cssText="display:none;line-height:0px;",n.appendChild(this.document.createTextNode("﻿")),n.id="_baidu_bookmark_start_"+(t?"":r++),this.collapsed||(i=n.cloneNode(!0),i.id="_baidu_bookmark_end_"+(t?"":r++)),this.insertNode(n),i&&(this.collapse(!1).insertNode(i),this.setEndBefore(i)),this.setStartAfter(n),{start:e?n.id:n,end:i?e?i.id:i:null,id:e}},moveToBookmark:function(e){var t=e.id?this.document.getElementById(e.start):e.start,i=e.end&&e.id?this.document.getElementById(e.end):e.end;return this.setStartBefore(t),domUtils.remove(t),i?(this.setEndBefore(i),domUtils.remove(i)):this.collapse(!0),this},enlarge:function(e,t){var i,n,o=domUtils.isBody,s=this.document.createTextNode("");if(e){for(n=this.startContainer,1==n.nodeType?n.childNodes[this.startOffset]?i=n=n.childNodes[this.startOffset]:(n.appendChild(s),i=n=s):i=n;;){if(domUtils.isBlockElm(n)){for(n=i;(i=n.previousSibling)&&!domUtils.isBlockElm(i);)n=i;this.setStartBefore(n);break}i=n,n=n.parentNode}for(n=this.endContainer,1==n.nodeType?((i=n.childNodes[this.endOffset])?n.insertBefore(s,i):n.appendChild(s),i=n=s):i=n;;){if(domUtils.isBlockElm(n)){for(n=i;(i=n.nextSibling)&&!domUtils.isBlockElm(i);)n=i;this.setEndAfter(n);break}i=n,n=n.parentNode}s.parentNode===this.endContainer&&this.endOffset--,domUtils.remove(s)}if(!this.collapsed){for(;!(0!=this.startOffset||t&&t(this.startContainer)||o(this.startContainer));)this.setStartBefore(this.startContainer);for(;!(this.endOffset!=(1==this.endContainer.nodeType?this.endContainer.childNodes.length:this.endContainer.nodeValue.length)||t&&t(this.endContainer)||o(this.endContainer));)this.setEndAfter(this.endContainer)}return this},adjustmentBoundary:function(){if(!this.collapsed){for(;!domUtils.isBody(this.startContainer)&&this.startOffset==this.startContainer[3==this.startContainer.nodeType?"nodeValue":"childNodes"].length;)this.setStartAfter(this.startContainer);for(;!domUtils.isBody(this.endContainer)&&!this.endOffset;)this.setEndBefore(this.endContainer)}return this},applyInlineStyle:function(e,t,i){if(this.collapsed)return this;this.trimBoundary().enlarge(!1,function(e){return 1==e.nodeType&&domUtils.isBlockElm(e)}).adjustmentBoundary();for(var n,o,s=this.createBookmark(),r=s.end,a=function(e){return 1==e.nodeType?"br"!=e.tagName.toLowerCase():!domUtils.isWhitespace(e)},l=domUtils.getNextDomNode(s.start,!1,a),d=this.cloneRange();l&&domUtils.getPosition(l,r)&domUtils.POSITION_PRECEDING;)if(3==l.nodeType||dtd[e][l.tagName]){for(d.setStartBefore(l),n=l;n&&(3==n.nodeType||dtd[e][n.tagName])&&n!==r;)o=n,n=domUtils.getNextDomNode(n,1==n.nodeType,null,function(t){return dtd[e][t.tagName]});var u,c=d.setEndAfter(o).extractContents();if(i&&i.length>0){var h,p;p=h=i[0].cloneNode(!1);for(var f,m=1;f=i[m++];)h.appendChild(f.cloneNode(!1)),h=h.firstChild;u=h}else u=d.document.createElement(e);t&&domUtils.setAttributes(u,t),u.appendChild(c),d.insertNode(i?p:u);var g;if("span"==e&&t.style&&/text\-decoration/.test(t.style)&&(g=domUtils.findParentByTagName(u,"a",!0))?(domUtils.setAttributes(g,t),domUtils.remove(u,!0),u=g):(domUtils.mergSibling(u),domUtils.clearEmptySibling(u)),domUtils.mergChild(u,e,t),l=domUtils.getNextDomNode(u,!1,a),domUtils.mergToParent(u),n===r)break}else l=domUtils.getNextDomNode(l,!0,a);return this.moveToBookmark(s)},removeInlineStyle:function(e){if(this.collapsed)return this;e=utils.isArray(e)?e:[e],this.shrinkBoundary().adjustmentBoundary();for(var t=this.startContainer,i=this.endContainer;;){if(1==t.nodeType){if(utils.indexOf(e,t.tagName.toLowerCase())>-1)break;if("body"==t.tagName.toLowerCase()){t=null;break}}t=t.parentNode}for(;;){if(1==i.nodeType){if(utils.indexOf(e,i.tagName.toLowerCase())>-1)break;if("body"==i.tagName.toLowerCase()){i=null;break}}i=i.parentNode}var n,o,s=this.createBookmark();t&&(o=this.cloneRange().setEndBefore(s.start).setStartBefore(t),n=o.extractContents(),o.insertNode(n),domUtils.clearEmptySibling(t,!0),t.parentNode.insertBefore(s.start,t)),i&&(o=this.cloneRange().setStartAfter(s.end).setEndAfter(i),n=o.extractContents(),o.insertNode(n),domUtils.clearEmptySibling(i,!1,!0),i.parentNode.insertBefore(s.end,i.nextSibling));for(var r,a=domUtils.getNextDomNode(s.start,!1,function(e){return 1==e.nodeType});a&&a!==s.end;)r=domUtils.getNextDomNode(a,!0,function(e){return 1==e.nodeType}),utils.indexOf(e,a.tagName.toLowerCase())>-1&&domUtils.remove(a,!0),a=r;return this.moveToBookmark(s)},getClosedNode:function(){var e;if(!this.collapsed){var t=this.cloneRange().adjustmentBoundary().shrinkBoundary();if(1==t.startContainer.nodeType&&t.startContainer===t.endContainer&&1==t.endOffset-t.startOffset){var i=t.startContainer.childNodes[t.startOffset];i&&1==i.nodeType&&(dtd.$empty[i.tagName]||dtd.$nonChild[i.tagName])&&(e=i)}}return e},select:browser.ie?function(e,t){var i;this.collapsed||this.shrinkBoundary();var r=this.getClosedNode();if(r&&!t){try{i=this.document.body.createControlRange(),i.addElement(r),i.select()}catch(l){}return this}var d,u=this.createBookmark(),c=u.start;if(i=this.document.body.createTextRange(),i.moveToElementText(c),i.moveStart("character",1),this.collapsed){if(!e&&3!=this.startContainer.nodeType){var h,p=this.document.createElement("span");n(this.document),h=s=this.document.createTextNode(a),p.appendChild(this.document.createTextNode(a)),c.parentNode.insertBefore(p,c),c.parentNode.insertBefore(h,c),o(p,"previousSibling"),o(c,"nextSibling"),i.moveStart("character",-1),i.collapse(!0)}}else{var f=this.document.body.createTextRange();d=u.end,f.moveToElementText(d),i.setEndPoint("EndToEnd",f)}return this.moveToBookmark(u),p&&domUtils.remove(p),i.select(),this}:function(e){var t,i=domUtils.getWindow(this.document),r=i.getSelection();if(browser.gecko?this.document.body.focus():i.focus(),r){r.removeAllRanges(),this.collapsed&&!e&&(t=this.document.createTextNode(a),this.insertNode(t),n(this.document),o(t,"previousSibling"),o(t,"nextSibling"),s=t,this.setStart(t,browser.webkit?1:0).collapse(!0));var l=this.document.createRange();l.setStart(this.startContainer,this.startOffset),l.setEnd(this.endContainer,this.endOffset),r.addRange(l)}return this},scrollToView:function(e,t){e=e?window:domUtils.getWindow(this.document);var i=this.document.createElement("span");
i.innerHTML="&nbsp;";var n=this.cloneRange();return n.insertNode(i),domUtils.scrollToView(i,e,t),domUtils.remove(i),this}}}(),function(){function e(e,t){var i=domUtils.getNodeIndex;e=e.duplicate(),e.collapse(t);var n=e.parentElement();if(!n.hasChildNodes())return{container:n,offset:0};for(var o,s,r=n.children,a=e.duplicate(),l=0,d=r.length-1,u=-1;d>=l;){u=Math.floor((l+d)/2),o=r[u],a.moveToElementText(o);var c=a.compareEndPoints("StartToStart",e);if(c>0)d=u-1;else{if(!(0>c))return{container:n,offset:i(o)};l=u+1}}if(-1==u){if(a.moveToElementText(n),a.setEndPoint("StartToStart",e),s=a.text.replace(/(\r\n|\r)/g,"\n").length,r=n.childNodes,!s)return o=r[r.length-1],{container:o,offset:o.nodeValue.length};for(var h=r.length;s>0;)s-=r[--h].nodeValue.length;return{container:r[h],offset:-s}}if(a.collapse(c>0),a.setEndPoint(c>0?"StartToStart":"EndToStart",e),s=a.text.replace(/(\r\n|\r)/g,"\n").length,!s)return dtd.$empty[o.tagName]||dtd.$nonChild[o.tagName]?{container:n,offset:i(o)+(c>0?0:1)}:{container:o,offset:c>0?0:o.childNodes.length};for(;s>0;)try{var p=o;o=o[c>0?"previousSibling":"nextSibling"],s-=o.nodeValue.length}catch(f){return{container:n,offset:i(p)}}return{container:o,offset:c>0?-s:o.nodeValue.length+s}}function t(t,i){if(t.item)i.selectNode(t.item(0));else{var n=e(t,!0);i.setStart(n.container,n.offset),0!=t.compareEndPoints("StartToEnd",t)&&(n=e(t,!1),i.setEnd(n.container,n.offset))}return i}function i(e){var t;try{t=e.getNative().createRange()}catch(i){return null}var n=t.item?t.item(0):t.parentElement();return(n.ownerDocument||n)===e.document?t:null}var n=dom.Selection=function(e){var t,n=this;n.document=e,ie&&(t=domUtils.getWindow(e).frameElement,domUtils.on(t,"beforedeactivate",function(){n._bakIERange=n.getIERange()}),domUtils.on(t,"activate",function(){try{!i(n)&&n._bakIERange&&n._bakIERange.select()}catch(e){}n._bakIERange=null})),t=e=null};n.prototype={getNative:function(){var e=this.document;return e?ie?e.selection:domUtils.getWindow(e).getSelection():null},getIERange:function(){var e=i(this);return!e&&this._bakIERange?this._bakIERange:e},cache:function(){this.clear(),this._cachedRange=this.getRange(),this._cachedStartElement=this.getStart(),this._cachedStartElementPath=this.getStartElementPath()},getStartElementPath:function(){if(this._cachedStartElementPath)return this._cachedStartElementPath;var e=this.getStart();return e?domUtils.findParents(e,!0,null,!0):[]},clear:function(){this._cachedStartElementPath=this._cachedRange=this._cachedStartElement=null},isFocus:function(){return browser.ie&&i(this)||!browser.ie&&this.getNative().rangeCount?!0:!1},getRange:function(){function e(e){for(var t=i.document.body.firstChild,n=e.collapsed;t&&t.firstChild;)e.setStart(t,0),t=t.firstChild;e.startContainer||e.setStart(i.document.body,0),n&&e.collapse(!0)}var i=this;if(null!=i._cachedRange)return this._cachedRange;var n=new baidu.editor.dom.Range(i.document);if(ie){var o=i.getIERange();o?t(o,n):e(n)}else{var s=i.getNative();if(s&&s.rangeCount){var r=s.getRangeAt(0),a=s.getRangeAt(s.rangeCount-1);n.setStart(r.startContainer,r.startOffset).setEnd(a.endContainer,a.endOffset),n.collapsed&&domUtils.isBody(n.startContainer)&&!n.startOffset&&e(n)}else{if(this._bakRange&&domUtils.inDoc(this._bakRange.startContainer,this.document))return this._bakRange;e(n)}}return this._bakRange=n},getStart:function(){if(this._cachedStartElement)return this._cachedStartElement;var e,t,i,n,o=ie?this.getIERange():this.getRange();if(ie){if(!o)return this.document.body.firstChild;if(o.item)return o.item(0);for(e=o.duplicate(),e.text.length>0&&e.moveStart("character",1),e.collapse(1),t=e.parentElement(),n=i=o.parentElement();i=i.parentNode;)if(i==t){t=n;break}}else if(o.shrinkBoundary(),t=o.startContainer,1==t.nodeType&&t.hasChildNodes()&&(t=t.childNodes[Math.min(t.childNodes.length-1,o.startOffset)]),3==t.nodeType)return t.parentNode;return t},getText:function(){if(this.isFocus()){var e=this.getNative(),t=browser.ie?e.createRange():e.getRangeAt(0);return t.text||t.toString()}return""}}}(),function(){function e(e){for(var t,i,n=e.getElementsByTagName("img"),o=0;i=n[o++];)(t=i.getAttribute("orgSrc"))&&(i.src=t,i.removeAttribute("orgSrc"));for(var s,r=e.getElementsByTagName("a"),o=0;s=r[o++];o++)s.getAttribute("data_ue_src")&&s.setAttribute("href",s.getAttribute("data_ue_src"))}var t,i=0,n=UE.Editor=function(e){var t=this;t.uid=i++,EventBase.call(t),t.commands={},t.options=utils.extend(e||{},UEDITOR_CONFIG,!0);for(var n in UE.plugins)UE.plugins[n].call(t)};n.prototype={destroy:function(){this.fireEvent("destroy"),this.container.innerHTML="",domUtils.remove(this.container)},render:function(e){e.constructor===String&&(e=document.getElementById(e)),e&&(e.innerHTML='<iframe id="baidu_editor_'+this.uid+'"'+'width="100%" height="100%"  frameborder="0"></iframe>',e.style.overflow="hidden",this._setup(e.firstChild.contentWindow.document))},_setup:function(e){var t=this.options,i=this;!browser.webkit&&e.open();var n=ie&&browser.version<9;if(e.write((ie&&browser.version<9?"":"<!DOCTYPE html>")+'<html xmlns="http://www.w3.org/1999/xhtml"'+(n?"":' class="view"')+"><head>"+(t.iframeCssUrl?'<link rel="stylesheet" type="text/css" href="'+utils.unhtml(/^http/.test(t.iframeCssUrl)?t.iframeCssUrl:t.UEDITOR_HOME_URL+t.iframeCssUrl)+'"/>':"")+'<style type="text/css">'+(t.initialStyle||" ")+"</style></head><body"+(n?' class="view"':"")+"></body></html>"),!browser.webkit&&e.close(),ie?(e.body.disabled=!0,e.body.contentEditable=!0,e.body.disabled=!1):(e.body.contentEditable=!0,e.body.spellcheck=!1),this.document=e,this.window=e.defaultView||e.parentWindow,this.iframe=this.window.frameElement,this.body=e.body,this.options.minFrameHeight&&(this.setHeight(this.options.minFrameHeight),this.body.style.height=this.options.minFrameHeight),this.selection=new dom.Selection(e),browser.gecko&&this.selection.getNative().removeAllRanges(),this._initEvents(),i.options.initialContent)if(i.options.autoClearinitialContent){var o=i.execCommand;i.execCommand=function(){i.fireEvent("firstBeforeExecCommand"),o.apply(i,arguments)},this.setDefaultContent(this.options.initialContent)}else this.setContent(this.options.initialContent,!0);for(var s=this.iframe.parentNode;!domUtils.isBody(s);s=s.parentNode)if("FORM"==s.tagName){domUtils.on(s,"submit",function(){var e=document.getElementById("ueditor_textarea_"+i.options.textarea);e||(e=document.createElement("textarea"),e.setAttribute("name",i.options.textarea),e.id="ueditor_textarea_"+i.options.textarea,e.style.display="none",this.appendChild(e)),e.value=i.getContent()});break}domUtils.isEmptyNode(i.body)&&(this.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>"),i.options.focus&&setTimeout(function(){i.focus(),!i.options.autoClearinitialContent&&i._selectionChange()}),this.container||(this.container=this.iframe.parentNode),i.options.fullscrren&&i.ui&&i.ui.setFullScreen(!0),this.fireEvent("ready"),browser.ie||domUtils.on(i.window,"blur",function(){i._bakRange=i.selection.getRange(),i.selection.getNative().removeAllRanges()}),browser.gecko&&browser.version<=10902&&(i.body.contentEditable=!1,setTimeout(function(){i.body.contentEditable=!0},100),setInterval(function(){i.body.style.height=i.iframe.offsetHeight-20+"px"},100))},sync:function(e){function t(e){var t=document.getElementById("ueditor_textarea_"+n.options.textarea);t||(t=document.createElement("textarea"),t.setAttribute("name",n.options.textarea),t.id="ueditor_textarea_"+n.options.textarea,t.style.display="none",e.appendChild(t)),t.value=n.getContent()}var i,n=this;if(e)i=document.getElementById(e),i&&t(i);else for(i=n.iframe.parentNode;!domUtils.isBody(i);i=i.parentNode)if("FORM"==i.tagName){t(i);break}},setHeight:function(e){e!==parseInt(this.iframe.parentNode.style.height)&&(this.iframe.parentNode.style.height=e+"px"),browser.ie&&9==browser.version&&(this.document.body.style.height=e-20+"px")},getContent:function(e){this.fireEvent("beforegetcontent",e);var t=new RegExp(domUtils.fillChar,"g"),i=this.document.body.innerHTML.replace(t,"");if(this.fireEvent("aftergetcontent",e),this.serialize){var n=this.serialize.parseHTML(i);n=this.serialize.transformOutput(n),i=this.serialize.toHTML(n)}return i},getContentTxt:function(){var e=new RegExp(domUtils.fillChar,"g");return this.body[browser.ie?"innerText":"textContent"].replace(e,"")},setContent:function(t,i){var n=this;n.fireEvent("beforesetcontent");var o=this.serialize;if(o){var s=o.parseHTML(t);s=o.transformInput(s),s=o.filter(s),t=o.toHTML(s)}if(this.document.body.innerHTML=t.replace(new RegExp("[\r"+domUtils.fillChar+"]*","g"),""),browser.ie&&browser.version<7&&n.options.relativePath&&e(this.document.body),"p"==n.options.enterTag){var r,a=this.body.firstChild,l=n.document.createElement("p");if(!a||1==a.nodeType&&dtd.$cdata[a.tagName])this.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>"+this.body.innerHTML;else for(;a;)3==a.nodeType||1==a.nodeType&&dtd.p[a.tagName]?(r=a.nextSibling,l.appendChild(a),a=r,a||n.body.appendChild(l)):(l.firstChild&&(n.body.insertBefore(l,a),l=n.document.createElement("p")),a=a.nextSibling)}n.adjustTable&&n.adjustTable(n.body),n.fireEvent("aftersetcontent"),n.fireEvent("contentchange"),!i&&n._selectionChange(),n._bakRange=n._bakIERange=null,browser.gecko&&n.selection.getNative().removeAllRanges()},focus:function(){this.selection.getRange().select()},_initEvents:function(){var e=this,t=e.document,i=e.window;e._proxyDomEvent=utils.bind(e._proxyDomEvent,e),browser.ie&&domUtils.on(t,"mousedown",function(e){2==e.button&&alert("请使用ctrl+v进行粘贴！")}),domUtils.on(t,["click","contextmenu","mousedown","keydown","keyup","keypress","mouseup","mouseover","mouseout","selectstart"],e._proxyDomEvent),domUtils.on(i,["focus","blur"],e._proxyDomEvent),domUtils.on(t,["mouseup","keydown"],function(t){"keydown"==t.type&&(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)||2!=t.button&&e._selectionChange(250,t)});var n,o=0,s=browser.ie?e.body:e.document;domUtils.on(s,"dragstart",function(){o=1}),domUtils.on(s,browser.webkit?"dragover":"drop",function(){return browser.webkit?function(){clearTimeout(n),n=setTimeout(function(){if(!o){var t=e.selection,i=t.getRange();if(i){var n=i.getCommonAncestor();if(n&&e.serialize){var s=e.serialize,r=s.filter(s.transformInput(s.parseHTML(s.word(n.innerHTML))));n.innerHTML=s.toHTML(r)}}}o=0},200)}:function(e){o||(e.preventDefault?e.preventDefault():e.returnValue=!1),o=0}}())},_proxyDomEvent:function(e){return this.fireEvent(e.type.replace(/^on/,""),e)},_selectionChange:function(e,i){var n=this;if(n.selection.isFocus()){var o,s,r=!1;if(browser.ie&&browser.version<9&&i&&"mouseup"==i.type){var a=this.selection.getRange();a.collapsed||(r=!0,o=i.clientX,s=i.clientY)}clearTimeout(t),t=setTimeout(function(){if(n.selection.getNative()){var e;if(r&&"None"==n.selection.getNative().type){e=n.document.body.createTextRange();try{e.moveToPoint(o,s)}catch(t){e=null}}var a;e&&(a=n.selection.getIERange,n.selection.getIERange=function(){return e}),n.selection.cache(),a&&(n.selection.getIERange=a),n.selection._cachedRange&&n.selection._cachedStartElement&&(n.fireEvent("beforeselectionchange"),n.fireEvent("selectionchange",!!i),n.fireEvent("afterselectionchange"),n.selection.clear())}},e||50)}},_callCmdFn:function(e,t){var i,n,o=t[0].toLowerCase();return n=(i=this.commands[o])&&i[e]||(i=UE.commands[o])&&i[e],i&&!n&&"queryCommandState"==e?!1:n?n.apply(this,t):void 0},execCommand:function(e){e=e.toLowerCase();var t,i=this,n=i.commands[e]||UE.commands[e];if(n&&n.execCommand)return n.notNeedUndo||i.__hasEnterExecCommand?t=this._callCmdFn("execCommand",arguments):(i.__hasEnterExecCommand=!0,-1!=i.queryCommandState(e)&&(i.fireEvent("beforeexeccommand",e),t=this._callCmdFn("execCommand",arguments),i.fireEvent("afterexeccommand",e)),i.__hasEnterExecCommand=!1),i._selectionChange(),t},queryCommandState:function(){return this._callCmdFn("queryCommandState",arguments)},queryCommandValue:function(){return this._callCmdFn("queryCommandValue",arguments)},hasContents:function(e){if(e)for(var t,i=0;t=e[i++];)if(this.document.getElementsByTagName(t).length>0)return!0;return domUtils.isEmptyBlock(this.body)?!1:!0},reset:function(){this.fireEvent("reset")},setDefaultContent:function(){function t(){var e=this;if(e.document.getElementById("initContent")){e.document.body.innerHTML="<p>"+(ie?"":"<br/>")+"</p>";var i=e.selection.getRange();e.removeListener("firstBeforeExecCommand",t),e.removeListener("focus",t),setTimeout(function(){i.setStart(e.document.body.firstChild,0).collapse(!0).select(!0),e._selectionChange()})}}return function(i){var n=this;n.document.body.innerHTML='<p id="initContent">'+i+"</p>",browser.ie&&browser.version<7&&n.options.relativePath&&e(n.document.body),n.addListener("firstBeforeExecCommand",t),n.addListener("focus",t)}}()},utils.inherits(n,EventBase)}(),UE.commands.inserthtml={execCommand:function(e,t){var i,n,o,s=this,r=s.currentSelectedArr;i=s.selection.getRange(),o=i.document.createElement("div"),o.style.display="inline",o.innerHTML=utils.trim(t);try{s.adjustTable&&s.adjustTable(o)}catch(a){}if(r&&r.length){for(var l,n=0;l=r[n++];)l.className="";r[0].innerHTML="",i.setStart(r[0],0).collapse(!0),s.currentSelectedArr=[]}if(!i.collapsed&&(i.deleteContents(),1==i.startContainer.nodeType)){var d,u=i.startContainer.childNodes[i.startOffset];if(u&&domUtils.isBlockElm(u)&&(d=u.previousSibling)&&domUtils.isBlockElm(d)){for(i.setEnd(d,d.childNodes.length).collapse();u.firstChild;)d.appendChild(u.firstChild);domUtils.remove(u)}}for(var u,c,d,h,p=0;u=o.firstChild;){if(i.insertNode(u),!p&&u.nodeType==domUtils.NODE_ELEMENT&&domUtils.isBlockElm(u)&&(c=domUtils.findParent(u,function(e){return domUtils.isBlockElm(e)}),c&&"body"!=c.tagName.toLowerCase()&&(!dtd[c.tagName][u.nodeName]||u.parentNode!==c))){if(dtd[c.tagName][u.nodeName])for(h=u.parentNode;h!==c;)d=h,h=h.parentNode;else d=c;domUtils.breakParent(u,d||h);var d=u.previousSibling;domUtils.trimWhiteTextNode(d),d.childNodes.length||domUtils.remove(d),p=1}var f=u.nextSibling;if(!o.firstChild&&f&&domUtils.isBlockElm(f)){i.setStart(f,0).collapse(!0);break}i.setEndAfter(u).collapse()}u=i.startContainer,domUtils.isBlockElm(u)&&domUtils.isEmptyNode(u)&&(u.innerHTML=browser.ie?"":"<br/>"),i.select(!0),setTimeout(function(){i=s.selection.getRange(),i.scrollToView(s.autoHeightEnabled,s.autoHeightEnabled?domUtils.getXY(s.iframe).y:0)},200),s.enableAutoHeight()}},UE.commands.insertimage={execCommand:function(e,t){if(t=utils.isArray(t)?t:[t],t.length){var i=this,n=i.selection.getRange(),o=n.getClosedNode();if(o&&/img/i.test(o.tagName)&&"edui-faked-video"!=o.className&&!o.getAttribute("word_img")){var s=t.shift(),r=s.floatStyle;delete s.floatStyle,domUtils.setAttributes(o,s),i.execCommand("imagefloat",r),t.length>0&&(n.setStartAfter(o).setCursor(!1,!0),i.execCommand("insertimage",t))}else{var a,l=[],d="";if(a=t[0],1==t.length)d='<p><img src="'+a.src+'" '+(a.data_ue_src?' data_ue_src="'+a.data_ue_src+'" ':"")+(a.width?'width="'+a.width+'" ':"")+(a.height?' height="'+a.height+'" ':"")+(a.floatStyle&&"center"!=a.floatStyle?' style="float:'+a.floatStyle+';"':"")+(a.title?' title="'+a.title+'"':"")+' border="'+(a.border||0)+'" hspace = "'+(a.hspace||0)+'" vspace = "'+(a.vspace||0)+'" /></p>',"center"==a.floatStyle&&(d='<p style="text-align: center">'+d+"</p>"),l.push(d);else for(var u=0;a=t[u++];)d="<p "+("center"==a.floatStyle?'style="text-align: center" ':"")+'><img src="'+a.src+'" '+(a.width?'width="'+a.width+'" ':"")+(a.data_ue_src?' data_ue_src="'+a.data_ue_src+'" ':"")+(a.height?' height="'+a.height+'" ':"")+' style="'+(a.floatStyle&&"center"!=a.floatStyle?"float:"+a.floatStyle+";":"")+(a.border||"")+'" '+(a.title?' title="'+a.title+'"':"")+" /></p>",l.push(d);i.execCommand("insertHtml",l.join("")),setTimeout(function(){i.enableAutoHeight()},300)}}},queryCommandState:function(){return this.highlight?-1:0}},function(){function e(e){var t=e.startContainer,i=e.endContainer;(t=domUtils.findParentByTagName(t,"a",!0))&&e.setStartBefore(t),(i=domUtils.findParentByTagName(i,"a",!0))&&e.setEndAfter(i)}function t(t,i){e(t=t.adjustmentBoundary());var n=t.startContainer;if(1==n.nodeType&&(n=n.childNodes[t.startOffset],n&&1==n.nodeType&&"A"==n.tagName&&/^(?:https?|ftp|file)\s*:\s*\/\//.test(n[browser.ie?"innerText":"textContent"])&&(n.innerHTML=i.href)),t.removeInlineStyle("a"),t.collapsed){var o=t.document.createElement("a");domUtils.setAttributes(o,i),o.innerHTML=i.href,t.insertNode(o).selectNode(o)}else t.applyInlineStyle("a",i)}UE.commands.unlink={execCommand:function(){var t,i,n=new dom.Range(this.document),o=this.currentSelectedArr;if(o&&o.length>0){for(var s,r=0;s=o[r++];){t=domUtils.getElementsByTagName(s,"a");for(var a,l=0;a=t[l++];)domUtils.remove(a,!0)}domUtils.isEmptyNode(o[0])?n.setStart(o[0],0).setCursor():n.selectNodeContents(o[0]).select()}else{if(n=this.selection.getRange(),n.collapsed&&!domUtils.findParentByTagName(n.startContainer,"a",!0))return;i=n.createBookmark(),e(n),n.removeInlineStyle("a").moveToBookmark(i).select()}},queryCommandState:function(){return!this.highlight&&this.queryCommandValue("link")?0:-1}},UE.commands.link={queryCommandState:function(){return this.highlight?-1:0},execCommand:function(e,i){var n=new dom.Range(this.document),o=this.currentSelectedArr;if(o&&o.length){for(var s,r=0;s=o[r++];)domUtils.isEmptyNode(s)&&(s.innerHTML=i.href),t(n.selectNodeContents(s),i);n.selectNodeContents(o[0]).select()}else t(n=this.selection.getRange(),i),n.collapse().select(browser.gecko?!0:!1)},queryCommandValue:function(){var e,t,i=new dom.Range(this.document),n=this.currentSelectedArr;if(n&&n.length){for(var o,s=0;o=n[s++];)if(e=o.getElementsByTagName("a"),e[0])return e[0]}else{if(i=this.selection.getRange(),!i.collapsed){i.shrinkBoundary();var r=3!=i.startContainer.nodeType&&i.startContainer.childNodes[i.startOffset]?i.startContainer.childNodes[i.startOffset]:i.startContainer,a=3==i.endContainer.nodeType||0==i.endOffset?i.endContainer:i.endContainer.childNodes[i.endOffset-1],l=i.getCommonAncestor();if(t=domUtils.findParentByTagName(l,"a",!0),!t&&1==l.nodeType)for(var d,u,c,e=l.getElementsByTagName("a"),s=0;c=e[s++];)if(d=domUtils.getPosition(c,r),u=domUtils.getPosition(c,a),(d&domUtils.POSITION_FOLLOWING||d&domUtils.POSITION_CONTAINS)&&(u&domUtils.POSITION_PRECEDING||u&domUtils.POSITION_CONTAINS)){t=c;break}return t}if(t=this.selection.getStart(),t&&(t=domUtils.findParentByTagName(t,"a",!0)))return t}}}}(),function(){var e=domUtils.isBlockElm,t=["TD","LI","PRE"],i=function(i,n,o,s){var r,a=i.createBookmark(),l=function(e){return 1==e.nodeType?"br"!=e.tagName.toLowerCase()&&!domUtils.isBookmarkNode(e):!domUtils.isWhitespace(e)};i.enlarge(!0);for(var d,u=i.createBookmark(),c=domUtils.getNextDomNode(u.start,!1,l),h=i.cloneRange();c&&!(domUtils.getPosition(c,u.end)&domUtils.POSITION_FOLLOWING);)if(3!=c.nodeType&&e(c))c=domUtils.getNextDomNode(c,!0,l);else{for(h.setStartBefore(c);c&&c!==u.end&&!e(c);)d=c,c=domUtils.getNextDomNode(c,!1,null,function(t){return!e(t)});if(h.setEndAfter(d),r=i.document.createElement(n),o&&(domUtils.setAttributes(r,o),s&&"customstyle"==s&&o.style&&(r.style.cssText=o.style)),r.appendChild(h.extractContents()),domUtils.isEmptyNode(r)&&domUtils.fillChar(i.document,r),r.hasChildNodes())for(var p=0;p<r.childNodes.length;p++)"BR"==r.childNodes[p].tagName&&r.removeChild(r.childNodes[p]);h.insertNode(r);var f=r.parentNode;e(f)&&!domUtils.isBody(r.parentNode)&&-1==utils.indexOf(t,f.tagName)&&(s&&"customstyle"==s||(f.getAttribute("dir")&&r.setAttribute("dir",f.getAttribute("dir")),f.style.cssText&&(r.style.cssText=f.style.cssText+";"+r.style.cssText),f.style.textAlign&&!r.style.textAlign&&(r.style.textAlign=f.style.textAlign),f.style.textIndent&&!r.style.textIndent&&(r.style.textIndent=f.style.textIndent),f.style.padding&&!r.style.padding&&(r.style.padding=f.style.padding)),o&&/h\d/i.test(f.tagName)&&!/h\d/i.test(r.tagName)?(domUtils.setAttributes(f,o),s&&"customstyle"==s&&o.style&&(f.style.cssText=o.style),domUtils.remove(r,!0),r=f):domUtils.remove(r.parentNode,!0)),c=-1!=utils.indexOf(t,f.tagName)?f:r,c=domUtils.getNextDomNode(c,!1,l)}return i.moveToBookmark(u).moveToBookmark(a)};UE.commands.paragraph={execCommand:function(e,t,n,o){var s=new dom.Range(this.document);if(this.currentSelectedArr&&this.currentSelectedArr.length>0){for(var r,a=0;r=this.currentSelectedArr[a++];)if("none"!=r.style.display){if(domUtils.isEmptyNode(r)){var l=this.document.createTextNode("paragraph");r.innerHTML="",r.appendChild(l)}if(i(s.selectNodeContents(r),t,n,o),l){var d=l.parentNode;domUtils.remove(l),domUtils.isEmptyNode(d)&&domUtils.fillNode(this.document,d)}}var u=this.currentSelectedArr[0];domUtils.isEmptyBlock(u)?s.setStart(u,0).setCursor(!1,!0):s.selectNode(u).select()}else{if(s=this.selection.getRange(),s.collapsed){var c=this.document.createTextNode("p");if(s.insertNode(c),browser.ie){var h=c.previousSibling;h&&domUtils.isWhitespace(h)&&domUtils.remove(h),h=c.nextSibling,h&&domUtils.isWhitespace(h)&&domUtils.remove(h)}}if(s=i(s,t,n,o),c&&(s.setStartBefore(c).collapse(!0),d=c.parentNode,domUtils.remove(c),domUtils.isBlockElm(d)&&domUtils.isEmptyNode(d)&&domUtils.fillNode(this.document,d)),browser.gecko&&s.collapsed&&1==s.startContainer.nodeType){var p=s.startContainer.childNodes[s.startOffset];p&&1==p.nodeType&&p.tagName.toLowerCase()==t&&s.setStart(p,0).collapse(!0)}s.select()}return!0},queryCommandValue:function(){var e=utils.findNode(this.selection.getStartElementPath(),["p","h1","h2","h3","h4","h5","h6"]);return e?e.tagName.toLowerCase():""},queryCommandState:function(){return this.highlight?-1:0}}}(),UE.commands.indent={execCommand:function(){var e=this;1!=e.body.childNodes.length&&$(e.body.childNodes).each(function(){null!=$(this).html()&&$(this).html($(this).html().replace(/&nbsp;/gi,"")),$(this).find("br").remove(),("<br>"==$(this).html()||""==$(this).html())&&$(this).remove(),this.tagName&&"h3"!=this.tagName.toLowerCase()&&$(this).append("<br /><br />");var t=e.selection.getRange();t.setCursor(),e.enableAutoHeight()})},queryCommandState:function(){if(this.highlight)return-1;var e=utils.findNode(this.selection.getStartElementPath(),["p","h1","h2","h3","h4","h5","h6"]),t=e&&e.style.textIndent?parseInt(e.style.textIndent):"";return t?1:0}},UE.plugins.selectall=function(){var e=this;e.commands.selectall={execCommand:function(){var e=this.selection.getRange();e.selectNodeContents(this.body),domUtils.isEmptyBlock(this.body)&&e.collapse(!0),e.select(!0),this.selectAll=!0},notNeedUndo:1},e.addListener("ready",function(){domUtils.on(e.document,"click",function(){e.selectAll=!1})})},UE.commands.cleardoc={execCommand:function(){var e=this,t=e.options.enterTag,i=e.selection.getRange();"br"==t?(e.body.innerHTML="<br/>",i.setStart(e.body,0).setCursor()):(e.body.innerHTML="<p>"+(ie?"&nbsp;":"<br/>")+"</p>",e.focus(),i.setStart(e.body.firstChild,0).setCursor(!1,!0))}},UE.commands["delete"]={execCommand:function(){var e=this.selection.getRange(),t=0,i=0,n=this;if(this.selectAll)return n.body.innerHTML="<p>"+(browser.ie?"&nbsp;":"<br/>")+"</p>",e.setStart(n.body.firstChild,0).setCursor(!1,!0),n.selectAll=!1,void 0;if(n.currentSelectedArr&&n.currentSelectedArr.length>0){for(var o,s=0;o=n.currentSelectedArr[s++];)"none"!=o.style.display&&(o.innerHTML=browser.ie?domUtils.fillChar:"<br/>");return e.setStart(n.currentSelectedArr[0],0).setCursor(),void 0}if(!e.collapsed){for(e.txtToElmBoundary();!e.startOffset&&!domUtils.isBody(e.startContainer)&&!dtd.$tableContent[e.startContainer.tagName];)t=1,e.setStartBefore(e.startContainer);for(;!domUtils.isBody(e.endContainer)&&!dtd.$tableContent[e.endContainer.tagName];){var r,a=e.endContainer,l=e.endOffset;r=a.childNodes[l];{if(r&&(!domUtils.isBr(r)||a.lastChild!==r))break;e.setEndAfter(a)}}if(t){var d=n.document.createElement("span");d.innerHTML="start",d.id="_baidu_cut_start",e.insertNode(d).setStartBefore(d)}if(i){var u=n.document.createElement("span");u.innerHTML="end",u.id="_baidu_cut_end",e.cloneRange().collapse(!1).insertNode(u),e.setEndAfter(u)}e.deleteContents(),domUtils.isBody(e.startContainer)&&domUtils.isEmptyBlock(n.body)?(n.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>",e.setStart(n.body.firstChild,0).collapse(!0)):!browser.ie&&domUtils.isEmptyBlock(e.startContainer)&&(e.startContainer.innerHTML="<br/>"),e.select(!0)}},queryCommandState:function(){return this.currentSelectedArr&&this.currentSelectedArr.length>0?0:this.selection.getRange().collapsed?-1:0}},function(){function e(e){var t=this.document;if(!t.getElementById("baidu_pastebin")){var i=this.selection.getRange(),n=i.createBookmark(),o=t.createElement("div");o.id="baidu_pastebin",browser.webkit&&o.appendChild(t.createTextNode(domUtils.fillChar+domUtils.fillChar)),t.body.appendChild(o),n.start.style.display="",o.style.cssText="position:absolute;width:1px;height:1px;overflow:hidden;left:-1000px;white-space:nowrap;top:"+domUtils.getXY(n.start).y+"px",i.selectNodeContents(o).select(!0),setTimeout(function(){if(browser.webkit)for(var s,r=0,a=t.querySelectorAll("#baidu_pastebin");s=a[r++];){if(!domUtils.isEmptyNode(s)){o=s;break}domUtils.remove(s)}try{o.parentNode.removeChild(o)}catch(l){}i.moveToBookmark(n).select(!0),e(o)},0)}}UE.plugins.paste=function(){function t(e){var t;if(e.firstChild){for(var r,a=domUtils.getElementsByTagName(e,"span"),l=0;r=a[l++];)("_baidu_cut_start"==r.id||"_baidu_cut_end"==r.id)&&domUtils.remove(r);if(browser.webkit){for(var d,u=e.querySelectorAll("div br"),l=0;d=u[l++];){var c=d.parentNode;"DIV"==c.tagName&&1==c.childNodes.length&&(c.innerHTML="<p><br/></p>",domUtils.remove(c))}for(var h,p=e.querySelectorAll("#baidu_pastebin"),l=0;h=p[l++];){var f=i.document.createElement("p");for(h.parentNode.insertBefore(f,h);h.firstChild;)f.appendChild(h.firstChild);domUtils.remove(h)}for(var m,g=e.querySelectorAll("meta"),l=0;m=g[l++];)domUtils.remove(m);var u=e.querySelectorAll("br");for(l=0;m=u[l++];)/^apple-/.test(m)&&domUtils.remove(m)}if(browser.gecko){var v=e.querySelectorAll("[_moz_dirty]");for(l=0;m=v[l++];)m.removeAttribute("_moz_dirty")}if(!browser.ie)for(var m,b=e.querySelectorAll("span.apple-style-span"),l=0;m=b[l++];)domUtils.remove(m,!0);t=$.htmlClean(e.innerHTML,{allowedTags:["p","a"]});var y=i.serialize;if(y)try{var _=y.transformInput(y.parseHTML(y.word(t)),n);if(_=y.filter(_,o?{whiteList:{p:{br:1,BR:1},br:{$:{}}},blackList:{style:1,script:1,object:1}}:null,o?null:s),browser.webkit)for(var w,C=_.children.length;(w=_.children[C-1])&&"br"==w.tag;)_.children.splice(C-1,1),C=_.children.length;t=y.toHTML(_,o)}catch(S){}t={html:t},i.fireEvent("beforepaste",t),i.execCommand("insertHtml",t.html),i.fireEvent("afterpaste")}}var i=this,n={flag:""},o=i.options.pasteplain,s={flag:""};i.commands.pasteplain={queryCommandState:function(){return o},execCommand:function(){o=0|!o},notNeedUndo:1},i.addListener("ready",function(){domUtils.on(i.body,"cut",function(){var e=i.selection.getRange();!e.collapsed&&i.undoManger&&i.undoManger.save()}),browser.opera&&(baidu.editor.browser.mac?domUtils.on(i.body,"keydown",function(e){17==e.keyCode&&alert("暂不支持此浏览器！")}):domUtils.on(i.body,"keydown",function(n){n.ctrlKey&&"86"==n.keyCode&&e.call(i,function(e){t(e)})})),domUtils.on(i.body,browser.ie?"keydown":"paste",function(o){(!browser.ie||o.ctrlKey&&"86"==o.keyCode)&&e.call(i,function(e){function o(){i.ui.hideToolbarMsg(),i.removeListener("selectionchange",o)}t(e),s.flag&&i.ui&&(s.flag="",setTimeout(function(){i.addListener("selectionchange",o)},100)),n.flag&&!i.queryCommandState("pasteplain")&&i.ui&&(n.flag="",setTimeout(function(){i.addListener("selectionchange",o)},100))})})})}}(),UE.plugins.enterkey=function(){var e,t=this,i=t.options.enterTag;t.addListener("keyup",function(i,n){var o=n.keyCode||n.which;if(13==o){var s,r=t.selection.getRange(),a=r.startContainer;if(!browser.ie&&/h\d/i.test(e)){if(browser.gecko){var l=domUtils.findParentByTagName(a,["h1","h2","h3","h4","h5","h6","blockquote"],!0);l||(t.document.execCommand("formatBlock",!1,"<p>"),s=1)}else if(1==a.nodeType){var d,u=t.document.createTextNode("");if(r.insertNode(u),d=domUtils.findParentByTagName(u,"div",!0)){for(var c=t.document.createElement("p");d.firstChild;)c.appendChild(d.firstChild);d.parentNode.insertBefore(c,d),domUtils.remove(d),r.setStartBefore(u).setCursor(),s=1}domUtils.remove(u)}t.undoManger&&s&&t.undoManger.save()}r=t.selection.getRange(),setTimeout(function(){r.scrollToView(t.autoHeightEnabled,t.autoHeightEnabled?domUtils.getXY(t.iframe).y:0)},50)}}),t.addListener("keydown",function(n,o){var s=o.keyCode||o.which;if(13==s){t.undoManger&&t.undoManger.save(),e="";var r=t.selection.getRange();if(!r.collapsed){var a=r.startContainer,l=r.endContainer,d=domUtils.findParentByTagName(a,"td",!0),u=domUtils.findParentByTagName(l,"td",!0);if(d&&u&&d!==u||!d&&u||d&&!u)return o.preventDefault?o.preventDefault():o.returnValue=!1,void 0}if(t.currentSelectedArr&&domUtils.clearSelectedArr(t.currentSelectedArr),"p"==i)browser.ie||(a=domUtils.findParentByTagName(r.startContainer,["ol","ul","p","h1","h2","h3","h4","h5","h6","blockquote"],!0),a?(e=a.tagName,"p"==a.tagName.toLowerCase()&&browser.gecko&&domUtils.removeDirtyAttr(a)):(t.document.execCommand("formatBlock",!1,"<p>"),browser.gecko&&(r=t.selection.getRange(),a=domUtils.findParentByTagName(r.startContainer,"p",!0),a&&domUtils.removeDirtyAttr(a))));else if(o.preventDefault?o.preventDefault():o.returnValue=!1,r.collapsed){h=r.document.createElement("br"),r.insertNode(h);var c=h.parentNode;c.lastChild===h?(h.parentNode.insertBefore(h.cloneNode(!0),h),r.setStartBefore(h)):r.setStartAfter(h),r.setCursor()}else if(r.deleteContents(),a=r.startContainer,1==a.nodeType&&(a=a.childNodes[r.startOffset])){for(;1==a.nodeType;){if(dtd.$empty[a.tagName])return r.setStartBefore(a).setCursor(),t.undoManger&&t.undoManger.save(),!1;if(!a.firstChild){var h=r.document.createElement("br");return a.appendChild(h),r.setStart(a,0).setCursor(),t.undoManger&&t.undoManger.save(),!1}a=a.firstChild}a===r.startContainer.childNodes[r.startOffset]?(h=r.document.createElement("br"),r.insertNode(h).setCursor()):r.setStart(a,0).setCursor()}else h=r.document.createElement("br"),r.insertNode(h).setStartAfter(h).setCursor()}})},UE.plugins.keystrokes=function(){var e=this,t=0,i=domUtils.keys,n={B:"strong",I:"em",FONT:"span"},o=[0,10,12,16,18,24,32,48],s={OL:["decimal","lower-alpha","lower-roman","upper-alpha","upper-roman"],UL:["circle","disc","square"]};e.addListener("keydown",function(i,n){var o=n.keyCode||n.which;if(this.selectAll&&(this.selectAll=!1,8==o||46==o))return e.undoManger&&e.undoManger.save(),e.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>",new dom.Range(e.document).setStart(e.body.firstChild,0).setCursor(!1,!0),e.undoManger&&e.undoManger.save(),browser.ie&&e._selectionChange(),domUtils.preventDefault(n),void 0;if(8==o){var r,a,l,d=e.selection.getRange();if(d.collapsed&&(a=d.startContainer,domUtils.isWhitespace(a)&&(a=a.parentNode),domUtils.isEmptyNode(a)&&a===e.body.firstChild))return"P"!=a.tagName&&(p=e.document.createElement("p"),e.body.insertBefore(p,a),domUtils.fillNode(e.document,p),d.setStart(p,0).setCursor(!1,!0),domUtils.remove(a)),domUtils.preventDefault(n),void 0;if(d.collapsed&&3==d.startContainer.nodeType&&0==d.startContainer.nodeValue.replace(new RegExp(domUtils.fillChar,"g"),"").length&&d.setStartBefore(d.startContainer).collapse(!0),a=d.getClosedNode())return e.undoManger&&e.undoManger.save(),d.setStartBefore(a),domUtils.remove(a),d.setCursor(),e.undoManger&&e.undoManger.save(),domUtils.preventDefault(n),void 0;if(!browser.ie){if(a=domUtils.findParentByTagName(d.startContainer,"table",!0),l=domUtils.findParentByTagName(d.endContainer,"table",!0),a&&!l||!a&&l||a!==l)return n.preventDefault(),void 0;if(browser.webkit&&d.collapsed&&a&&(r=d.cloneRange().txtToElmBoundary(),a=r.startContainer,domUtils.isBlockElm(a)&&1==a.nodeType&&!dtd.$tableContent[a.tagName]&&!domUtils.getChildCount(a,function(e){return 1==e.nodeType?"BR"!==e.tagName:1})))return r.setStartBefore(a).setCursor(),domUtils.remove(a,!0),n.preventDefault(),void 0}e.undoManger&&(d.collapsed||(e.undoManger.save(),t=1))}if(9==o){d=e.selection.getRange(),e.undoManger&&e.undoManger.save();for(var u=0,c="";u<e.options.tabSize;u++)c+=e.options.tabNode;var h=e.document.createElement("span");if(h.innerHTML=c,d.collapsed){var f=domUtils.findParentByTagName(d.startContainer,"li",!0);if(f&&domUtils.isStartInblock(d)){b=d.createBookmark();var m=f.parentNode,g=e.document.createElement(m.tagName),v=utils.indexOf(s[g.tagName],domUtils.getComputedStyle(m,"list-style-type"));v=v+1==s[g.tagName].length?0:v+1,domUtils.setStyle(g,"list-style-type",s[g.tagName][v]),m.insertBefore(g,f),g.appendChild(f),d.moveToBookmark(b).select()}else d.insertNode(h.cloneNode(!0).firstChild).setCursor(!0)}else{if(a=domUtils.findParentByTagName(d.startContainer,"table",!0),l=domUtils.findParentByTagName(d.endContainer,"table",!0),a||l)return n.preventDefault?n.preventDefault():n.returnValue=!1,void 0;
if(a=domUtils.findParentByTagName(d.startContainer,["ol","ul"],!0),l=domUtils.findParentByTagName(d.endContainer,["ol","ul"],!0),a&&l&&a===l){var b=d.createBookmark();if(a=domUtils.findParentByTagName(d.startContainer,"li",!0),l=domUtils.findParentByTagName(d.endContainer,"li",!0),a===a.parentNode.firstChild){var y=e.document.createElement(a.parentNode.tagName);a.parentNode.parentNode.insertBefore(y,a.parentNode),y.appendChild(a.parentNode)}else{m=a.parentNode,g=e.document.createElement(m.tagName),v=utils.indexOf(s[g.tagName],domUtils.getComputedStyle(m,"list-style-type")),v=v+1==s[g.tagName].length?0:v+1,domUtils.setStyle(g,"list-style-type",s[g.tagName][v]),a.parentNode.insertBefore(g,a);for(var _;a!==l;)_=a.nextSibling,g.appendChild(a),a=_;g.appendChild(l)}d.moveToBookmark(b).select()}else{if(a||l)return n.preventDefault?n.preventDefault():n.returnValue=!1,void 0;if(a=domUtils.findParent(d.startContainer,C),l=domUtils.findParent(d.endContainer,C),a&&l&&a===l)d.deleteContents(),d.insertNode(h.cloneNode(!0).firstChild).setCursor(!0);else{var w=d.createBookmark(),C=function(e){return domUtils.isBlockElm(e)};d.enlarge(!0);for(var S=d.createBookmark(),E=domUtils.getNextDomNode(S.start,!1,C);E&&!(domUtils.getPosition(E,S.end)&domUtils.POSITION_FOLLOWING);)E.insertBefore(h.cloneNode(!0).firstChild,E.firstChild),E=domUtils.getNextDomNode(E,!1,C);d.moveToBookmark(S).moveToBookmark(w).select()}}}e.undoManger&&e.undoManger.save(),n.preventDefault?n.preventDefault():n.returnValue=!1}if(browser.gecko&&46==o&&(d=e.selection.getRange(),d.collapsed&&(a=d.startContainer,domUtils.isEmptyBlock(a)))){for(var x=a.parentNode;1==domUtils.getChildCount(x)&&!domUtils.isBody(x);)a=x,x=x.parentNode;return a===x.lastChild&&n.preventDefault(),void 0}}),e.addListener("keyup",function(s,r){var a=r.keyCode||r.which;if(!(browser.gecko||i[a]||r.ctrlKey||r.metaKey||r.shiftKey||r.altKey)&&(m=e.selection.getRange(),m.collapsed)){for(var l=m.startContainer,d=0;!domUtils.isBlockElm(l);){if(1==l.nodeType&&-1!=utils.indexOf(["FONT","B","I"],l.tagName)){var u=e.document.createElement(n[l.tagName]);for("FONT"==l.tagName&&(u.style.cssText=(l.getAttribute("size")?"font-size:"+(o[l.getAttribute("size")]||12)+"px":"")+";"+(l.getAttribute("color")?"color:"+l.getAttribute("color"):"")+";"+(l.getAttribute("face")?"font-family:"+l.getAttribute("face"):"")+";"+l.style.cssText);l.firstChild;)u.appendChild(l.firstChild);l.parentNode.insertBefore(u,l),domUtils.remove(l),d||m.setEnd(u,u.childNodes.length).collapse(!0),l=u,d=1}l=l.parentNode}d&&m.select()}if(8==a){if(browser.gecko)for(var c,h=0,p=domUtils.getElementsByTagName(this.body,"li");c=p[h++];)if(domUtils.isEmptyNode(c)&&!c.previousSibling){var f=c.parentNode;domUtils.remove(c),domUtils.isEmptyNode(f)&&domUtils.remove(f)}var m,l,g,v=this.currentSelectedArr;if(v&&v.length>0){for(var b,h=0;b=v[h++];)b.innerHTML=browser.ie?browser.version<9?"&#65279":"":"<br/>";return m=new dom.Range(this.document),m.setStart(v[0],0).setCursor(),t&&(e.undoManger.save(),t=0),browser.webkit&&r.preventDefault(),void 0}m=e.selection.getRange(),l=m.startContainer,domUtils.isWhitespace(l)&&(l=l.parentNode);for(var y=0;1==l.nodeType&&domUtils.isEmptyNode(l)&&dtd.$removeEmpty[l.tagName];)y=1,g=l.parentNode,domUtils.remove(l),l=g;if(y&&1==l.nodeType&&domUtils.isEmptyNode(l)){if(browser.ie){var _=m.document.createElement("span");if(l.appendChild(_),m.setStart(l,0).setCursor(),c=domUtils.findParentByTagName(l,"li",!0))for(var w=c.nextSibling;w&&domUtils.isEmptyBlock(w);)c=w,w=w.nextSibling,domUtils.remove(c)}else l.innerHTML="<br/>",m.setStart(l,0).setCursor(!1,!0);setTimeout(function(){browser.ie&&domUtils.remove(_),t&&(e.undoManger.save(),t=0)},0)}else t&&(e.undoManger.save(),t=0)}})},UE.plugins.fiximgclick=function(){var e=this;browser.webkit&&e.addListener("click",function(t,i){if("IMG"==i.target.tagName){var n=new dom.Range(e.document);n.selectNode(i.target).select()}})},UE.plugins.autolink=function(){var e=0;if(!browser.ie){var t=this;t.addListener("reset",function(){e=0}),t.addListener("keydown",function(e,i){var n=i.keyCode||i.which;if(32==n||13==n){for(var o,s,r=t.selection.getNative(),a=r.getRangeAt(0).cloneRange(),l=a.startContainer;1==l.nodeType&&a.startOffset>0&&(l=a.startContainer.childNodes[a.startOffset-1]);)a.setStart(l,1==l.nodeType?l.childNodes.length:l.nodeValue.length),a.collapse(!0),l=a.startContainer;do{if(0==a.startOffset){for(l=a.startContainer.previousSibling;l&&1==l.nodeType;)l=l.lastChild;if(!l||domUtils.isFillChar(l))break;o=l.nodeValue.length}else l=a.startContainer,o=a.startOffset;a.setStart(l,o-1),s=a.toString().charCodeAt(0)}while(160!=s&&32!=s);if(a.toString().replace(new RegExp(domUtils.fillChar,"g"),"").match(/(?:https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.)/i)){for(;a.toString().length&&!/^(?:https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.)/i.test(a.toString());)a.setStart(a.startContainer,a.startOffset+1);var d,u=t.document.createElement("a"),c=t.document.createTextNode(" ");t.undoManger&&t.undoManger.save(),u.appendChild(a.extractContents()),u.href=u.innerHTML=u.innerHTML.replace(/<[^>]+>/g,""),d=u.getAttribute("href").replace(new RegExp(domUtils.fillChar,"g"),""),u.href=/^(?:https?:\/\/)/gi.test(d)?d:"http://"+d,a.insertNode(u),u.parentNode.insertBefore(c,u.nextSibling),a.setStart(c,0),a.collapse(!0),r.removeAllRanges(),r.addRange(a),t.undoManger&&t.undoManger.save()}}})}},UE.plugins.autoheight=function(){function e(){clearTimeout(r),r=setTimeout(function(){1!=t.queryCommandState("source")&&(n||(n=t.document.createElement("span"),n.style.cssText="display:block;width:0;margin:0;padding:0;border:0;clear:both;",n.innerHTML="."),o=n.cloneNode(!0),t.body.appendChild(o),s=Math.max(domUtils.getXY(o).y+o.offsetHeight,t.options.minFrameHeight),s!=a&&(t.setHeight(s),a=s),domUtils.remove(o))},50)}var t=this;if(t.autoHeightEnabled=t.options.autoHeightEnabled,t.autoHeightEnabled){var i,n,o,s,r,a=0;t.addListener("destroy",function(){t.removeListener("contentchange",e),t.removeListener("keyup",e),t.removeListener("mouseup",e)}),t.enableAutoHeight=function(){if(t.autoHeightEnabled){var n=t.document;t.autoHeightEnabled=!0,i=n.body.style.overflowY,n.body.style.overflowY="hidden",t.addListener("contentchange",e),t.addListener("keyup",e),t.addListener("mouseup",e),setTimeout(function(){e()},browser.gecko?100:0),t.fireEvent("autoheightchanged",t.autoHeightEnabled)}},t.disableAutoHeight=function(){t.body.style.overflowY=i||"",t.removeListener("contentchange",e),t.removeListener("keyup",e),t.removeListener("mouseup",e),t.autoHeightEnabled=!1,t.fireEvent("autoheightchanged",t.autoHeightEnabled)},t.addListener("ready",function(){t.enableAutoHeight()})}},UE.plugins.autofloat=function(){function e(e){if(!e.ui)throw alert("autofloat插件功能依赖于UEditor UI\nautofloat定义位置: _src/plugins/autofloat/autofloat.js"),{name:"未包含UI文件",message:"autofloat功能依赖于UEditor UI。autofloat定义位置: _src/plugins/autofloat/autofloat.js"};return s=UE.ui.uiUtils,1}function t(){var e=document.body.style;e.backgroundImage='url("about:blank")',e.backgroundAttachment="fixed"}function i(){var e=domUtils.getXY(u),t=domUtils.getComputedStyle(u,"position"),i=domUtils.getComputedStyle(u,"left");u.style.width=u.offsetWidth+"px",u.style.zIndex=1*p.options.zIndex+1,u.parentNode.insertBefore(f,u),r||a?("absolute"!=u.style.position&&(u.style.position="absolute"),u.style.top=(document.body.scrollTop||document.documentElement.scrollTop)-c+"px"):(browser.ie7Compat&&(u.style.left=h(u).left-document.documentElement.getBoundingClientRect().left+"px"),"fixed"!=u.style.position&&(u.style.position="fixed",u.style.top="0",("absolute"==t||"relative"==t)&&parseFloat(i)&&(u.style.left=e.x+"px")))}function n(){f.parentNode&&f.parentNode.removeChild(f),u.style.cssText=d}function o(){var e=h(p.container);e.top<0&&e.bottom-u.offsetHeight>0?i():n()}var s,r=browser.ie&&browser.version<=6,a=browser.quirks,l=this.options.autoFloatEnabled;if(l){var d,u,c,h,p=this,f=document.createElement("div"),m=utils.defer(function(){o()},browser.ie?200:100,!0);p.addListener("destroy",function(){domUtils.un(window,["scroll","resize"],o),p.removeListener("keydown",m)}),p.addListener("ready",function(){e(p)&&(h=s.getClientRect,u=p.ui.getDom("toolbarbox"),c=h(u).top,d=u.style.cssText,f.style.height=u.offsetHeight+"px",r&&t(),p.addListener("autoheightchanged",function(e,t){t?(domUtils.on(window,["scroll","resize"],o),p.addListener("keydown",m)):(domUtils.un(window,["scroll","resize"],o),p.removeListener("keydown",m))}),p.addListener("beforefullscreenchange",function(e,t){t&&n()}),p.addListener("fullscreenchanged",function(e,t){t||o()}),p.addListener("sourcemodechanged",function(){setTimeout(function(){o()})}))})}},UE.plugins.serialize=function(){function e(e){return/pt/.test(e)?e.replace(/([\d.]+)pt/g,function(e){return Math.round(96*parseFloat(e)/72)+"px"}):e}function t(e){var t;if(e&&"p"==e.tag)if("MsoListParagraph"==e.attributes["class"]||/mso-list/.test(e.attributes.style))t=1;else{var i=e.children[0];i&&"span"==i.tag&&/Wingdings/i.test(i.attributes.style)&&(t=1)}return t}function i(e,i){if("element"==e.type&&!e.children.length&&dtd.$removeEmpty[e.tag]&&"a"!=e.tag)return{type:"fragment",children:[]};var o,s=[0,10,12,16,18,24,32,48],r=utils.indexOf;switch(e.tag){case"img":if(e.attributes.src&&/^data:/.test(e.attributes.src))return{type:"fragment",children:[]};if(e.attributes.src&&/^(?:file)/.test(e.attributes.src)){if(!/(gif|bmp|png|jpg|jpeg)$/.test(e.attributes.src))return{type:"fragment",children:[]};e.attributes.word_img=e.attributes.src,e.attributes.src=c.options.UEDITOR_HOME_URL+"themes/default/images/localimage.jpg",i&&(i.flag=1)}browser.ie&&browser.version<7&&c.options.relativePath&&(e.attributes.orgSrc=e.attributes.src),e.attributes.data_ue_src=e.attributes.data_ue_src||e.attributes.src;break;case"li":var d=e.children[0];if(!d||"element"!=d.type||"p"!=d.tag&&dtd.p[d.tag]){var u={type:"element",tag:"p",attributes:{},parent:e};u.children=d?e.children:[browser.ie?{type:"text",data:domUtils.fillChar,parent:u}:{type:"element",tag:"br",attributes:{},closed:!0,children:[],parent:u}],e.children=[u]}break;case"table":case"td":n(e);break;case"a":e.attributes.anchorname&&(e.tag="img",e.attributes={"class":"anchorclass",anchorname:e.attributes.name},e.closed=1),e.attributes.href&&(e.attributes.data_ue_src=e.attributes.href);break;case"b":e.tag=e.name="strong";break;case"i":e.tag=e.name="em";break;case"u":e.tag=e.name="span",e.attributes.style=(e.attributes.style||"")+";text-decoration:underline;";break;case"s":case"del":e.tag=e.name="span",e.attributes.style=(e.attributes.style||"")+";text-decoration:line-through;",1==e.children.length&&(d=e.children[0],d.tag==e.tag&&(e.attributes.style+=";"+d.attributes.style,e.children=d.children));break;case"span":if(/mso-list/.test(e.attributes.style)){if("end"!=l){for(var h,p=e.children[0];"element"==p.type;)p=p.children[0];for(h in y)if(y[h].test(p.data)){_="ul",w=h;break}if(!_)for(h in b)if(b[h].test(p.data.replace(/\.$/,""))){_="ol",w=h;break}if(l?(p.data==l?("ul"!=_&&(w=""),_="ul"):("ol"!=_&&(w=""),_="ol"),l="end"):l=p.data,_){for(var f=e;f&&"ul"!=f.tag&&"ol"!=f.tag;)f=f.parent;f&&(f.tag=_,f.attributes.style="list-style-type:"+w)}}e={type:"fragment",children:[]};break}var m=e.attributes.style;if(m&&(m=m.match(/(?:\b(?:color|font-size|background(-color)?|font-family|text-decoration)\b\s*:\s*(&[^;]+;|[^;])+(?=;)?)/gi),m&&(e.attributes.style=m.join(";"),e.attributes.style||delete e.attributes.style)),browser.gecko&&browser.version<=10902&&e.parent){var g=e.parent;"span"==g.tag&&g.attributes&&g.attributes.style&&(e.attributes.style=g.attributes.style+";"+e.attributes.style)}utils.isEmptyObject(e.attributes)&&(e.type="fragment");break;case"font":for(e.tag=e.name="span",o=e.attributes,e.attributes={style:(o.size?"font-size:"+(s[o.size]||12)+"px":"")+";"+(o.color?"color:"+o.color:"")+";"+(o.face?"font-family:"+o.face:"")+";"+(o.style||"")};e.parent.tag==e.tag&&1==e.parent.children.length;)e.attributes.style&&(e.parent.attributes.style?e.parent.attributes.style+=";"+e.attributes.style:e.parent.attributes.style=e.attributes.style),e.parent.children=e.children,e=e.parent;break;case"p":if(e.attributes.align&&(e.attributes.style=(e.attributes.style||"")+";text-align:"+e.attributes.align+";",delete e.attributes.align),t(e)){if(!a){var v={type:"element",tag:"ul",attributes:{},children:[]},C=r(e.parent.children,e);for(e.parent.children[C]=v,v.parent=e.parent,v.children[0]=e,e.parent=v;;){if(e=v.parent.children[C+1],!t(e))break;v.children[v.children.length]=e,e.parent=v,v.parent.children.splice(C+1,1)}return v}if(e.tag=e.name="li",browser.webkit){for(var S=e.children[0];S&&"element"==S.type;)S=S.children[0];S&&(S.parent.attributes.style=(S.parent.attributes.style||"")+";mso-list:10")}delete e.attributes["class"],delete e.attributes.style}}return e}function n(e){if(d&&e.attributes.style){var t=e.attributes.style;e.attributes.style=t.replace(/;\s*/g,";"),e.attributes.style=e.attributes.style.replace(/^\s*|\s*$/,"")}}function o(e){switch("text"==e.type,e.tag){case"table":!e.attributes.style&&delete e.attributes.style,d&&e.attributes.style&&n(e);break;case"td":case"th":if(/display\s*:\s*none/i.test(e.attributes.style))return{type:"fragment",children:[]};if(d&&!e.children.length){var t={type:"text",data:domUtils.fillChar,parent:e};e.children[0]=t}d&&e.attributes.style&&n(e);break;case"img":e.attributes.anchorname?(e.tag="a",e.attributes={name:e.attributes.anchorname,anchorname:1},e.closed=null):e.attributes.data_ue_src&&(e.attributes.src=e.attributes.data_ue_src,delete e.attributes.data_ue_src);break;case"a":e.attributes.data_ue_src&&(e.attributes.href=e.attributes.data_ue_src,delete e.attributes.data_ue_src)}return e}function s(e,t,i){if(!e.children||!e.children.length)return e;for(var n=e.children,o=0;o<n.length;o++){var s=t(n[o],i);if("fragment"==s.type){var r=[o,1];r.push.apply(r,s.children),n.splice.apply(n,r),n.length||(e={type:"fragment",children:[]}),o--}else n[o]=s}return e}function r(e){this.rules=e}var a,l,d=browser.ie,u=browser.version,c=this,h=dtd.$empty,p=function(){function e(e,s){var r,a,l,c=0;for(t.exec("");r=t.exec(e);){var h=r.index;if(h>c){var p=e.slice(c,h);l?l.push(p):s.onText(p)}if(c=t.lastIndex,!(a=r[1])||(a=a.toLowerCase(),l&&a==l._tag_name&&(s.onCDATA(l.join("")),l=null),l))if(l)l.push(r[0]);else if(a=r[3]){if(/="/.test(a))continue;a=a.toLowerCase();var f,m=r[4],g={},v=m&&"/"==m.slice(-1);if(m)for(i.exec("");f=i.exec(m);){var b=f[1].toLowerCase(),y=f[2]||f[3]||f[4]||"";!y&&n[b]&&(y=b),"style"==b&&d&&6>=u&&(y=y.replace(/(?!;)\s*([\w-]+):/g,function(e,t){return t.toLowerCase()+":"})),y&&(g[b]=y.replace(/:\s*/g,":"))}s.onTagOpen(a,g,v),!l&&o[a]&&(l=[],l._tag_name=a)}else(a=r[2])&&s.onComment(a);else s.onTagClose(a)}e.length>c&&s.onText(e.slice(c,e.length))}var t=/<(?:(?:\/([^>]+)>[\t\r\n]*)|(?:!--([\S|\s]*?)-->)|(?:([^\s\/>]+)\s*((?:(?:"[^"]*")|(?:'[^']*')|[^"'<>])*)\/?>[ \t\r\n]*))/g,i=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,n={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1},o={script:1,style:1},s={li:{$:"ul",ul:1,ol:1},dd:{$:"dl",dl:1},dt:{$:"dl",dl:1},option:{$:"select",select:1},td:{$:"tr",tr:1},th:{$:"tr",tr:1},tr:{$:"tbody",tbody:1,thead:1,tfoot:1,table:1},tbody:{$:"table",table:1,colgroup:1},thead:{$:"table",table:1},tfoot:{$:"table",table:1},col:{$:"colgroup",colgroup:1}},r={table:"td",tbody:"td",thead:"td",tfoot:"td",tr:"td",colgroup:"col",ul:"li",ol:"li",dl:"dd",select:"option"};return function(t,i){function n(e){e.parent=d,d.children.push(e)}function o(e,t){var n=e;if(s[n.tag]){for(;s[d.tag]&&s[d.tag][n.tag];)d=d.parent;for(d.tag==n.tag&&(d=d.parent);s[n.tag]&&!s[n.tag][d.tag];)n=n.parent={type:"element",tag:s[n.tag].$,attributes:{},children:[n]}}if(i)for(;dtd[n.tag]&&!("span"==d.tag?utils.extend(dtd.strong,{a:1,A:1}):dtd[d.tag]||dtd.div)[n.tag];)if(!a(d)){if(!d.parent)break;d=d.parent}return n.parent=d,d.children.push(n),t&&(d=e),e.attributes.style&&(e.attributes.style=e.attributes.style.toLowerCase()),e}function a(e){var t;return!e.children.length&&(t=r[e.tag])?(o({type:"element",tag:t,attributes:{},children:[]},!0),!0):!1}var l={type:"fragment",parent:null,children:[]},d=l;for(e(t,{onText:function(e){for(;!(dtd[d.tag]||dtd.div)["#"];){if(/^[ \t\r\n]+$/.test(e))return;a(d)||(d=d.parent)}n({type:"text",data:e})},onComment:function(e){n({type:"comment",data:e})},onCDATA:function(e){for(;!(dtd[d.tag]||dtd.div)["#"];)a(d)||(d=d.parent);n({type:"cdata",data:e})},onTagOpen:function(e,t,i){i=i||h[e],o({type:"element",tag:e,attributes:t,closed:i,children:[]},!i)},onTagClose:function(e){for(var t=d;t&&e!=t.tag;)t=t.parent;if(t){for(var i=d;i!==t.parent;i=i.parent)a(i);t.children.length||!dtd.$removeEmpty[t.tag]||t.attributes.anchorname||"pagebreak"==t.attributes["class"]||"a"==t.tag||t.parent.children.pop(),d=t.parent}else dtd.$removeEmpty[e]||dtd.$removeEmptyBlock[e]||"embed"==e||(t={type:"element",tag:e,attributes:{},children:[]},o(t,!0),a(t),d=t.parent)}});d!==l;)a(d),d=d.parent;return l}}(),f=function(){function e(e){return t[e]}var t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return function(t){return t+="",t?t.replace(/[<>"']/g,e):""}}(),m=function(){function t(e,t){for(var i,n=e.children,o=[],s=0;i=n[s];s++)o.push(m(i,t));return o.join("")}function i(t){var i=[];for(var n in t){var o=t[n];"style"==n&&(o=e(o),/rgba?\s*\([^)]*\)/.test(o)&&(o=o.replace(/rgba?\s*\(([^)]*)\)/g,function(e){return utils.fixColor("color",e)})),t[n]=utils.optCss(o.replace(/windowtext/g,"#000"))),i.push(n+'="'+f(t[n])+'"')}return i.join(" ").replace(/\;+/g,";")}function n(e,t){return t?e.data.replace(/&nbsp;/g," "):f(e.data).replace(/ /g,"&nbsp;")}function o(e,n){var o=e.tag;if(n&&"td"==o)a||(a=""),a+=t(e,n)+"&nbsp;&nbsp;&nbsp;";else{var r=i(e.attributes),a="<"+(n&&s[o]?s[o]:o)+(r?" "+r:"")+(h[o]?" />":">");h[o]||(browser.ie&&"p"==o&&!e.children.length&&(a+="&nbsp;"),a+=t(e,n),a+="</"+(n&&s[o]?s[o]:o)+">")}return a}var s={div:"p",li:"p",tr:"p",br:"br",p:"p"};return function(e,i){return"fragment"==e.type?t(e,i):"element"==e.type?o(e,i):"text"==e.type||"cdata"==e.type?n(e,dtd.$notTransContent[e.parent.tag]):"comment"==e.type?"<!--"+e.data+"-->":""}}(),g=function(){function t(e){var t=new RegExp(/(class="?Mso|style="[^"]*\bmso\-|w:WordDocument|<v:)/gi);return t.test(e)}function i(e){return e=e.replace(/([\d.]+)([\w]+)?/g,function(e,t,i){return(Math.round(parseFloat(t))||1)+(i||"px")})}function n(t){return t=t.replace(/<!--\s*EndFragment\s*-->[\s\S]*$/,"").replace(/^(\r\n|\n|\r)|(\r\n|\n|\r)$/gi,"").replace(/^\s*(&nbsp;)+/gi,"").replace(/(&nbsp;|<br[^>]*>)+\s*$/gi,"").replace(/<!--[\s\S]*?-->/gi,"").replace(/<v:shape [^>]*>[\s\S]*?.<\/v:shape>/gi,function(t){var i=t.match(/width:([ \d.]*p[tx])/i)[1],n=t.match(/height:([ \d.]*p[tx])/i)[1],o=t.match(/src=\s*"([^"]*)"/i)[1];return'<img width="'+e(i)+'" height="'+e(n)+'" src="'+o+'" />'}).replace(/v:\w+=["']?[^'"]+["']?/g,"").replace(/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|xml|meta|link|style|\w+:\w+)(?=[\s\/>]))[^>]*>/gi,"").replace(/<p [^>]*class="?MsoHeading"?[^>]*>(.*?)<\/p>/gi,"<p><strong>$1</strong></p>").replace(/(lang)\s*=\s*([\'\"]?)[\w-]+\2/gi,"").replace(/<font[^>]*>\s*<\/font>/gi,"").replace(/class\s*=\s*["']?(?:(?:MsoTableGrid)|(?:MsoNormal(Table)?))\s*["']?/gi,""),t=t.replace(/(<[a-z][^>]*)\sstyle=(["'])([^\2]*?)\2/gi,function(e,t,n,o){for(var s=[],r=0,a=o.replace(/^\s+|\s+$/,"").replace(/&quot;/gi,"'").split(/;\s*/g),r=0;r<a.length;r++){var l,d,u=a[r],c=u.split(":");if(2==c.length){switch(l=c[0].toLowerCase(),d=c[1].toLowerCase(),l){case"mso-padding-alt":case"mso-padding-top-alt":case"mso-padding-right-alt":case"mso-padding-bottom-alt":case"mso-padding-left-alt":case"mso-margin-alt":case"mso-margin-top-alt":case"mso-margin-right-alt":case"mso-margin-bottom-alt":case"mso-margin-left-alt":case"mso-table-layout-alt":case"mso-height":case"mso-width":case"mso-border-alt":case"mso-vertical-align-alt":s[r++]=l.replace(/^mso-|-alt$/g,"")+":"+i(d);continue;case"horiz-align":s[r++]="text-align:"+d;continue;case"vert-align":s[r++]="vertical-align:"+d;continue;case"font-color":case"mso-foreground":s[r++]="color:"+d;continue;case"mso-background":case"mso-highlight":s[r++]="background:"+d;continue;case"mso-default-height":s[r++]="min-height:"+i(d);continue;case"mso-default-width":s[r++]="min-width:"+i(d);continue;case"mso-padding-between-alt":s[r++]="border-collapse:separate;border-spacing:"+i(d);continue;case"text-line-through":("single"==d||"double"==d)&&(s[r++]="text-decoration:line-through");continue;case"font-family":continue;case"mso-zero-height":"yes"==d&&(s[r++]="display:none");continue;case"margin":if(!/[1-9]/.test(c[1]))continue}if(/^(mso|column|font-emph|lang|layout|line-break|list-image|nav|panose|punct|row|ruby|sep|size|src|tab-|table-border|text-(?:decor|trans)|top-bar|version|vnd|word-break)/.test(l)&&!/mso\-list/.test(l))continue;s[r]=l+":"+c[1]}}return r>0?t+' style="'+s.join(";")+'"':t}),t=t.replace(/([ ]+)<\/span>/gi,function(e,t){return new Array(t.length+1).join("&nbsp;")+"</span>"})}return function(e){return a=null,_="",w="",l="",t(e)&&(e=n(e)),e.replace(/>[ \t\r\n]*</g,"><")}}(),v={text:"#text",comment:"#comment",cdata:"#cdata-section",fragment:"#document-fragment"},b={decimal:/\d+/,"lower-roman":/^m{0,4}(cm|cd|d?c{0,3})(xc|xl|l?x{0,3})(ix|iv|v?i{0,3})$/,"upper-roman":/^M{0,4}(CM|CD|D?C{0,3})(XC|XL|L?X{0,3})(IX|IV|V?I{0,3})$/,"lower-alpha":/^\(?[a-z]+\)?$/,"upper-alpha":/^\(?[A-Z]+\)?$/},y={disc:/^[l\u00B7\u2002]/,circle:/^[\u006F\u00D8]/,square:/^[\u006E\u25C6]/},_="",w="";r.prototype={rules:null,filter:function(e,t,i){function n(e,t){if(e.name="element"==e.type?e.tag:v[e.type],null==t)return s(e,n,e);if(r&&r[e.name])return i&&(i.flag=1),{type:"fragment",children:[]};if(o&&"element"==e.type)if("fragment"==t.type?o[e.name]:o[e.name]&&o[t.name][e.name]){var a;if(a=o[e.name].$){var l=e.attributes,d={};for(var u in a)l[u]&&(d[u]=l[u]);e.attributes=d}}else i&&(i.flag=1),e.type="fragment",e.name=t.name;return(r||o)&&s(e,n,e),e}t=t||this.rules;var o=t&&t.whiteList,r=t&&t.blackList;return n(e,null)},transformInput:function(e,t){function n(e){return e=i(e,t),("ol"==e.tag||"ul"==e.tag)&&(a=1),e=s(e,n,e),("ol"==e.tag||"ul"==e.tag)&&(a=0,_="",w="",l=""),"text"==e.type&&e.data.replace(/\s/g,"")==c.options.pageBreakTag&&(e.type="element",e.name=e.tag="div",delete e.data,e.attributes={"class":"pagebreak",unselectable:"on",style:"moz-user-select:none;-khtml-user-select: none;"},e.children=[]),"text"!=e.type||dtd.$notTransContent[e.parent.tag]||(e.data=e.data.replace(/[\r\t\n]*/g,"").replace(/[ ]*$/g,"")),e}return n(e)},transformOutput:function(e){function t(e){return"div"==e.tag&&"pagebreak"==e.attributes["class"]&&(delete e.tag,e.type="text",e.data=c.options.pageBreakTag,delete e.children),e=o(e),("ol"==e.tag||"ul"==e.tag)&&(a=1),e=s(e,t,e),("ol"==e.tag||"ul"==e.tag)&&(a=0),e}return t(e)},toHTML:m,parseHTML:p,word:g},c.serialize=new r(c.options.serialize),UE.serialize=new r({})},UE.plugins.contextmenu=function(){var e,t=this,i=t.options.contextMenu;if(i&&0!=i.length){var n=UE.ui.uiUtils;t.addListener("contextmenu",function(o,s){var r=n.getViewportOffsetByEvent(s);e&&e.destroy();for(var a,l=0,d=[];a=i[l];l++){var u;!function(e){if("-"==e)(u=d[d.length-1])&&"-"!==u&&d.push("-");else if(e.group){for(var i,n=0,o=[];i=e.subMenu[n];n++)!function(e){"-"==e?(u=o[o.length-1])&&"-"!==u&&o.push("-"):-1!=t.queryCommandState(e.cmdName)&&o.push({label:e.label,className:"edui-for-"+e.cmdName+(e.value||""),onclick:e.exec?function(){e.exec.call(t)}:function(){t.execCommand(e.cmdName,e.value)}})}(i);o.length&&d.push({label:e.group,className:"edui-for-"+e.icon,subMenu:{items:o,editor:t}})}else if(-1!=t.queryCommandState(e.cmdName)){if("highlightcode"==e.cmdName&&0==t.queryCommandState(e.cmdName))return;d.push({label:e.label,className:"edui-for-"+(e.icon?e.icon:e.cmdName+(e.value||"")),onclick:e.exec?function(){e.exec.call(t)}:function(){t.execCommand(e.cmdName,e.value)}})}}(a)}if("-"==d[d.length-1]&&d.pop(),e=new UE.ui.Menu({items:d,editor:t}),e.render(),e.showAt(r),domUtils.preventDefault(s),browser.ie){var c;try{c=t.selection.getNative().createRange()}catch(h){return}if(c.item){var p=new dom.Range(t.document);p.selectNode(c.item(0)).select(!0,!0)}}})}},UE.plugins.basestyle=function(){var e={bold:["strong","b"],italic:["em","i"],subscript:["sub"],superscript:["sup"]},t=function(e,t){var i=e.selection.getStartElementPath();return utils.findNode(i,t)},i=this;for(var n in e)!function(e,n){i.commands[e]={execCommand:function(e){var o=new dom.Range(i.document),s="";if(i.currentSelectedArr&&i.currentSelectedArr.length>0){for(var r,a=0;r=i.currentSelectedArr[a++];)"none"!=r.style.display&&(o.selectNodeContents(r).select(),!s&&(s=t(this,n)),("superscript"==e||"subscript"==e)&&(s&&s.tagName.toLowerCase()==e||o.removeInlineStyle(["sub","sup"])),s?o.removeInlineStyle(n):o.applyInlineStyle(n[0]));o.selectNodeContents(i.currentSelectedArr[0]).select()}else{if(o=i.selection.getRange(),s=t(this,n),o.collapsed){if(s){var l=i.document.createTextNode("");o.insertNode(l).removeInlineStyle(n),o.setStartBefore(l),domUtils.remove(l)}else{var d=o.document.createElement(n[0]);("superscript"==e||"subscript"==e)&&(l=i.document.createTextNode(""),o.insertNode(l).removeInlineStyle(["sub","sup"]).setStartBefore(l).collapse(!0)),o.insertNode(d).setStart(d,0)}o.collapse(!0)}else("superscript"==e||"subscript"==e)&&(s&&s.tagName.toLowerCase()==e||o.removeInlineStyle(["sub","sup"])),s?o.removeInlineStyle(n):o.applyInlineStyle(n[0]);o.select()}return!0},queryCommandState:function(){return this.highlight?-1:t(this,n)?1:0}}}(n,e[n])};var baidu=baidu||{};baidu.editor=baidu.editor||{},baidu.editor.ui={},function(){function e(){var e=document.getElementById("edui_fixedlayer");l.setViewportOffset(e,{left:0,top:0})}function t(){n.on(window,"scroll",e),n.on(window,"resize",baidu.editor.utils.defer(e,0,!0))}var i=baidu.editor.browser,n=baidu.editor.dom.domUtils,o="$EDITORUI",s=window[o]={},r="ID"+o,a=0,l=baidu.editor.ui.uiUtils={uid:function(e){return e?e[r]||(e[r]=++a):++a},hook:function(e,t){var i;return e&&e._callbacks?i=e:(i=function(){var t;e&&(t=e.apply(this,arguments));for(var n=i._callbacks,o=n.length;o--;){var s=n[o].apply(this,arguments);void 0===t&&(t=s)}return t},i._callbacks=[]),i._callbacks.push(t),i},createElementByHtml:function(e){var t=document.createElement("div");return t.innerHTML=e,t=t.firstChild,t.parentNode.removeChild(t),t},getViewportElement:function(){return i.ie&&i.quirks?document.body:document.documentElement},getClientRect:function(e){for(var t,i=e.getBoundingClientRect(),o={left:Math.round(i.left),top:Math.round(i.top),height:Math.round(i.bottom-i.top),width:Math.round(i.right-i.left)};(t=e.ownerDocument)!==document&&(e=n.getWindow(t).frameElement);)i=e.getBoundingClientRect(),o.left+=i.left,o.top+=i.top;return o.bottom=o.top+o.height,o.right=o.left+o.width,o},getViewportRect:function(){var e=l.getViewportElement(),t=0|(window.innerWidth||e.clientWidth),i=0|(window.innerHeight||e.clientHeight);return{left:0,top:0,height:i,width:t,bottom:i,right:t}},setViewportOffset:function(e,t){var i=l.getFixedLayer();e.parentNode===i?(e.style.left=t.left+"px",e.style.top=t.top+"px"):n.setViewportOffset(e,t)},getEventOffset:function(e){var t=e.target||e.srcElement,i=l.getClientRect(t),n=l.getViewportOffsetByEvent(e);return{left:n.left-i.left,top:n.top-i.top}},getViewportOffsetByEvent:function(e){var t=e.target||e.srcElement,i=n.getWindow(t).frameElement,o={left:e.clientX,top:e.clientY};if(i&&t.ownerDocument!==document){var s=l.getClientRect(i);o.left+=s.left,o.top+=s.top}return o},setGlobal:function(e,t){return s[e]=t,o+'["'+e+'"]'},unsetGlobal:function(e){delete s[e]},copyAttributes:function(e,t){for(var n=t.attributes,o=n.length;o--;){var s=n[o];"style"==s.nodeName||"class"==s.nodeName||i.ie&&!s.specified||e.setAttribute(s.nodeName,s.nodeValue)}t.className&&(e.className+=" "+t.className),t.style.cssText&&(e.style.cssText+=";"+t.style.cssText)},removeStyle:function(e,t){if(e.style.removeProperty)e.style.removeProperty(t);else{if(!e.style.removeAttribute)throw"";e.style.removeAttribute(t)}},contains:function(e,t){return e&&t&&(e===t?!1:e.contains?e.contains(t):16&e.compareDocumentPosition(t))},startDrag:function(e,t,i){function n(e){var i=e.clientX-r,n=e.clientY-a;t.ondragmove(i,n),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function o(){i.removeEventListener("mousemove",n,!0),i.removeEventListener("mouseup",n,!0),t.ondragstop()}function s(){l.releaseCapture(),l.detachEvent("onmousemove",n),l.detachEvent("onmouseup",s),l.detachEvent("onlosecaptrue",s),t.ondragstop()}var i=i||document,r=e.clientX,a=e.clientY;if(i.addEventListener)i.addEventListener("mousemove",n,!0),i.addEventListener("mouseup",o,!0),e.preventDefault();else{var l=e.srcElement;l.setCapture(),l.attachEvent("onmousemove",n),l.attachEvent("onmouseup",s),l.attachEvent("onlosecaptrue",s),e.returnValue=!1}t.ondragstart()},getFixedLayer:function(){var n=document.getElementById("edui_fixedlayer");return null==n&&(n=document.createElement("div"),n.id="edui_fixedlayer",document.body.appendChild(n),i.ie&&i.version<=8?(n.style.position="absolute",t(),setTimeout(e)):n.style.position="fixed",n.style.left="0",n.style.top="0",n.style.width="0",n.style.height="0"),n},makeUnselectable:function(e){if(i.opera||i.ie&&i.version<9){if(e.unselectable="on",e.hasChildNodes())for(var t=0;t<e.childNodes.length;t++)1==e.childNodes[t].nodeType&&l.makeUnselectable(e.childNodes[t])}else void 0!==e.style.MozUserSelect?e.style.MozUserSelect="none":void 0!==e.style.WebkitUserSelect?e.style.WebkitUserSelect="none":void 0!==e.style.KhtmlUserSelect&&(e.style.KhtmlUserSelect="none")}}}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.uiUtils,i=baidu.editor.EventBase,n=baidu.editor.ui.UIBase=function(){};n.prototype={className:"",uiName:"",initOptions:function(e){var i=this;for(var n in e)i[n]=e[n];this.id=this.id||"edui"+t.uid()},initUIBase:function(){this._globalKey=e.unhtml(t.setGlobal(this.id,this))},render:function(e){var i=this.renderHtml(),n=t.createElementByHtml(i),o=this.getDom();null!=o?(o.parentNode.replaceChild(n,o),t.copyAttributes(n,o)):("string"==typeof e&&(e=document.getElementById(e)),e=e||t.getFixedLayer(),e.appendChild(n)),this.postRender()},getDom:function(e){return e?document.getElementById(this.id+"_"+e):document.getElementById(this.id)},postRender:function(){this.fireEvent("postrender")},getHtmlTpl:function(){return""},formatHtml:function(e){var t="edui-"+this.uiName;return e.replace(/##/g,this.id).replace(/%%-/g,this.uiName?t+"-":"").replace(/%%/g,(this.uiName?t:"")+" "+this.className).replace(/\$\$/g,this._globalKey)},renderHtml:function(){return this.formatHtml(this.getHtmlTpl())},dispose:function(){var e=this.getDom();e&&baidu.editor.dom.domUtils.remove(e),t.unsetGlobal(this.id)}},e.inherits(n,i)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.UIBase,i=baidu.editor.ui.Separator=function(e){this.initOptions(e),this.initSeparator()};i.prototype={uiName:"separator",initSeparator:function(){this.initUIBase()},getHtmlTpl:function(){return'<div id="##" class="edui-box %%"></div>'}},e.inherits(i,t)}(),function(){var e=baidu.editor.utils,t=baidu.editor.dom.domUtils,i=baidu.editor.ui.UIBase,n=baidu.editor.ui.uiUtils,o=baidu.editor.ui.Mask=function(e){this.initOptions(e),this.initUIBase()};o.prototype={getHtmlTpl:function(){return'<div id="##" class="edui-mask %%" onmousedown="return $$._onMouseDown(event, this);"></div>'},postRender:function(){var e=this;t.on(window,"resize",function(){setTimeout(function(){e.isHidden()||e._fill()})})},show:function(e){this._fill(),this.getDom().style.display="",this.getDom().style.zIndex=e},hide:function(){this.getDom().style.display="none",this.getDom().style.zIndex=""},isHidden:function(){return"none"==this.getDom().style.display},_onMouseDown:function(){return!1},_fill:function(){var e=this.getDom(),t=n.getViewportRect();e.style.width=t.width+"px",e.style.height=t.height+"px"}},e.inherits(o,i)}(),function(){function e(e){for(var t=0;t<r.length;t++){var i=r[t];i.isHidden()||i.queryAutoHide(e)!==!1&&i.hide()}}var t=baidu.editor.utils,i=baidu.editor.ui.uiUtils,n=baidu.editor.dom.domUtils,o=baidu.editor.ui.UIBase,s=baidu.editor.ui.Popup=function(e){this.initOptions(e),this.initPopup()},r=[];s.postHide=e;var a=["edui-anchor-topleft","edui-anchor-topright","edui-anchor-bottomleft","edui-anchor-bottomright"];s.prototype={SHADOW_RADIUS:5,content:null,_hidden:!1,autoRender:!0,canSideLeft:!0,canSideUp:!0,initPopup:function(){this.initUIBase(),r.push(this)},getHtmlTpl:function(){return'<div id="##" class="edui-popup %%"> <div id="##_body" class="edui-popup-body"> <iframe style="position:absolute;z-index:-1;left:0;top:0;background-color: white;" frameborder="0" width="100%" height="100%" src="javascript:"></iframe> <div class="edui-shadow"></div> <div id="##_content" class="edui-popup-content">'+this.getContentHtmlTpl()+"  </div>"+" </div>"+"</div>"
},getContentHtmlTpl:function(){return"string"==typeof this.content?this.content:this.content.renderHtml()},_UIBase_postRender:o.prototype.postRender,postRender:function(){this.content instanceof o&&this.content.postRender(),this.fireEvent("postRenderAfter"),this.hide(!0),this._UIBase_postRender()},_doAutoRender:function(){!this.getDom()&&this.autoRender&&this.render()},mesureSize:function(){var e=this.getDom("content");return i.getClientRect(e)},fitSize:function(){var e=this.getDom("body");e.style.width="",e.style.height="";var t=this.mesureSize();return e.style.width=t.width+"px",e.style.height=t.height+"px",t},showAnchor:function(e,t){this.showAnchorRect(i.getClientRect(e),t)},showAnchorRect:function(e,t){this._doAutoRender();var o=i.getViewportRect();this._show();var s,r,l,d,u=this.fitSize();t?(s=this.canSideLeft&&e.right+u.width>o.right&&e.left>u.width,r=this.canSideUp&&e.top+u.height>o.bottom&&e.bottom>u.height,l=s?e.left-u.width:e.right,d=r?e.bottom-u.height:e.top):(s=this.canSideLeft&&e.right+u.width>o.right&&e.left>u.width,r=this.canSideUp&&e.top+u.height>o.bottom&&e.bottom>u.height,l=s?e.right-u.width:e.left,d=r?e.top-u.height:e.bottom);var c=this.getDom();i.setViewportOffset(c,{left:l,top:d}),n.removeClasses(c,a),c.className+=" "+a[2*(r?1:0)+(s?1:0)],this.editor&&(c.style.zIndex=1*this.editor.container.style.zIndex+10,baidu.editor.ui.uiUtils.getFixedLayer().style.zIndex=c.style.zIndex-1)},showAt:function(e){var t=e.left,i=e.top,n={left:t,top:i,right:t,bottom:i,height:0,width:0};this.showAnchorRect(n,!1,!0)},_show:function(){if(this._hidden){var e=this.getDom();e.style.display="",this._hidden=!1,this.fireEvent("show")}},isHidden:function(){return this._hidden},show:function(){this._doAutoRender(),this._show()},hide:function(e){!this._hidden&&this.getDom()&&(this.getDom().style.display="none",this._hidden=!0,e||this.fireEvent("hide"))},queryAutoHide:function(e){return!e||!i.contains(this.getDom(),e)}},t.inherits(s,o),n.on(document,"mousedown",function(t){var i=t.target||t.srcElement;e(i)}),n.on(window,"scroll",function(){e()})}(),function(){var e=baidu.editor.browser,t=baidu.editor.dom.domUtils,i=baidu.editor.ui.uiUtils,n='onmousedown="$$.Stateful_onMouseDown(event, this);" onmouseup="$$.Stateful_onMouseUp(event, this);"'+(e.ie?' onmouseenter="$$.Stateful_onMouseEnter(event, this);" onmouseleave="$$.Stateful_onMouseLeave(event, this);"':' onmouseover="$$.Stateful_onMouseOver(event, this);" onmouseout="$$.Stateful_onMouseOut(event, this);"');baidu.editor.ui.Stateful={alwalysHoverable:!1,Stateful_init:function(){this._Stateful_dGetHtmlTpl=this.getHtmlTpl,this.getHtmlTpl=this.Stateful_getHtmlTpl},Stateful_getHtmlTpl:function(){var e=this._Stateful_dGetHtmlTpl();return e.replace(/stateful/g,function(){return n})},Stateful_onMouseEnter:function(){(!this.isDisabled()||this.alwalysHoverable)&&(this.addState("hover"),this.fireEvent("over"))},Stateful_onMouseLeave:function(){(!this.isDisabled()||this.alwalysHoverable)&&(this.removeState("hover"),this.removeState("active"),this.fireEvent("out"))},Stateful_onMouseOver:function(e,t){var n=e.relatedTarget;i.contains(t,n)||t===n||this.Stateful_onMouseEnter(e,t)},Stateful_onMouseOut:function(e,t){var n=e.relatedTarget;i.contains(t,n)||t===n||this.Stateful_onMouseLeave(e,t)},Stateful_onMouseDown:function(){this.isDisabled()||this.addState("active")},Stateful_onMouseUp:function(){this.isDisabled()||this.removeState("active")},Stateful_postRender:function(){this.disabled&&!this.hasState("disabled")&&this.addState("disabled")},hasState:function(e){return t.hasClass(this.getStateDom(),"edui-state-"+e)},addState:function(e){this.hasState(e)||(this.getStateDom().className+=" edui-state-"+e)},removeState:function(e){this.hasState(e)&&t.removeClasses(this.getStateDom(),["edui-state-"+e])},getStateDom:function(){return this.getDom("state")},isChecked:function(){return this.hasState("checked")},setChecked:function(e){!this.isDisabled()&&e?this.addState("checked"):this.removeState("checked")},isDisabled:function(){return this.hasState("disabled")},setDisabled:function(e){e?(this.removeState("hover"),this.removeState("checked"),this.removeState("active"),this.addState("disabled")):this.removeState("disabled")}}}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.UIBase,i=baidu.editor.ui.Stateful,n=baidu.editor.ui.Button=function(e){this.initOptions(e),this.initButton()};n.prototype={uiName:"button",label:"",title:"",showIcon:!0,showText:!0,initButton:function(){this.initUIBase(),this.Stateful_init()},getHtmlTpl:function(){return'<div id="##" class="edui-box %%"><div id="##_state" stateful><div class="%%-wrap"><div id="##_body" unselectable="on" '+(this.title?'title="'+this.title+'"':"")+' class="%%-body" onmousedown="return false;" onclick="return $$._onClick();">'+(this.showIcon?'<div class="edui-box edui-icon"></div>':"")+(this.showText?'<div class="edui-box edui-label">'+this.label+"</div>":"")+"</div>"+"</div>"+"</div></div>"},postRender:function(){this.Stateful_postRender()},_onClick:function(){this.isDisabled()||this.fireEvent("click")}},e.inherits(n,t),e.extend(n.prototype,i)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.uiUtils,i=(baidu.editor.dom.domUtils,baidu.editor.ui.UIBase),n=baidu.editor.ui.Stateful,o=baidu.editor.ui.SplitButton=function(e){this.initOptions(e),this.initSplitButton()};o.prototype={popup:null,uiName:"splitbutton",title:"",initSplitButton:function(){if(this.initUIBase(),this.Stateful_init(),null!=this.popup){var e=this.popup;this.popup=null,this.setPopup(e)}},_UIBase_postRender:i.prototype.postRender,postRender:function(){this.Stateful_postRender(),this._UIBase_postRender()},setPopup:function(i){this.popup!==i&&(null!=this.popup&&this.popup.dispose(),i.addListener("show",e.bind(this._onPopupShow,this)),i.addListener("hide",e.bind(this._onPopupHide,this)),i.addListener("postrender",e.bind(function(){i.getDom("body").appendChild(t.createElementByHtml('<div id="'+this.popup.id+'_bordereraser" class="edui-bordereraser edui-background" style="width:'+(t.getClientRect(this.getDom()).width-2)+'px"></div>')),i.getDom().className+=" "+this.className},this)),this.popup=i)},_onPopupShow:function(){this.addState("opened")},_onPopupHide:function(){this.removeState("opened")},getHtmlTpl:function(){return'<div id="##" class="edui-box %%"><div '+(this.title?'title="'+this.title+'"':"")+' id="##_state" stateful><div class="%%-body">'+'<div id="##_button_body" class="edui-box edui-button-body" onclick="$$._onButtonClick(event, this);">'+'<div class="edui-box edui-icon"></div>'+"</div>"+'<div class="edui-box edui-splitborder"></div>'+'<div class="edui-box edui-arrow" onclick="$$._onArrowClick();"></div>'+"</div></div></div>"},showPopup:function(){var e=t.getClientRect(this.getDom());e.top-=this.popup.SHADOW_RADIUS,e.height+=this.popup.SHADOW_RADIUS,this.popup.showAnchorRect(e)},_onArrowClick:function(){this.isDisabled()||this.showPopup()},_onButtonClick:function(){this.isDisabled()||this.fireEvent("buttonclick")}},e.inherits(o,i),e.extend(o.prototype,n,!0)}(),function(){function e(e){for(var t,i=e.editor.options.autotypeset,n=e.getDom(),o=domUtils.getElementsByTagName(n,"input"),s=o.length-1;t=o[s--];)if("checkbox"==t.getAttribute("type")){var r=t.getAttribute("name");if(i[r]&&delete i[r],t.checked){var a=document.getElementById(r+"Value");if(a){if(/input/gi.test(a.tagName))i[r]=a.value;else for(var l,d=a.getElementsByTagName("input"),u=d.length-1;l=d[u--];)if(l.checked){i[r]=l.value;break}}else i[r]=!0}}for(var c,h=domUtils.getElementsByTagName(n,"select"),s=0;c=h[s++];){var p=c.getAttribute("name");i[p]=i[p]?c.value:""}e.editor.options.autotypeset=i}var t=baidu.editor.utils,i=baidu.editor.ui.Popup,n=baidu.editor.ui.AutoTypeSetPicker,o=baidu.editor.ui.SplitButton,s=baidu.editor.ui.AutoTypeSetButton=function(e){this.initOptions(e),this.initAutoTypeSetButton()};s.prototype={initAutoTypeSetButton:function(){var t=this;this.popup=new i({content:new n({editor:t.editor}),editor:t.editor,hide:function(){!this._hidden&&this.getDom()&&(e(this),this.getDom().style.display="none",this._hidden=!0,this.fireEvent("hide"))}});var o=0;this.popup.addListener("postRenderAfter",function(){var i=this;if(!o){var n=this.getDom(),s=n.getElementsByTagName("button")[0];s.onclick=function(){e(i),t.editor.execCommand("autotypeset")},o=1}}),this.initSplitButton()}},t.inherits(s,o)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.uiUtils,i=baidu.editor.ui.UIBase,n=baidu.editor.ui.Toolbar=function(e){this.initOptions(e),this.initToolbar()};n.prototype={items:null,initToolbar:function(){this.items=this.items||[],this.initUIBase()},add:function(e){this.items.push(e)},getHtmlTpl:function(){for(var e=[],t=0;t<this.items.length;t++)e[t]=this.items[t].renderHtml();return'<div id="##" class="edui-toolbar %%" onselectstart="return false;" onmousedown="return $$._onMouseDown(event, this);">'+e.join("")+"</div>"},postRender:function(){for(var e=this.getDom(),i=0;i<this.items.length;i++)this.items[i].postRender();t.makeUnselectable(e)},_onMouseDown:function(){return!1}},e.inherits(n,i)}(),function(){var e=baidu.editor.utils,t=baidu.editor.dom.domUtils,i=baidu.editor.ui.uiUtils,n=baidu.editor.ui.UIBase,o=baidu.editor.ui.Popup,s=baidu.editor.ui.Stateful,r=baidu.editor.ui.Menu=function(e){this.initOptions(e),this.initMenu()},a={renderHtml:function(){return'<div class="edui-menuitem edui-menuseparator"><div class="edui-menuseparator-inner"></div></div>'},postRender:function(){},queryAutoHide:function(){return!0}};r.prototype={items:null,uiName:"menu",initMenu:function(){this.items=this.items||[],this.initPopup(),this.initItems()},initItems:function(){for(var e=0;e<this.items.length;e++){var t=this.items[e];"-"==t?this.items[e]=this.getSeparator():t instanceof l||(this.items[e]=this.createItem(t))}},getSeparator:function(){return a},createItem:function(e){return new l(e)},_Popup_getContentHtmlTpl:o.prototype.getContentHtmlTpl,getContentHtmlTpl:function(){if(0==this.items.length)return this._Popup_getContentHtmlTpl();for(var e=[],t=0;t<this.items.length;t++){var i=this.items[t];e[t]=i.renderHtml()}return'<div class="%%-body">'+e.join("")+"</div>"},_Popup_postRender:o.prototype.postRender,postRender:function(){for(var e=this,n=0;n<this.items.length;n++){var o=this.items[n];o.ownerMenu=this,o.postRender()}t.on(this.getDom(),"mouseover",function(t){t=t||event;var n=t.relatedTarget||t.fromElement,o=e.getDom();i.contains(o,n)||o===n||e.fireEvent("over")}),this._Popup_postRender()},queryAutoHide:function(e){if(e){if(i.contains(this.getDom(),e))return!1;for(var t=0;t<this.items.length;t++){var n=this.items[t];if(n.queryAutoHide(e)===!1)return!1}}},clearItems:function(){for(var e=0;e<this.items.length;e++){var t=this.items[e];clearTimeout(t._showingTimer),clearTimeout(t._closingTimer),t.subMenu&&t.subMenu.destroy()}this.items=[]},destroy:function(){this.getDom()&&t.remove(this.getDom()),this.clearItems()},dispose:function(){this.destroy()}},e.inherits(r,o);var l=baidu.editor.ui.MenuItem=function(e){this.initOptions(e),this.initUIBase(),this.Stateful_init(),!this.subMenu||this.subMenu instanceof r||(this.subMenu=new r(this.subMenu))};l.prototype={label:"",subMenu:null,ownerMenu:null,uiName:"menuitem",alwalysHoverable:!0,getHtmlTpl:function(){return'<div id="##" class="%%" stateful onclick="$$._onClick(event, this);"><div class="%%-body">'+this.renderLabelHtml()+"</div>"+"</div>"},postRender:function(){var e=this;this.addListener("over",function(){e.ownerMenu.fireEvent("submenuover",e),e.subMenu&&e.delayShowSubMenu()}),this.subMenu&&(this.getDom().className+=" edui-hassubmenu",this.subMenu.render(),this.addListener("out",function(){e.delayHideSubMenu()}),this.subMenu.addListener("over",function(){clearTimeout(e._closingTimer),e._closingTimer=null,e.addState("opened")}),this.ownerMenu.addListener("hide",function(){e.hideSubMenu()}),this.ownerMenu.addListener("submenuover",function(t,i){i!==e&&e.delayHideSubMenu()}),this.subMenu._bakQueryAutoHide=this.subMenu.queryAutoHide,this.subMenu.queryAutoHide=function(t){return t&&i.contains(e.getDom(),t)?!1:this._bakQueryAutoHide(t)}),this.getDom().style.tabIndex="-1",i.makeUnselectable(this.getDom()),this.Stateful_postRender()},delayShowSubMenu:function(){var e=this;e.isDisabled()||(e.addState("opened"),clearTimeout(e._showingTimer),clearTimeout(e._closingTimer),e._closingTimer=null,e._showingTimer=setTimeout(function(){e.showSubMenu()},250))},delayHideSubMenu:function(){var e=this;e.isDisabled()||(e.removeState("opened"),clearTimeout(e._showingTimer),e._closingTimer||(e._closingTimer=setTimeout(function(){e.hasState("opened")||e.hideSubMenu(),e._closingTimer=null},400)))},renderLabelHtml:function(){return'<div class="edui-arrow"></div><div class="edui-box edui-icon"></div><div class="edui-box edui-label %%-label">'+(this.label||"")+"</div>"},getStateDom:function(){return this.getDom()},queryAutoHide:function(e){return this.subMenu&&this.hasState("opened")?this.subMenu.queryAutoHide(e):void 0},_onClick:function(e,t){this.hasState("disabled")||this.fireEvent("click",e,t)!==!1&&(this.subMenu?this.showSubMenu():o.postHide())},showSubMenu:function(){var e=i.getClientRect(this.getDom());e.right-=5,e.left+=2,e.width-=7,e.top-=4,e.bottom+=4,e.height+=8,this.subMenu.showAnchorRect(e,!0,!0)},hideSubMenu:function(){this.subMenu.hide()}},e.inherits(l,n),e.extend(l.prototype,s,!0)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.uiUtils,i=baidu.editor.ui.Menu,n=baidu.editor.ui.SplitButton,o=baidu.editor.ui.Combox=function(e){this.initOptions(e),this.initCombox()};o.prototype={uiName:"combox",initCombox:function(){var e=this;this.items=this.items||[];for(var t=0;t<this.items.length;t++){var n=this.items[t];n.uiName="listitem",n.index=t,n.onclick=function(){e.selectByIndex(this.index)}}this.popup=new i({items:this.items,uiName:"list",editor:this.editor}),this.initSplitButton()},_SplitButton_postRender:n.prototype.postRender,postRender:function(){this._SplitButton_postRender(),this.setLabel(this.label||""),this.setValue(this.initValue||"")},showPopup:function(){var e=t.getClientRect(this.getDom());e.top+=1,e.bottom-=1,e.height-=2,this.popup.showAnchorRect(e)},getValue:function(){return this.value},setValue:function(e){var t=this.indexByValue(e);-1!=t?(this.selectedIndex=t,this.setLabel(this.items[t].label),this.value=this.items[t].value):(this.selectedIndex=-1,this.setLabel(this.getLabelForUnknowValue(e)),this.value=e)},setLabel:function(e){this.getDom("button_body").innerHTML=e,this.label=e},getLabelForUnknowValue:function(e){return e},indexByValue:function(e){for(var t=0;t<this.items.length;t++)if(e==this.items[t].value)return t;return-1},getItem:function(e){return this.items[e]},selectByIndex:function(e){e<this.items.length&&this.fireEvent("select",e)!==!1&&(this.selectedIndex=e,this.value=this.items[e].value,this.setLabel(this.items[e].label))}},e.inherits(o,n)}(),function(){var e,t,i=baidu.editor.utils,n=baidu.editor.dom.domUtils,o=baidu.editor.ui.uiUtils,s=baidu.editor.ui.Mask,r=baidu.editor.ui.UIBase,a=baidu.editor.ui.Button,l=baidu.editor.ui.Dialog=function(e){this.initOptions(e),this.initDialog()};l.prototype={draggable:!1,uiName:"dialog",initDialog:function(){var i=this;if(this.initUIBase(),this.modalMask=e||(e=new s({className:"edui-dialog-modalmask"})),this.dragMask=t||(t=new s({className:"edui-dialog-dragmask"})),this.closeButton=new a({className:"edui-dialog-closebutton",title:"关闭对话框",onclick:function(){i.close(!1)}}),this.buttons)for(var n=0;n<this.buttons.length;n++)this.buttons[n]instanceof a||(this.buttons[n]=new a(this.buttons[n]))},fitSize:function(){var e=this.getDom("body"),t=this.mesureSize();return e.style.width=t.width+"px",e.style.height=t.height+"px",t},safeSetOffset:function(e){var t=this,i=t.getDom(),n=o.getViewportRect(),s=o.getClientRect(i),r=e.left;r+s.width>n.right&&(r=n.right-s.width);var a=e.top;a+s.height>n.bottom&&(a=n.bottom-s.height),i.style.left=Math.max(r,0)+"px",i.style.top=Math.max(a,0)+"px"},showAtCenter:function(){this.getDom().style.display="";var e=o.getViewportRect(),t=this.fitSize(),i=0|this.getDom("titlebar").offsetHeight,s=e.width/2-t.width/2,r=e.height/2-(t.height-i)/2-i,a=this.getDom();this.safeSetOffset({left:Math.max(0|s,0),top:Math.max(0|r,0)}),n.hasClass(a,"edui-state-centered")||(a.className+=" edui-state-centered"),this._show()},getContentHtml:function(){var e="";return"string"==typeof this.content?e=this.content:this.iframeUrl&&(e='<iframe id="'+this.id+'_iframe" class="%%-iframe" height="100%" width="100%" frameborder="0" src="'+this.iframeUrl+'"></iframe>'),e},getHtmlTpl:function(){var e="";if(this.buttons){for(var t=[],i=0;i<this.buttons.length;i++)t[i]=this.buttons[i].renderHtml();e='<div class="%%-foot"><div id="##_buttons" class="%%-buttons">'+t.join("")+"</div>"+"</div>"}return'<div id="##" class="%%"><div class="%%-wrap"><div id="##_body" class="%%-body"><div class="%%-shadow"></div><div id="##_titlebar" class="%%-titlebar"><div class="%%-draghandle" onmousedown="$$._onTitlebarMouseDown(event, this);"><span class="%%-caption">'+(this.title||"")+"</span>"+"</div>"+this.closeButton.renderHtml()+"</div>"+'<div id="##_content" class="%%-content">'+(this.autoReset?"":this.getContentHtml())+"</div>"+e+"</div></div></div>"},postRender:function(){this.modalMask.getDom()||(this.modalMask.render(),this.modalMask.hide()),this.dragMask.getDom()||(this.dragMask.render(),this.dragMask.hide());var e=this;if(this.addListener("show",function(){e.modalMask.show(this.getDom().style.zIndex-2)}),this.addListener("hide",function(){e.modalMask.hide()}),this.buttons)for(var t=0;t<this.buttons.length;t++)this.buttons[t].postRender();n.on(window,"resize",function(){setTimeout(function(){e.isHidden()||e.safeSetOffset(o.getClientRect(e.getDom()))})}),this._hide()},mesureSize:function(){var e=this.getDom("body"),t=o.getClientRect(this.getDom("content")).width,i=e.style;return i.width=t,o.getClientRect(e)},_onTitlebarMouseDown:function(e){if(this.draggable){var t;o.getViewportRect();var i=this;o.startDrag(e,{ondragstart:function(){t=o.getClientRect(i.getDom()),i.dragMask.show(i.getDom().style.zIndex-1)},ondragmove:function(e,n){var o=t.left+e,s=t.top+n;i.safeSetOffset({left:o,top:s})},ondragstop:function(){n.removeClasses(i.getDom(),["edui-state-centered"]),i.dragMask.hide()}})}},reset:function(){this.getDom("content").innerHTML=this.getContentHtml()},_show:function(){this._hidden&&(this.getDom().style.display="",this.editor.container.style.zIndex&&(this.getDom().style.zIndex=1*this.editor.container.style.zIndex+10),this._hidden=!1,this.fireEvent("show"),baidu.editor.ui.uiUtils.getFixedLayer().style.zIndex=this.getDom().style.zIndex-4)},isHidden:function(){return this._hidden},_hide:function(){this._hidden||(this.getDom().style.display="none",this.getDom().style.zIndex="",this._hidden=!0,this.fireEvent("hide"))},open:function(){if(this.autoReset&&this.reset(),this.showAtCenter(),this.iframeUrl)try{this.getDom("iframe").focus()}catch(e){}},_onCloseButtonClick:function(){this.close(!1)},close:function(e){this.fireEvent("close",e)!==!1&&this._hide()}},i.inherits(l,r)}(),function(){var e=baidu.editor.utils,t=baidu.editor.ui.Menu,i=baidu.editor.ui.SplitButton,n=baidu.editor.ui.MenuButton=function(e){this.initOptions(e),this.initMenuButton()};n.prototype={initMenuButton:function(){var e=this;this.uiName="menubutton",this.popup=new t({items:e.items,className:e.className,editor:e.editor}),this.popup.addListener("show",function(){for(var t=this,i=0;i<t.items.length;i++)t.items[i].removeState("checked"),t.items[i].value==e._value&&(t.items[i].addState("checked"),this.value=e._value)}),this.initSplitButton()},setValue:function(e){this._value=e}},e.inherits(n,i)}(),function(){baidu.editor.browser.ie,baidu.editor.utils;var e=baidu.editor.ui,t=e.Dialog;e.Dialog=function(e){var i=new t(e);return i.addListener("hide",function(){if(i.editor){var e=i.editor;try{e.focus()}catch(t){}}}),i};var i,n,o=["Bold","Italic","Indent","Outdent","SelectAll","Print","Link","InsertVideo"];for(i=o.length;i--;)n=o[i],e[n]=function(t){return function(i,n){n=n||i.options.labelMap[t.toLowerCase()]||"";var o=new e.Button({className:"edui-for-"+t.toLowerCase(),title:n,onclick:function(){var e=i.uid;if("Print"==t)$("#ueditor_image_popup"+e).show(),$("#ueditor_image_popup"+e+" div.edui-popup-all-content").draggable({handle:"#ueditor_image_popup_top"+e,scroll:!1});else if("InsertVideo"==t)$("#ueditor_video_popup"+e).show(),$("#ueditor_video_popup"+e+" input#ueditor_video_url"+e).focus(),$("#ueditor_video_popup"+e+" div.edui-popup-all-content").draggable({handle:"#ueditor_video_popup_top"+e,scroll:!1});else if("Link"==t)$("#ueditor_link_popup"+e).show(),$("#ueditor_link_popup"+e+" input#ueditor_link_href"+e).focus(),$("#ueditor_link_popup"+e+" div.edui-popup-all-content").draggable({handle:"#ueditor_link_popup_top"+e,scroll:!1});else if("Bold"==t){var n,o,s=i,r="h3",a=domUtils.findParent(s.selection.getStart(),function(e){return e.tagName.toLowerCase()},!0),l={};if(a&&"h3"==a.tagName.toLowerCase()){if(n=s.selection.getRange(),o=n.createBookmark(),n.collapsed)if(dtd.$block[a.tagName]){var d=s.document.createElement("p");domUtils.moveChild(a,d),a.parentNode.insertBefore(d,a),domUtils.remove(a)}else domUtils.remove(a,!0);else{var u=domUtils.getCommonAncestor(o.start,o.end),c=domUtils.getElementsByTagName(u,r);new RegExp(r,"i").test(u.tagName)&&c.push(u);for(var h,p=0;h=c[p++];)if("h3"==h.tagName.toLowerCase()){var f=domUtils.getPosition(h,o.start),m=domUtils.getPosition(h,o.end);if((f&domUtils.POSITION_FOLLOWING||f&domUtils.POSITION_CONTAINS)&&(m&domUtils.POSITION_PRECEDING||m&domUtils.POSITION_CONTAINS)&&dtd.$block[r]){var d=s.document.createElement("p");domUtils.moveChild(h,d),h.parentNode.insertBefore(d,h)}domUtils.remove(h,!0)}a=domUtils.findParent(u,function(e){return"h3"==e.tagName.toLowerCase()},!0),a&&domUtils.remove(a,!0)}n.moveToBookmark(o).select()}else if(dtd.$block[r]){if(s.execCommand("paragraph",r,l,"customstyle"),$("#"+i.ui.toolbars[0].items[0].id).addClass("edui-toolbar-menu-checked"),n=s.selection.getRange(),!n.collapsed){n.collapse(),a=domUtils.findParent(s.selection.getStart(),function(e){return"h3"==e.tagName.toLowerCase()},!0);var g=s.document.createElement("p");domUtils.insertAfter(a,g),domUtils.fillNode(s.document,g),n.setStart(g,0).setCursor()}}else{if(n=s.selection.getRange(),n.collapsed)return a=s.document.createElement(r),domUtils.setAttributes(a,l),n.insertNode(a).setStart(a,0).setCursor(),void 0;o=n.createBookmark(),n.applyInlineStyle(r,l).moveToBookmark(o).select()}s.addListener("keyup",function(e,t){var i=t.keyCode||t.which;if(32==i||13==i){var n=s.selection.getRange();if(n.collapsed){var o=domUtils.findParent(s.selection.getStart(),function(e){return e.tagName},!0);if(o&&"br"==o.tagName.toLowerCase()&&domUtils.isEmptyNode(o)){var r=s.document.createElement("p");domUtils.insertAfter(o.parentNode,r),domUtils.fillNode(s.document,r),domUtils.remove(o.parentNode),n.setStart(r,0).setCursor()}}}}),s.enableAutoHeight()}else i.execCommand(t)},showText:!1});return i.addListener("selectionchange",function(e,n,s){var r=i.queryCommandState(t.toLowerCase());-1==r?(o.setDisabled(!0),o.setChecked(!1)):s||(o.setDisabled(!1),o.setChecked(r))}),o}}(n);var s=[];for(i=s.length;i--;)n=s[i],e[n]=function(t){return t=t.toLowerCase(),function(i,n,o){n=n||i.options.iframeUrlMap[t.toLowerCase()]||"about:blank",n=i.ui.mapUrl(n),o=o||i.options.labelMap[t.toLowerCase()]||"";var s=new e.Dialog({iframeUrl:n,autoReset:!0,draggable:!0,editor:i,className:"edui-for-"+t,title:o,buttons:[{className:"edui-okbutton",label:"确认",onclick:function(){s.close(!0)}},{className:"edui-cancelbutton",label:"取消",onclick:function(){s.close(!1)}}],onok:function(){},oncancel:function(){},onclose:function(e,t){return t?this.onok():this.oncancel()}});s.render();var r=new e.Button({className:"edui-for-"+t,title:o,onclick:function(){s.open()}});return i.addListener("selectionchange",function(){var e=i.queryCommandState(t);-1==e?r.setDisabled(!0):(r.setChecked(e),r.setDisabled(!1))}),r}}(n)}(),function(){function e(e){this.initOptions(e),this.initEditorUI()}var t=baidu.editor.utils,i=baidu.editor.ui.uiUtils,n=baidu.editor.ui.UIBase;e.prototype={uiName:"editor",initEditorUI:function(){this.editor.ui=this,this._dialogs={},this.initUIBase(),this._initToolbars();var e=this.editor;e.addListener("ready",function(){baidu.editor.dom.domUtils.on(e.window,"scroll",function(){baidu.editor.ui.Popup.postHide()}),e.options.elementPathEnabled&&(e.ui.getDom("elementpath").innerHTML='<div class="edui-editor-breadcrumb">path:</div>'),e.options.wordCount&&(e.ui.getDom("wordcount").innerHTML="字数统计"),e.selection.isFocus()&&e.fireEvent("selectionchange",!1,!0)}),e.addListener("mousedown",function(e,t){var i=t.target||t.srcElement;baidu.editor.ui.Popup.postHide(i)}),e.addListener("contextmenu",function(){baidu.editor.ui.Popup.postHide()});var t=this;e.addListener("selectionchange",function(){e.selection.isFocus()&&(t._updateElementPath(),t._wordCount())}),e.addListener("sourcemodechanged",function(i,n){e.options.elementPathEnabled&&(n?t.disableElementPath():t.enableElementPath()),e.options.wordCount&&(n?t.disableWordCount():t.enableWordCount())});var i=new baidu.editor.ui.Dialog({iframeUrl:e.ui.mapUrl(t.editor.options.iframeUrlMap.link),autoReset:!0,draggable:!0,editor:e,className:"edui-for-link",title:"超链接",buttons:[{className:"edui-okbutton",label:"确认",onclick:function(){i.close(!0)}},{className:"edui-cancelbutton",label:"取消",onclick:function(){i.close(!1)}}],onok:function(){},oncancel:function(){},onclose:function(e,t){return t?this.onok():this.oncancel()}});i.render();var n=new baidu.editor.ui.Dialog({iframeUrl:e.ui.mapUrl(t.editor.options.iframeUrlMap.insertvideo),autoReset:!0,draggable:!0,editor:e,className:"edui-for-insertvideo",title:"视频",buttons:[{className:"edui-okbutton",label:"确认",onclick:function(){n.close(!0)}},{className:"edui-cancelbutton",label:"取消",onclick:function(){n.close(!1)}}],onok:function(){},oncancel:function(){},onclose:function(e,t){return t?this.onok():this.oncancel()}});n.render();var o=new baidu.editor.ui.Popup({editor:e,content:"",className:"edui-bubble",_onEditButtonClick:function(){this.hide(),i.open()},_onImgEditButtonClick:function(){this.hide();var t=e.selection.getRange().getClosedNode(),i=baidu.editor.dom.domUtils.findParentByTagName(t,"img",!0);i&&-1!=i.className.indexOf("edui-faked-video")?n.open():i&&-1!=i.src.indexOf("http://api.map.baidu.com")?mapDialog.open():i&&-1!=i.src.indexOf("http://maps.google.com/maps/api/staticmap")?gmapDialog.open():i&&i.getAttribute("anchorname")?anchorDialog.open():imgDialog.open()},_getImg:function(){var t=e.selection.getRange().getClosedNode();return!t||"img"!=t.nodeName&&"IMG"!=t.nodeName?null:t},_onImgSetFloat:function(t){if(this._getImg()){e.execCommand("imagefloat",t);var i=this._getImg();i&&this.showAnchor(i)}},_setIframeAlign:function(e){var t=o.anchorEl,i=t.cloneNode(!0);switch(e){case-2:i.setAttribute("align","");break;case-1:i.setAttribute("align","left");break;case 1:i.setAttribute("align","right");break;case 2:i.setAttribute("align","middle")}t.parentNode.insertBefore(i,t),baidu.editor.dom.domUtils.remove(t),o.anchorEl=i,o.showAnchor(o.anchorEl)},_updateIframe:function(){e._iframe=o.anchorEl,insertframe.open(),o.hide()},_onRemoveButtonClick:function(){var t=e.selection.getRange().getClosedNode(),i=baidu.editor.dom.domUtils.findParentByTagName(t,"img",!0);i&&i.getAttribute("anchorname")?e.execCommand("anchor"):e.execCommand("unlink"),this.hide()},queryAutoHide:function(t){return t&&t.ownerDocument==e.document&&("img"==t.tagName.toLowerCase()||baidu.editor.dom.domUtils.findParentByTagName(t,"a",!0))?t!==o.anchorEl:baidu.editor.ui.Popup.prototype.queryAutoHide.call(this,t)}});o.render(),e.addListener("mouseover",function(t,i){i=i||window.event;var n=i.target||i.srcElement;if(/iframe/gi.test(n.tagName)&&e.options.imagePopup){var s=o.formatHtml('<nobr>属性: <span onclick=$$._setIframeAlign(-2) class="edui-clickable">默认</span>&nbsp;&nbsp;<span onclick=$$._setIframeAlign(-1) class="edui-clickable">左对齐</span>&nbsp;&nbsp;<span onclick=$$._setIframeAlign(1) class="edui-clickable">右对齐</span>&nbsp;&nbsp;<span onclick=$$._setIframeAlign(2) class="edui-clickable">居中</span> <span onclick="$$._updateIframe( this);" class="edui-clickable">修改</span></nobr>');s?(o.getDom("content").innerHTML=s,o.anchorEl=n,o.showAnchor(o.anchorEl)):o.hide()}}),e.addListener("selectionchange",function(t,i){if(i){var n="",s=e.selection.getRange().getClosedNode();null!=s&&"img"==s.tagName.toLowerCase()&&"edui-faked-video"==s.getAttribute("class")&&(n+=o.formatHtml('<nobr>视频: <a target="_blank" href="'+s.getAttribute("data-video-url")+'" >'+s.getAttribute("data-video-title"))+"</a>");var r;if(e.selection.getRange().collapsed){var a=domUtils.findParent(e.selection.getStart(),function(e){return"h3"==e.tagName.toLowerCase()},!0);a?$("#"+e.ui.toolbars[0].items[0].id).addClass("edui-toolbar-menu-checked"):$("#"+e.ui.toolbars[0].items[0].id).removeClass("edui-toolbar-menu-checked"),r=e.queryCommandValue("link")}else r=e.selection.getStart();r=baidu.editor.dom.domUtils.findParentByTagName(r,"a",!0);var l;if(null!=r&&null!=(l=r.getAttribute("data_ue_src")||r.getAttribute("href",2))){var d=l;l.length>30&&(d=l.substring(0,20)+"..."),n&&(n+='<div style="height:5px;"></div>'),n+=o.formatHtml('<nobr>链接: <a target="_blank" href="'+l+'" title="'+l+'" >'+d+"</a>"+' <span class="edui-clickable" onclick="$$._onRemoveButtonClick(event, this);"> 清除</span></nobr>'),o.showAnchor(r)}n?(o.getDom("content").innerHTML=n,o.anchorEl=s||r,o.showAnchor(o.anchorEl)):o.hide()}})},_initToolbars:function(){for(var e=this.editor,t=this.toolbars||[],i=[],n=0;n<t.length;n++){for(var o=t[n],s=new baidu.editor.ui.Toolbar,r=0;r<o.length;r++){var a=o[r],l=null;if("string"==typeof a){if("|"==a&&(a="Separator"),baidu.editor.ui[a]&&(l=new baidu.editor.ui[a](e)),"FullScreen"==a){i&&i[0]?i[0].items.splice(0,0,l):s.items.splice(0,0,l);continue}}else l=a;l&&s.add(l)}i[n]=s}this.toolbars=i},getHtmlTpl:function(){return'<div id="##" class="%%"><div id="##_toolbarbox" class="%%-toolbarbox"><div id="##_toolbarboxouter" class="%%-toolbarboxouter"><div class="%%-toolbarboxinner">'+this.renderToolbarBoxHtml()+"</div></div>"+'<div id="##_toolbarmsg" class="%%-toolbarmsg" style="display:none;">'+'<div id = "##_upload_dialog" class="%%-toolbarmsg-upload" onclick="$$.showWordImageDialog();">点此上传</div>'+'<div class="%%-toolbarmsg-close" onclick="$$.hideToolbarMsg();">x</div>'+'<div id="##_toolbarmsg_label" class="%%-toolbarmsg-label"></div>'+'<div style="height:0;overflow:hidden;clear:both;"></div>'+"</div>"+"</div>"+'<div id="##_iframeholder" class="%%-iframeholder"></div>'+'<div id="##_bottombar" class="%%-bottomContainer"><table><tr>'+'<td id="##_elementpath" class="%%-bottombar"></td>'+'<td id="##_wordcount" class="%%-wordcount"></td>'+"</tr></table></div>"+"</div>"},showWordImageDialog:function(){this.editor.execCommand("wordimage","word_img"),this._dialogs.wordImageDialog.open()},renderToolbarBoxHtml:function(){for(var e=[],t=0;t<this.toolbars.length;t++)e.push(this.toolbars[t].renderHtml());return e.join("")},setFullScreen:function(e){if(this._fullscreen!=e){this._fullscreen=e,this.editor.fireEvent("beforefullscreenchange",e);var t=this.editor;if(baidu.editor.browser.gecko)var i=t.selection.getRange().createBookmark();if(e?(this._bakHtmlOverflow=document.documentElement.style.overflow,this._bakBodyOverflow=document.body.style.overflow,this._bakAutoHeight=this.editor.autoHeightEnabled,this._bakScrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop),this._bakAutoHeight&&(t.autoHeightEnabled=!1,this.editor.disableAutoHeight()),document.documentElement.style.overflow="hidden",document.body.style.overflow="hidden",this._bakCssText=this.getDom().style.cssText,this._bakCssText1=this.getDom("iframeholder").style.cssText,this._updateFullScreen()):(this.getDom().style.cssText=this._bakCssText,this.getDom("iframeholder").style.cssText=this._bakCssText1,this._bakAutoHeight&&(t.autoHeightEnabled=!0,this.editor.enableAutoHeight()),document.documentElement.style.overflow=this._bakHtmlOverflow,document.body.style.overflow=this._bakBodyOverflow,window.scrollTo(0,this._bakScrollTop)),baidu.editor.browser.gecko){var n=document.createElement("input");document.body.appendChild(n),t.body.contentEditable=!1,setTimeout(function(){n.focus(),setTimeout(function(){t.body.contentEditable=!0,t.selection.getRange().moveToBookmark(i).select(!0),baidu.editor.dom.domUtils.remove(n),e&&window.scroll(0,0)})})}this.editor.fireEvent("fullscreenchanged",e),this.triggerLayout()}},_wordCount:function(){var e=this.getDom("wordcount");return this.editor.options.wordCount?(e.innerHTML=this.editor.queryCommandValue("wordcount"),void 0):(e.style.display="none",void 0)
},disableWordCount:function(){var e=this.getDom("wordcount");e.innerHTML="",e.style.display="none",this.wordcount=!1},enableWordCount:function(){var e=this.getDom("wordcount");e.style.display="",this.wordcount=!0,this._wordCount()},_updateFullScreen:function(){if(this._fullscreen){var e=i.getViewportRect();this.getDom().style.cssText="border:0;position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px;z-index:"+(1*this.getDom().style.zIndex+100),i.setViewportOffset(this.getDom(),{left:0,top:0}),this.editor.setHeight(e.height-this.getDom("toolbarbox").offsetHeight-this.getDom("bottombar").offsetHeight)}},_updateElementPath:function(){var e,t=this.getDom("elementpath");if(this.elementPathEnabled&&(e=this.editor.queryCommandValue("elementpath"))){for(var i,n=[],o=0;i=e[o];o++)n[o]=this.formatHtml('<span unselectable="on" onclick="$$.editor.execCommand(&quot;elementpath&quot;, &quot;'+o+'&quot;);">'+i+"</span>");t.innerHTML='<div class="edui-editor-breadcrumb" onmousedown="return false;">path: '+n.join(" &gt; ")+"</div>"}else t.style.display="none"},disableElementPath:function(){var e=this.getDom("elementpath");e.innerHTML="",e.style.display="none",this.elementPathEnabled=!1},enableElementPath:function(){var e=this.getDom("elementpath");e.style.display="",this.elementPathEnabled=!0,this._updateElementPath()},isFullScreen:function(){return this._fullscreen},postRender:function(){n.prototype.postRender.call(this);for(var e=0;e<this.toolbars.length;e++)this.toolbars[e].postRender();var t,i=this,o=baidu.editor.dom.domUtils,s=function(){clearTimeout(t),t=setTimeout(function(){i._updateFullScreen()})};o.on(window,"resize",s),i.addListener("destroy",function(){o.un(window,"resize",s),clearTimeout(t)})},showToolbarMsg:function(e,t){if(this.getDom("toolbarmsg_label").innerHTML=e,this.getDom("toolbarmsg").style.display="",!t){var i=this.getDom("upload_dialog");i.style.display="none"}},hideToolbarMsg:function(){this.getDom("toolbarmsg").style.display="none"},mapUrl:function(e){return e.replace("~/",this.editor.options.UEDITOR_HOME_URL||"")},triggerLayout:function(){var e=this.getDom();e.style.zoom="1"==e.style.zoom?"100%":"1"}},t.inherits(e,baidu.editor.ui.UIBase),baidu.editor.ui.Editor=function(t){var i=new baidu.editor.Editor(t);i.options.editor=i,new e(i.options);var n=i.render;return i.render=function(e){if(e&&(e.constructor===String&&(e=document.getElementById(e)),e&&e.getAttribute("name")&&(i.options.textarea=e.getAttribute("name")),e&&/script|textarea/gi.test(e.tagName))){var t=document.createElement("div");e.parentNode.insertBefore(t,e),i.options.initialContent=e.value||e.innerHTML,e.id&&(t.id=e.id),e.className&&(t.className=e.className),e.style.cssText&&(t.style.cssText=e.style.cssText),e.parentNode.removeChild(e),e=t,e.innerHTML=""}i.ui.render(e);var o=i.ui.getDom("iframeholder");i.container=i.ui.getDom(),i.container.style.zIndex=i.options.zIndex,n.call(i,o)},i}}(),function(e){e.fn.extend({ueditor:function(t){var i=[];return this.each(function(){function n(t){var i="demohour-editor-"+m.autosave.prefix_name;null!=e.jStorage.get(i)&&t.setContent(e.jStorage.get(i))}function o(t){e(document).everyTime(m.autosave.interval,function(){var i="demohour-editor-"+m.autosave.prefix_name;""!=t.getContent&&e.jStorage.set(i,t.getContent())})}function s(){var t=e("#ueditor_link_href"+b).val(),i={};""!=t&&(t="http://"+t.replace(/^(?:https?:\/\/)|(?:\/)$/gi,"")),i.href=t.replace(/^\s+|\s+$/g,""),i.href?(i.target="_blank",i.title="",v.execCommand("link",i),r()):(e("#ueditor_link_error_msg"+b).html("请输入链接地址！"),e("#ueditor_link_popup"+b+" input#ueditor_link_href"+b).focus())}function r(){e("#ueditor_link_href"+b).val(""),e("#ueditor_link_error_msg"+b).html(""),e("#ueditor_link_popup"+b).hide()}function a(){e("#ueditor_video_url"+b).val(""),e("#ueditor_video_error_msg"+b).html(""),e("#ueditor_video_popup"+b).hide(),l()}function l(){e("#ueditor_video_submit"+b).removeClass("edui-upload-button-loader"),e("#ueditor_video_submit"+b).remove("span")}function d(){var t=e("#ueditor_video_url"+b).val();return""==t?(l(),e("#ueditor_video_error_msg"+b).html("请输入视频地址！"),e("#ueditor_video_popup"+b+" input#ueditor_video_url"+b).focus(),!1):(e.ajax({type:"POST",async:!1,url:e("#ueditor_video_convert_url"+b).val(),data:{url:t}}).done(function(t){var i=jQuery.parseJSON(t);if(void 0==i.errormsg){var n='<p><img data-video-id="'+i.attachment_id+'" data-video-url="'+i.url+'" class="edui-faked-video"'+'data-video-title="'+i.title+'" src="'+m.video.default_image+'"/></p>';v.execCommand("inserthtml",n),a(),v.focus()}else l(),e("#ueditor_video_error_msg"+b).html(i.errormsg),e("#ueditor_video_popup"+b+" input#ueditor_video_url"+b).focus()}),void 0)}function u(t,i){var n='<img src="'+t.large+'" data-image-original="'+t.original+'" data-image-large="'+t.large+'" data-image-id="'+t.attachment_id+'"/>';e("#"+i).append(n)}function c(e,t){if(this.fileProgressID=e.id,this.opacity=100,this.height=0,this.fileProgressWrapper=document.getElementById(this.fileProgressID),this.fileProgressWrapper)this.fileProgressElement=this.fileProgressWrapper.firstChild,this.reset();else{this.fileProgressWrapper=document.createElement("div"),this.fileProgressWrapper.className="progressWrapper",this.fileProgressWrapper.id=this.fileProgressID,this.fileProgressElement=document.createElement("div"),this.fileProgressElement.className="progressContainer";var i=document.createElement("a");i.className="edui-upload-img-delete",i.href="#",i.style.visibility="hidden",i.appendChild(document.createTextNode(" "));var n=document.createElement("span");n.style.display="none";var o=document.createElement("span");o.className="progressBarInProgress";var s=document.createElement("span");s.className="progressBarStatus",s.innerHTML="&nbsp;",this.fileProgressElement.appendChild(i),this.fileProgressElement.appendChild(n),this.fileProgressElement.appendChild(s),this.fileProgressElement.appendChild(o),this.fileProgressWrapper.appendChild(this.fileProgressElement),document.getElementById(t).appendChild(this.fileProgressWrapper)}this.height=this.fileProgressWrapper.offsetHeight,this.setTimer(null)}function h(){e("#ueditor_upload_image_thumbnails"+b).html(""),e("#ueditor_upload_image_progress"+b).html(""),e("#ueditor_image_popup"+b).hide()}function p(){if(0==e("#ueditor_upload_image_thumbnails"+b+" img").length)return!1;var t=e("#ueditor_upload_image_thumbnails"+b+" img").map(function(){return this.className="upload_img",this.outerHTML}).get().join("<br /><br />")+"<br />";v.execCommand("inserthtml",t),h()}var f={autosave:{interval:3e3,prefix_name:e(this).attr("id")},image:{url:"/swfupload.json",file_size_limit:"5 MB",file_types:"*.jpg;*.gif;*.png;*.jpeg",file_queue_limit:"6",file_upload_limit:"6",total_file_upload_limit:"100",flash_url:"/swfupload/swfupload.swf",button_image_url:"/ueditor2/themes/default/images/upload.gif",button_width:"78",button_height:"32",file_types_description:"JPG Images"},video:{url:"/video_convert",default_image:"/ueditor2/themes/default/images/video.png"},editor_config_options:{minFrameHeight:480}},m=e.extend(!0,{},f,t),g=e(this).attr("id"),v=new baidu.editor.ui.Editor(m.editor_config_options);v.render(g),e("#"+g).removeClass(),e(".edui-button-body").tooltip({placement:"bottom"});var b=v.uid;i.push(v),0!=m.autosave&&(n(v),o(v));var y='<div id="ueditor_link_popup'+b+'" class="edui-popup-all edui-popup-img" style="display:none;">'+'<div class="edui-popup-background">'+'<div class="edui-popup-all-content">'+'<div class="edui-popup-table">'+'<div class="edui-popup-top" id="ueditor_link_popup_top'+b+'">'+'<span class="edui-dialog-caption">添加链接</span>'+'<a href="#" title="关闭" onfocus="this.blur();" class="ueditor_link_close'+b+'">关闭</a>'+"</div>"+'<div class="edui-popup-table-content">'+'<input id="ueditor_link_href'+b+'" type="text" placeholder="输入链接地址" />'+'<span id="ueditor_link_error_msg'+b+'"></span>'+'<div class="upload-img-list-b">'+'<div class="upload-img-list-b-r">'+'<a href="#" class="ueditor_link_close'+b+'" title="取消" onfocus="this.blur();">取消</a>'+'<a href="#" id="ueditor_link_submit'+b+'" title="确定" class="edui-upload-button" onfocus="this.blur();">确定</a>'+"</div>"+"</div>"+"</div>"+"</div>"+"</div>"+"</div>"+"</div>";e("#"+g).before(y),e("#ueditor_link_submit"+b).bind("click",function(){return v.focus(),s(),!1}),e(".ueditor_link_close"+b).bind("click",function(){return v.focus(),r(),!1});var _='<div id="ueditor_video_popup'+b+'" class="edui-popup-all edui-popup-img" style="display:none;">'+'<div class="edui-popup-background">'+'<div class="edui-popup-all-content">'+'<div class="edui-popup-table">'+'<div class="edui-popup-top" id="ueditor_video_popup_top'+b+'">'+'<span class="edui-dialog-caption">添加视频</span>'+'<a href="#" title="关闭" onfocus="this.blur();" class="ueditor_video_close'+b+'">关闭</a>'+"</div>"+'<div class="edui-popup-table-content">'+'<input id="ueditor_video_convert_url'+b+'" + value="'+m.video.url+'" style="display:none"/>'+'<input id="ueditor_video_url'+b+'" type="text" placeholder="输入视频地址（支持优酷、土豆、酷6、新浪视频）"/>'+'<span id="ueditor_video_error_msg'+b+'"></span>'+'<div class="upload-img-list-b">'+'<div class="upload-img-list-b-r">'+'<a href="#" class="ueditor_video_close'+b+'" title="取消" onfocus="this.blur();">取消</a>'+'<a href="#" id="ueditor_video_submit'+b+'" title="确定" class="edui-upload-button" onfocus="this.blur();">确定</a>'+"</div>"+"</div>"+"</div>"+"</div>"+"</div>"+"</div>"+"</div>";e("#"+g).before(_),e("#ueditor_video_submit"+b).click(function(){return e(this).addClass("edui-upload-button-loader"),e(this).html(""),e(this).append("<span>确定</span>"),d(),!1}),e(".ueditor_video_close"+b).click(function(){return v.focus(),a(),!1});var w="";parseInt(m.image.file_upload_limit)<parseInt(m.image.total_file_upload_limit)&&(w+="每次最多传"+m.image.file_queue_limit+"张，");var C='<div id="ueditor_image_popup'+b+'" class="edui-popup-all edui-popup-img" style="display:none;">'+'<div class="edui-popup-background">'+'<div class="edui-popup-all-content">'+'<div class="edui-popup-table">'+'<div class="edui-popup-top" id="ueditor_image_popup_top'+b+'">'+'<span class="edui-dialog-caption">添加图片</span>'+'<a href="#" title="关闭" onfocus="this.blur();" class="ueditor_image_upload_close'+b+'">关闭</a>'+"</div>"+'<div class="edui-popup-table-content">'+'<div class="edui-popup-table-upload">'+'<span id="ueditor_image_upload_btn'+b+'"></span>'+"<span>单张最大"+m.image.file_size_limit+"，"+w+"总共允许上传"+m.image.total_file_upload_limit+"张。</span>"+"</div>"+'<div class="edui-upload-img-list" id="ueditor_upload_image_progress'+b+'"></div>'+'<div id="ueditor_upload_image_thumbnails'+b+'" style="display:none"></div>'+'<div class="upload-img-list-b">'+'<div class="upload-img-list-b-l">'+'<input id="ueditor_image_upload_cancel_all'+b+'" type="button" value="取消上传" onclick="cancelQueue(swfu);" disabled="disabled" style="display:none" />'+"</div>"+'<div class="upload-img-list-b-r">'+'<a href="#" class="ueditor_image_upload_close'+b+'" title="取消" onfocus="this.blur();">取消</a>'+'<a href="#" id="ueditor_image_upload_submit'+b+'" title="确定" class="edui-upload-button" onfocus="this.blur();">确定</a>'+"</div>"+"</div>"+"</div>"+"</div>"+"</div>"+"</div>"+"</div>";e("#"+g).before(C);var S,E=[];S=new SWFUpload({upload_url:m.image.url,flash_url:m.image.flash_url,button_image_url:m.image.button_image_url,button_placeholder_id:"ueditor_image_upload_btn"+b,button_width:m.image.button_width,button_height:m.image.button_height,button_action:SWFUpload.BUTTON_ACTION.SELECT_FILES,button_cursor:SWFUpload.CURSOR.HAND,file_size_limit:m.image.file_size_limit,file_types:m.image.file_types,file_types_description:m.image.file_types_description,file_upload_limit:m.image.file_upload_limit,file_queue_limit:m.image.file_queue_limit,custom_settings:{progressTarget:"ueditor_upload_image_progress"+b,cancelButtonId:"ueditor_image_upload_cancel_all"+b,thumbnailsId:"ueditor_upload_image_thumbnails"+b},upload_start_handler:function(e){try{var t=new c(e,this.customSettings.progressTarget);t.setStatus("上传中..."),t.toggleCancel(!0,this)}catch(i){}return!0},upload_progress_handler:function(e,t,i){try{var n=Math.ceil(99*(t/i)),o=new c(e,this.customSettings.progressTarget);o.setProgress(n),o.setStatus("上传中...")}catch(s){this.debug(s)}},file_queue_error_handler:function(e,t,i){try{if(t===SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED)return alert("选取文件个数超出范围.\n一次只能上传"+m.image.file_queue_limit+"张图片！"),void 0;var n=new c(e,this.customSettings.progressTarget);switch(n.setError(),n.toggleCancel(!1),t){case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:n.setErrorStatus("文件过大.");break;case SWFUpload.QUEUE_ERROR.ZERO_BYTE_FILE:n.setErrorStatus("空文件.");break;case SWFUpload.QUEUE_ERROR.INVALID_FILETYPE:n.setErrorStatus("格式错误");break;case SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED:alert("选取文件个数超出范围.\n一次只能上传"+m.image.file_upload_limit+"张图片！");break;default:null!==e&&n.setStatus("Unhandled Error"),this.debug("Error Code: "+t+", File name: "+e.name+", File size: "+e.size+", Message: "+i)}}catch(o){this.debug(o)}},file_queued_handler:function(e){E.push(e.id)},file_dialog_complete_handler:function(){try{var t=this.customSettings.thumbnailsId;this.setStats({successful_uploads:e("#"+t).find("img").size()});var i=e("#"+g+" iframe").contents().find(".upload_img").size(),n=m.image.total_file_upload_limit,o=this.getStats().successful_uploads,s=this.getStats().files_queued;if(n-i-o>=s)s>0&&(document.getElementById(this.customSettings.cancelButtonId).disabled=!1),this.startUpload(),E=[];else{var r="";n-i-o>0&&(r="还能上传"+(n-i-o)+"张图片。"),this.customSettings.queue=this.customSettings.queue||new Array;for(var a=0;a<E.length;a++)this.cancelUpload(E[a]);alert("总共只能上传"+m.image.total_file_upload_limit+"张图片！"+r)}}catch(l){this.debug(l)}},upload_error_handler:function(e,t,i){try{var n=new c(e,this.customSettings.progressTarget);switch(n.setError(),n.toggleCancel(!1),t){case SWFUpload.UPLOAD_ERROR.HTTP_ERROR:n.setErrorStatus("上传错误: "+i),this.debug("Error Code: HTTP Error, File name: "+e.name+", Message: "+i);break;case SWFUpload.UPLOAD_ERROR.MISSING_UPLOAD_URL:n.setErrorStatus("配置错误"),this.debug("Error Code: No backend file, File name: "+e.name+", Message: "+i);break;case SWFUpload.UPLOAD_ERROR.UPLOAD_FAILED:n.setErrorStatus("上传失败"),this.debug("Error Code: Upload Failed, File name: "+e.name+", File size: "+e.size+", Message: "+i);break;case SWFUpload.UPLOAD_ERROR.IO_ERROR:n.setErrorStatus("服务器错误"),this.debug("Error Code: IO Error, File name: "+e.name+", Message: "+i);break;case SWFUpload.UPLOAD_ERROR.SECURITY_ERROR:n.setErrorStatus("安全性错误"),this.debug("Error Code: Security Error, File name: "+e.name+", Message: "+i);break;case SWFUpload.UPLOAD_ERROR.UPLOAD_LIMIT_EXCEEDED:n.setErrorStatus("超出限制"),this.debug("Error Code: Upload Limit Exceeded, File name: "+e.name+", File size: "+e.size+", Message: "+i);break;case SWFUpload.UPLOAD_ERROR.SPECIFIED_FILE_ID_NOT_FOUND:n.setErrorStatus("文件不存在"),this.debug("Error Code: The file was not found, File name: "+e.name+", File size: "+e.size+", Message: "+i);break;case SWFUpload.UPLOAD_ERROR.FILE_VALIDATION_FAILED:n.setErrorStatus("文件不合法"),this.debug("Error Code: File Validation Failed, File name: "+e.name+", File size: "+e.size+", Message: "+i);break;case SWFUpload.UPLOAD_ERROR.FILE_CANCELLED:0===this.getStats().files_queued&&(document.getElementById(this.customSettings.cancelButtonId).disabled=!0),n.setErrorStatus("已取消..."),n.setCancelled();break;case SWFUpload.UPLOAD_ERROR.UPLOAD_STOPPED:n.setErrorStatus("停止...");break;default:n.setErrorStatus("发生错误: "+error_code),this.debug("Error Code: "+t+", File name: "+e.name+", File size: "+e.size+", Message: "+i)}}catch(o){this.debug(o)}},upload_success_handler:function(e,t){try{var i=new c(e,this.customSettings.progressTarget),n=jQuery.parseJSON(t);if(void 0!=n.errormsg)i.setError(),i.setErrorStatus(n.errormsg),i.toggleCancel(!1);else{var o=this.customSettings.thumbnailsId;i.setComplete(n),u(n,o),i.setStatus("上传完成"),i.toggleCancel(!1)}}catch(s){this.debug(s)}},upload_complete_handler:function(){try{if(0===this.getStats().files_queued){document.getElementById(this.customSettings.cancelButtonId).disabled=!0;var t=this;e(".edui-imgage-delete").click(function(){var i=e(this).next(),n=t.customSettings.thumbnailsId;return i.parent().prev().remove(),i.parent().remove(),e("#"+n).find("img[data-image-id="+i.attr("data-image-id")+"]").remove(),t.setStats({successful_uploads:e("#"+n).find("img").size()}),!1})}else this.startUpload()}catch(i){this.debug(i)}},debug:!1}),c.prototype.setTimer=function(e){this.fileProgressElement.FP_TIMER=e},c.prototype.getTimer=function(){return this.fileProgressElement.FP_TIMER||null},c.prototype.reset=function(){this.fileProgressElement.className="progressContainer",this.fileProgressElement.childNodes[2].innerHTML="&nbsp;",this.fileProgressElement.childNodes[2].className="progressBarStatus",this.fileProgressElement.childNodes[3].className="progressBarInProgress",this.fileProgressElement.childNodes[3].innerHTML="",this.appear()},c.prototype.setProgress=function(e){this.fileProgressElement.className="progressContainer green",this.fileProgressElement.childNodes[3].className="progressBarInProgress",this.fileProgressElement.childNodes[3].innerHTML=e+"%",this.appear()},c.prototype.setComplete=function(t){this.fileProgressElement.className="progressContainer blue",this.fileProgressElement.childNodes[3].className="progressBarComplete",this.fileProgressElement.childNodes[3].style.width="";var i=this;i.disappear();var n='<div><a href="#" class="edui-imgage-delete">取消</a><img src="'+t.small+'" data-image-original="'+t.original+'" data-image-large="'+t.large+'" data-image-id="'+t.attachment_id+'"/>';e(i.fileProgressWrapper).after(n)},c.prototype.setError=function(){this.fileProgressElement.className="progressContainer red",this.fileProgressElement.childNodes[3].className="progressBarError",this.fileProgressElement.childNodes[3].style.width="";var e=this;this.setTimer(setTimeout(function(){e.disappear()},5e3))},c.prototype.setCancelled=function(){this.fileProgressElement.className="progressContainer",this.fileProgressElement.childNodes[3].className="progressBarError",this.fileProgressElement.childNodes[3].style.width="";var e=this;this.setTimer(setTimeout(function(){e.disappear()},2e3))},c.prototype.setStatus=function(e){this.fileProgressElement.childNodes[2].innerHTML=e},c.prototype.setErrorStatus=function(e){this.fileProgressElement.childNodes[2].className="edui-upload-img-error",this.fileProgressElement.childNodes[2].innerHTML=e+"<em></em>"},c.prototype.toggleCancel=function(e,t){if(this.fileProgressElement.childNodes[0].style.visibility=e?"visible":"hidden",t){var i=this.fileProgressID;this.fileProgressElement.childNodes[0].onclick=function(){return t.cancelUpload(i),!1}}},c.prototype.appear=function(){if(null!==this.getTimer()&&(clearTimeout(this.getTimer()),this.setTimer(null)),this.fileProgressWrapper.filters)try{this.fileProgressWrapper.filters.item("DXImageTransform.Microsoft.Alpha").opacity=100}catch(e){this.fileProgressWrapper.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity=100)"}else this.fileProgressWrapper.style.opacity=1;this.fileProgressWrapper.style.height="",this.height=this.fileProgressWrapper.offsetHeight,this.opacity=100,this.fileProgressWrapper.style.display=""},c.prototype.disappear=function(){this.fileProgressWrapper.style.display="none"},e("#ueditor_image_upload_submit"+b).click(function(){return v.focus(),p(),!1}),e(".ueditor_image_upload_close"+b).click(function(){return v.focus(),h(),!1}),e("div.edui-popup-all-content").css("top",e(window).height()/2-150)}),i}})}(jQuery),!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,i,n){var o,s;this.type=t,this.$element=e(i),this.options=this.getOptions(n),this.enabled=!0,"manual"!=this.options.trigger&&(o="hover"==this.options.trigger?"mouseenter":"focus",s="hover"==this.options.trigger?"mouseleave":"blur",this.$element.on(o,this.options.selector,e.proxy(this.enter,this)),this.$element.on(s,this.options.selector,e.proxy(this.leave,this))),this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,t,this.$element.data()),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var i=e(t.currentTarget)[this.type](this._options).data(this.type);return i.options.delay&&i.options.delay.show?(clearTimeout(this.timeout),i.hoverState="in",this.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show),void 0):i.show()},leave:function(t){var i=e(t.currentTarget)[this.type](this._options).data(this.type);return i.options.delay&&i.options.delay.hide?(clearTimeout(this.timeout),i.hoverState="out",this.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide),void 0):i.hide()},show:function(){var e,t,i,n,o,s,r;if(this.hasContent()&&this.enabled){switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),s="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(s),e.remove().css({top:0,left:0,display:"block"}).appendTo(t?this.$element:document.body),i=this.getPosition(t),n=e[0].offsetWidth,o=e[0].offsetHeight,t?s.split(" ")[1]:s){case"bottom":r={top:i.top+i.height,left:i.left+i.width/2-n/2};break;case"top":r={top:i.top-o,left:i.left+i.width/2-n/2};break;case"left":r={top:i.top+i.height/2-o/2,left:i.left-n};break;case"right":r={top:i.top+i.height/2-o/2,left:i.left+i.width}}e.css(r).addClass(s).addClass("in")}},isHTML:function(e){return"string"!=typeof e||"<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3||/^(?:[^<]*<[\w\W]+>[^>]*$)/.exec(e)},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.isHTML(t)?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){i.off(e.support.transition.end).remove()},500);i.one(e.support.transition.end,function(){clearTimeout(t),i.remove()})}var i=this.tip();i.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():i.remove()},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,t=this.$element,i=this.options;return e=t.attr("data-original-title")||("function"==typeof i.title?i.title.call(t[0]):i.title)},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}},e.fn.tooltip=function(i){return this.each(function(){var n=e(this),o=n.data("tooltip"),s="object"==typeof i&&i;o||n.data("tooltip",o=new t(this,s)),"string"==typeof i&&o[i]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0}}(window.jQuery),"undefined"==typeof jwplayer&&(jwplayer=function(e){return jwplayer.api?jwplayer.api.selectPlayer(e):void 0},jwplayer.version="6.6.3896",jwplayer.vid=document.createElement("video"),jwplayer.audio=document.createElement("audio"),jwplayer.source=document.createElement("source"),function(e){function t(e){return function(){return l(e)}}function i(e){return function(){e("Error loading file")}}function n(e,t,i,n){return function(){try{var o=e.responseXML;if(o&&o.firstChild)return i(e)}catch(s){}(o=a.parseXML(e.responseText))&&o.firstChild?(e=a.extend({},e,{responseXML:o}),i(e)):n&&n(e.responseText?"Invalid XML":t)}}var o=document,s=window,r=navigator,a=e.utils=function(){};a.exists=function(e){switch(typeof e){case"string":return 0<e.length;case"object":return null!==e;case"undefined":return!1}return!0},a.styleDimension=function(e){return e+(0<e.toString().indexOf("%")?"":"px")},a.getAbsolutePath=function(e,t){if(a.exists(t)||(t=o.location.href),a.exists(e)){var i;if(a.exists(e)){i=e.indexOf("://");var n=e.indexOf("?");i=i>0&&(0>n||n>i)}else i=void 0;if(i)return e;i=t.substring(0,t.indexOf("://")+3);var s,n=t.substring(i.length,t.indexOf("/",i.length+1));0===e.indexOf("/")?s=e.split("/"):(s=t.split("?")[0],s=s.substring(i.length+n.length+1,s.lastIndexOf("/")),s=s.split("/").concat(e.split("/")));for(var r=[],l=0;l<s.length;l++)s[l]&&a.exists(s[l])&&"."!=s[l]&&(".."==s[l]?r.pop():r.push(s[l]));return i+n+"/"+r.join("/")}},a.extend=function(){var e=a.extend.arguments;if(1<e.length){for(var t=1;t<e.length;t++)a.foreach(e[t],function(t,i){try{a.exists(i)&&(e[0][t]=i)}catch(n){}});return e[0]}return null},a.log=function(e,t){"undefined"!=typeof console&&"undefined"!=typeof console.log&&(t?console.log(e,t):console.log(e))};var l=a.userAgentMatch=function(e){return null!==r.userAgent.toLowerCase().match(e)};a.isIE=t(/msie/i),a.isFF=t(/firefox/i),a.isChrome=t(/chrome/i),a.isIOS=t(/iP(hone|ad|od)/i),a.isIPod=t(/iP(hone|od)/i),a.isIPad=t(/iPad/i),a.isSafari602=t(/Macintosh.*Mac OS X 10_8.*6\.0\.\d* Safari/i),a.isSafari=function(){return l(/safari/i)&&!l(/chrome/i)&&!l(/chromium/i)&&!l(/android/i)},a.isAndroid=function(e){return e?l(RegExp("android.*"+e,"i")):l(/android/i)},a.isMobile=function(){return a.isIOS()||a.isAndroid()},a.saveCookie=function(e,t){o.cookie="jwplayer."+e+"="+t+"; path=/"},a.getCookies=function(){for(var e={},t=o.cookie.split("; "),i=0;i<t.length;i++){var n=t[i].split("=");0==n[0].indexOf("jwplayer.")&&(e[n[0].substring(9,n[0].length)]=n[1])}return e},a.typeOf=function(e){var t=typeof e;return"object"===t?e?e instanceof Array?"array":t:"null":t},a.translateEventResponse=function(t,i){var n=a.extend({},i);return t!=e.events.JWPLAYER_FULLSCREEN||n.fullscreen?"object"==typeof n.data?(n=a.extend(n,n.data),delete n.data):"object"==typeof n.metadata&&a.deepReplaceKeyName(n.metadata,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]):(n.fullscreen="true"==n.message?!0:!1,delete n.message),a.foreach(["position","duration","offset"],function(e,t){n[t]&&(n[t]=Math.round(1e3*n[t])/1e3)}),n},a.flashVersion=function(){if(a.isAndroid())return 0;var e,t=r.plugins;try{if("undefined"!==t&&(e=t["Shockwave Flash"]))return parseInt(e.description.replace(/\D+(\d+)\..*/,"$1"))}catch(i){}if("undefined"!=typeof s.ActiveXObject)try{if(e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return parseInt(e.GetVariable("$version").split(" ")[1].split(",")[0])}catch(n){}return 0},a.getScriptPath=function(e){for(var t=o.getElementsByTagName("script"),i=0;i<t.length;i++){var n=t[i].src;if(n&&0<=n.indexOf(e))return n.substr(0,n.indexOf(e))}return""},a.deepReplaceKeyName=function(t,i,n){switch(e.utils.typeOf(t)){case"array":for(var o=0;o<t.length;o++)t[o]=e.utils.deepReplaceKeyName(t[o],i,n);break;case"object":a.foreach(t,function(o,s){var r;if(i instanceof Array&&n instanceof Array){if(i.length!=n.length)return;r=i}else r=[i];for(var a=o,l=0;l<r.length;l++)a=a.replace(RegExp(i[l],"g"),n[l]);t[a]=e.utils.deepReplaceKeyName(s,i,n),o!=a&&delete t[o]})}return t};var d=a.pluginPathType={ABSOLUTE:0,RELATIVE:1,CDN:2};a.getPluginPathType=function(e){if("string"==typeof e){e=e.split("?")[0];var t=e.indexOf("://");if(t>0)return d.ABSOLUTE;var i=e.indexOf("/");return e=a.extension(e),!(0>t&&0>i)||e&&isNaN(e)?d.RELATIVE:d.CDN}},a.getPluginName=function(e){return e.replace(/^(.*\/)?([^-]*)-?.*\.(swf|js)$/,"$2")},a.getPluginVersion=function(e){return e.replace(/[^-]*-?([^\.]*).*$/,"$1")},a.isYouTube=function(e){return/^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(e)},a.youTubeID=function(e){try{return/v[=\/]([^?&]*)|youtu\.be\/([^?]*)|^([\w-]*)$/i.exec(e).slice(1).join("").replace("?","")}catch(t){return""}},a.isRtmp=function(e,t){return 0==e.indexOf("rtmp")||"rtmp"==t},a.foreach=function(e,t){var i,n;for(i in e)"function"==a.typeOf(e.hasOwnProperty)?e.hasOwnProperty(i)&&(n=e[i],t(i,n)):(n=e[i],t(i,n))},a.isHTTPS=function(){return 0==s.location.href.indexOf("https")},a.repo=function(){var t="http://p.jwpcdn.com/"+e.version.split(/\W/).splice(0,2).join("/")+"/";try{a.isHTTPS()&&(t=t.replace("http://","https://ssl."))}catch(i){}return t},a.ajax=function(e,t,o){var r;0<e.indexOf("#")&&(e=e.replace(/#.*$/,""));var l;if(l=(l=e)&&0<=l.indexOf("://")&&l.split("/")[2]!=s.location.href.split("/")[2]?!0:!1,l&&a.exists(s.XDomainRequest))r=new XDomainRequest,r.onload=n(r,e,t,o),r.onerror=i(o,e,r);else if(a.exists(s.XMLHttpRequest)){var d=r=new XMLHttpRequest,u=e;r.onreadystatechange=function(){if(4===d.readyState)switch(d.status){case 200:n(d,u,t,o)();break;case 404:o("File not found")}},r.onerror=i(o,e)}else o&&o();try{r.open("GET",e,!0),r.send(null)}catch(c){o&&o(e)}return r},a.parseXML=function(e){try{var t;if(s.DOMParser){t=(new DOMParser).parseFromString(e,"text/xml");try{if("parsererror"==t.childNodes[0].firstChild.nodeName)return}catch(i){}}else t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e);return t}catch(n){}},a.filterPlaylist=function(e,t){for(var i=[],n=0;n<e.length;n++){var o=a.extend({},e[n]);if(o.sources=a.filterSources(o.sources),0<o.sources.length){for(var s=0;s<o.sources.length;s++){var r=o.sources[s];r.label||(r.label=s.toString())}i.push(o)}}if(t&&0==i.length)for(n=0;n<e.length;n++)if(o=a.extend({},e[n]),o.sources=a.filterSources(o.sources,!0),0<o.sources.length){for(s=0;s<o.sources.length;s++)r=o.sources[s],r.label||(r.label=s.toString());i.push(o)}return i},a.filterSources=function(t,i){var n,o,s=a.extensionmap;if(t){o=[];for(var r=0;r<t.length;r++){var l=t[r].type,d=t[r].file;d&&d.trim&&(d=d.trim()),l||(l=s.extType(a.extension(d)),t[r].type=l),i?e.embed.flashCanPlay(d,l)&&(n||(n=l),l==n&&o.push(a.extend({},t[r]))):a.canPlayHTML5(l)&&(n||(n=l),l==n&&o.push(a.extend({},t[r])))}}return o},a.canPlayHTML5=function(t){return!a.isAndroid()||"hls"!=t&&"m3u"!=t&&"m3u8"!=t?(t=a.extensionmap.types[t],!!t&&!!e.vid.canPlayType&&e.vid.canPlayType(t)):!1},a.seconds=function(e){e=e.replace(",",".");var t=e.split(":"),i=0;return"s"==e.substr(-1)?i=Number(e.substr(0,e.length-1)):"m"==e.substr(-1)?i=60*Number(e.substr(0,e.length-1)):"h"==e.substr(-1)?i=3600*Number(e.substr(0,e.length-1)):1<t.length?(i=Number(t[t.length-1]),i+=60*Number(t[t.length-2]),3==t.length&&(i+=3600*Number(t[t.length-3]))):i=Number(e),i},a.serialize=function(e){return null==e?null:"true"==e.toString().toLowerCase()?!0:"false"==e.toString().toLowerCase()?!1:isNaN(Number(e))||5<e.length||0==e.length?e:Number(e)}}(jwplayer),function(e){var t="video/",i=e.foreach,n={mp4:t+"mp4",vorbis:"audio/ogg",ogg:t+"ogg",webm:t+"webm",aac:"audio/mp4",mp3:"audio/mpeg",hls:"application/vnd.apple.mpegurl"},o={mp4:n.mp4,f4v:n.mp4,m4v:n.mp4,mov:n.mp4,m4a:n.aac,f4a:n.aac,aac:n.aac,mp3:n.mp3,ogv:n.ogg,ogg:n.vorbis,oga:n.vorbis,webm:n.webm,m3u8:n.hls,hls:n.hls},t="video",t={flv:t,f4v:t,mov:t,m4a:t,m4v:t,mp4:t,aac:t,f4a:t,mp3:"sound",smil:"rtmp",m3u8:"hls",hls:"hls"},s=e.extensionmap={};i(o,function(e,t){s[e]={html5:t}}),i(t,function(e,t){s[e]||(s[e]={}),s[e].flash=t}),s.types=n,s.mimeType=function(e){var t;return i(n,function(i,n){!t&&n==e&&(t=i)}),t},s.extType=function(e){return s.mimeType(o[e])}}(jwplayer.utils),function(e){var t=e.loaderstatus={NEW:0,LOADING:1,ERROR:2,COMPLETE:3},i=document;e.scriptloader=function(n){function o(){r=t.ERROR,l.sendEvent(a.ERROR)}function s(){r=t.COMPLETE,l.sendEvent(a.COMPLETE)}var r=t.NEW,a=jwplayer.events,l=new a.eventdispatcher;e.extend(this,l),this.load=function(){var l=e.scriptloader.loaders[n];if(!l||l.getStatus()!=t.NEW&&l.getStatus()!=t.LOADING){if(e.scriptloader.loaders[n]=this,r==t.NEW){r=t.LOADING;var d=i.createElement("script");d.addEventListener?(d.onload=s,d.onerror=o):d.readyState&&(d.onreadystatechange=function(){("loaded"==d.readyState||"complete"==d.readyState)&&s()}),i.getElementsByTagName("head")[0].appendChild(d),d.src=n}}else l.addEventListener(a.ERROR,o),l.addEventListener(a.COMPLETE,s)},this.getStatus=function(){return r}},e.scriptloader.loaders={}}(jwplayer.utils),function(e){e.trim=function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},e.pad=function(e,t,i){for(i||(i="0");e.length<t;)e=i+e;return e},e.xmlAttribute=function(e,t){for(var i=0;i<e.attributes.length;i++)if(e.attributes[i].name&&e.attributes[i].name.toLowerCase()==t.toLowerCase())return e.attributes[i].value.toString();
return""},e.extension=function(e){return e&&"rtmp"!=e.substr(0,4)?(e=e.substring(e.lastIndexOf("/")+1,e.length).split("?")[0].split("#")[0],-1<e.lastIndexOf(".")?e.substr(e.lastIndexOf(".")+1,e.length).toLowerCase():void 0):""},e.stringToColor=function(e){return e=e.replace(/(#|0x)?([0-9A-F]{3,6})$/gi,"$2"),3==e.length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)}}(jwplayer.utils),function(e){var t="touchmove",i="touchstart";e.touch=function(n){function o(e){e.type==i?(l=!0,u=r(h.DRAG_START,e)):e.type==t?l&&(c||(s(h.DRAG_START,e,u),c=!0),s(h.DRAG,e)):(l&&(c?s(h.DRAG_END,e):(e.cancelBubble=!0,s(h.TAP,e))),l=c=!1,u=null)}function s(e,t,i){d[e]&&(t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault(),t=i?i:r(e,t))&&d[e](t)}function r(e,t){var i=null;if(t.touches&&t.touches.length?i=t.touches[0]:t.changedTouches&&t.changedTouches.length&&(i=t.changedTouches[0]),!i)return null;var n=a.getBoundingClientRect(),i={type:e,target:a,x:i.pageX-window.pageXOffset-n.left,y:i.pageY,deltaX:0,deltaY:0};return e!=h.TAP&&u&&(i.deltaX=i.x-u.x,i.deltaY=i.y-u.y),i}var a=n,l=!1,d={},u=null,c=!1,h=e.touchEvents;return document.addEventListener(t,o),document.addEventListener("touchend",function(e){l&&c&&s(h.DRAG_END,e),l=c=!1,u=null}),document.addEventListener("touchcancel",o),n.addEventListener(i,o),n.addEventListener("touchend",o),this.addEventListener=function(e,t){d[e]=t},this.removeEventListener=function(e){delete d[e]},this}}(jwplayer.utils),function(e){e.touchEvents={DRAG:"jwplayerDrag",DRAG_START:"jwplayerDragStart",DRAG_END:"jwplayerDragEnd",TAP:"jwplayerTap"}}(jwplayer.utils),function(e){e.key=function(t){var i,n,o;this.edition=function(){return o&&o.getTime()<(new Date).getTime()?"invalid":i},this.token=function(){return n},e.exists(t)||(t="");try{t=e.tea.decrypt(t,"36QXq4W@GSBV^teR");var s=t.split("/");(i=s[0])?/^(free|pro|premium|ads)$/i.test(i)?(n=s[1],s[2]&&0<parseInt(s[2])&&(o=new Date,o.setTime(String(s[2])))):i="invalid":i="free"}catch(r){i="invalid"}}}(jwplayer.utils),function(e){var t=e.tea={};t.encrypt=function(e,o){if(0==e.length)return"";var s=t.strToLongs(n.encode(e));1>=s.length&&(s[1]=0);for(var r,a=t.strToLongs(n.encode(o).slice(0,16)),l=s.length,d=s[l-1],u=s[0],c=Math.floor(6+52/l),h=0;0<c--;){h+=2654435769,r=3&h>>>2;for(var p=0;l>p;p++)u=s[(p+1)%l],d=(d>>>5^u<<2)+(u>>>3^d<<4)^(h^u)+(a[3&p^r]^d),d=s[p]+=d}return s=t.longsToStr(s),i.encode(s)},t.decrypt=function(e,o){if(0==e.length)return"";for(var s,r=t.strToLongs(i.decode(e)),a=t.strToLongs(n.encode(o).slice(0,16)),l=r.length,d=r[l-1],u=r[0],c=2654435769*Math.floor(6+52/l);0!=c;){s=3&c>>>2;for(var h=l-1;h>=0;h--)d=r[h>0?h-1:l-1],d=(d>>>5^u<<2)+(u>>>3^d<<4)^(c^u)+(a[3&h^s]^d),u=r[h]-=d;c-=2654435769}return r=t.longsToStr(r),r=r.replace(/\0+$/,""),n.decode(r)},t.strToLongs=function(e){for(var t=Array(Math.ceil(e.length/4)),i=0;i<t.length;i++)t[i]=e.charCodeAt(4*i)+(e.charCodeAt(4*i+1)<<8)+(e.charCodeAt(4*i+2)<<16)+(e.charCodeAt(4*i+3)<<24);return t},t.longsToStr=function(e){for(var t=Array(e.length),i=0;i<e.length;i++)t[i]=String.fromCharCode(255&e[i],255&e[i]>>>8,255&e[i]>>>16,255&e[i]>>>24);return t.join("")};var i={code:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e,t){var o,s,r,a,l,d,u=[],c="",h=i.code;if(d=("undefined"==typeof t?0:t)?n.encode(e):e,l=d.length%3,l>0)for(;3>l++;)c+="=",d+="\0";for(l=0;l<d.length;l+=3)o=d.charCodeAt(l),s=d.charCodeAt(l+1),r=d.charCodeAt(l+2),a=o<<16|s<<8|r,o=63&a>>18,s=63&a>>12,r=63&a>>6,a&=63,u[l/3]=h.charAt(o)+h.charAt(s)+h.charAt(r)+h.charAt(a);return u=u.join(""),u=u.slice(0,u.length-c.length)+c},decode:function(e,t){t="undefined"==typeof t?!1:t;var o,s,r,a,l,d,u=[],c=i.code;d=t?n.decode(e):e;for(var h=0;h<d.length;h+=4)o=c.indexOf(d.charAt(h)),s=c.indexOf(d.charAt(h+1)),a=c.indexOf(d.charAt(h+2)),l=c.indexOf(d.charAt(h+3)),r=o<<18|s<<12|a<<6|l,o=255&r>>>16,s=255&r>>>8,r&=255,u[h/4]=String.fromCharCode(o,s,r),64==l&&(u[h/4]=String.fromCharCode(o,s)),64==a&&(u[h/4]=String.fromCharCode(o));return a=u.join(""),t?n.decode(a):a}},n={encode:function(e){return e=e.replace(/[\u0080-\u07ff]/g,function(e){return e=e.charCodeAt(0),String.fromCharCode(192|e>>6,128|63&e)}),e=e.replace(/[\u0800-\uffff]/g,function(e){return e=e.charCodeAt(0),String.fromCharCode(224|e>>12,128|63&e>>6,128|63&e)})},decode:function(e){return e=e.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(e){return e=(15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2),String.fromCharCode(e)}),e=e.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(e){return e=(31&e.charCodeAt(0))<<6|63&e.charCodeAt(1),String.fromCharCode(e)})}}}(jwplayer.utils),function(e){e.events={COMPLETE:"COMPLETE",ERROR:"ERROR",API_READY:"jwplayerAPIReady",JWPLAYER_READY:"jwplayerReady",JWPLAYER_FULLSCREEN:"jwplayerFullscreen",JWPLAYER_RESIZE:"jwplayerResize",JWPLAYER_ERROR:"jwplayerError",JWPLAYER_SETUP_ERROR:"jwplayerSetupError",JWPLAYER_MEDIA_BEFOREPLAY:"jwplayerMediaBeforePlay",JWPLAYER_MEDIA_BEFORECOMPLETE:"jwplayerMediaBeforeComplete",JWPLAYER_COMPONENT_SHOW:"jwplayerComponentShow",JWPLAYER_COMPONENT_HIDE:"jwplayerComponentHide",JWPLAYER_MEDIA_BUFFER:"jwplayerMediaBuffer",JWPLAYER_MEDIA_BUFFER_FULL:"jwplayerMediaBufferFull",JWPLAYER_MEDIA_ERROR:"jwplayerMediaError",JWPLAYER_MEDIA_LOADED:"jwplayerMediaLoaded",JWPLAYER_MEDIA_COMPLETE:"jwplayerMediaComplete",JWPLAYER_MEDIA_SEEK:"jwplayerMediaSeek",JWPLAYER_MEDIA_TIME:"jwplayerMediaTime",JWPLAYER_MEDIA_VOLUME:"jwplayerMediaVolume",JWPLAYER_MEDIA_META:"jwplayerMediaMeta",JWPLAYER_MEDIA_MUTE:"jwplayerMediaMute",JWPLAYER_MEDIA_LEVELS:"jwplayerMediaLevels",JWPLAYER_MEDIA_LEVEL_CHANGED:"jwplayerMediaLevelChanged",JWPLAYER_CAPTIONS_CHANGED:"jwplayerCaptionsChanged",JWPLAYER_CAPTIONS_LIST:"jwplayerCaptionsList",JWPLAYER_PLAYER_STATE:"jwplayerPlayerState",state:{BUFFERING:"BUFFERING",IDLE:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING"},JWPLAYER_PLAYLIST_LOADED:"jwplayerPlaylistLoaded",JWPLAYER_PLAYLIST_ITEM:"jwplayerPlaylistItem",JWPLAYER_PLAYLIST_COMPLETE:"jwplayerPlaylistComplete",JWPLAYER_DISPLAY_CLICK:"jwplayerViewClick",JWPLAYER_CONTROLS:"jwplayerViewControls",JWPLAYER_USER_ACTION:"jwplayerUserAction",JWPLAYER_INSTREAM_CLICK:"jwplayerInstreamClicked",JWPLAYER_INSTREAM_DESTROYED:"jwplayerInstreamDestroyed",JWPLAYER_AD_TIME:"jwplayerAdTime",JWPLAYER_AD_ERROR:"jwplayerAdError",JWPLAYER_AD_CLICK:"jwplayerAdClicked",JWPLAYER_AD_COMPLETE:"jwplayerAdComplete",JWPLAYER_AD_IMPRESSION:"jwplayerAdImpression",JWPLAYER_AD_COMPANIONS:"jwplayerAdCompanions"}}(jwplayer),function(e){var t=jwplayer.utils;e.eventdispatcher=function(e,i){var n,o;this.resetEventListeners=function(){n={},o=[]},this.resetEventListeners(),this.addEventListener=function(e,i,o){try{t.exists(n[e])||(n[e]=[]),"string"==t.typeOf(i)&&(i=new Function("return "+i)()),n[e].push({listener:i,count:o})}catch(s){t.log("error",s)}return!1},this.removeEventListener=function(e,i){if(n[e]){try{for(var o=0;o<n[e].length;o++)if(n[e][o].listener.toString()==i.toString()){n[e].splice(o,1);break}}catch(s){t.log("error",s)}return!1}},this.addGlobalListener=function(e,i){try{"string"==t.typeOf(e)&&(e=new Function("return "+e)()),o.push({listener:e,count:i})}catch(n){t.log("error",n)}return!1},this.removeGlobalListener=function(e){if(e){try{for(var i=0;i<o.length;i++)if(o[i].listener.toString()==e.toString()){o.splice(i,1);break}}catch(n){t.log("error",n)}return!1}},this.sendEvent=function(s,r){if(t.exists(r)||(r={}),t.extend(r,{id:e,version:jwplayer.version,type:s}),i&&t.log(s,r),"undefined"!=t.typeOf(n[s]))for(var a=0;a<n[s].length;a++){try{n[s][a].listener(r)}catch(l){t.log("There was an error while handling a listener: "+l.toString(),n[s][a].listener)}n[s][a]&&(1===n[s][a].count?delete n[s][a]:0<n[s][a].count&&(n[s][a].count-=1))}for(a=0;a<o.length;a++){try{o[a].listener(r)}catch(d){t.log("There was an error while handling a listener: "+d.toString(),o[a].listener)}o[a]&&(1===o[a].count?delete o[a]:0<o[a].count&&(o[a].count-=1))}}}}(jwplayer.events),function(e){var t={},i={};e.plugins=function(){},e.plugins.loadPlugins=function(n,o){return i[n]=new e.plugins.pluginloader(new e.plugins.model(t),o),i[n]},e.plugins.registerPlugin=function(i,n,o,s){var r=e.utils.getPluginName(i);t[r]||(t[r]=new e.plugins.plugin(i)),t[r].registerPlugin(i,n,o,s)}}(jwplayer),function(e){e.plugins.model=function(t){this.addPlugin=function(i){var n=e.utils.getPluginName(i);return t[n]||(t[n]=new e.plugins.plugin(i)),t[n]},this.getPlugins=function(){return t}}}(jwplayer),function(e){var t=jwplayer.utils,i=jwplayer.events;e.pluginmodes={FLASH:0,JAVASCRIPT:1,HYBRID:2},e.plugin=function(n){function o(){switch(t.getPluginPathType(n)){case t.pluginPathType.ABSOLUTE:return n;case t.pluginPathType.RELATIVE:return t.getAbsolutePath(n,window.location.href)}}function s(){u=setTimeout(function(){c=t.loaderstatus.COMPLETE,h.sendEvent(i.COMPLETE)},1e3)}function r(){c=t.loaderstatus.ERROR,h.sendEvent(i.ERROR)}var a,l,d,u,c=t.loaderstatus.NEW,h=new i.eventdispatcher;t.extend(this,h),this.load=function(){if(c==t.loaderstatus.NEW)if(0<n.lastIndexOf(".swf"))a=n,c=t.loaderstatus.COMPLETE,h.sendEvent(i.COMPLETE);else if(t.getPluginPathType(n)==t.pluginPathType.CDN)c=t.loaderstatus.COMPLETE,h.sendEvent(i.COMPLETE);else{c=t.loaderstatus.LOADING;var e=new t.scriptloader(o());e.addEventListener(i.COMPLETE,s),e.addEventListener(i.ERROR,r),e.load()}},this.registerPlugin=function(e,n,o,s){u&&(clearTimeout(u),u=void 0),d=n,o&&s?(a=s,l=o):"string"==typeof o?a=o:"function"==typeof o?l=o:!o&&!s&&(a=e),c=t.loaderstatus.COMPLETE,h.sendEvent(i.COMPLETE)},this.getStatus=function(){return c},this.getPluginName=function(){return t.getPluginName(n)},this.getFlashPath=function(){if(a)switch(t.getPluginPathType(a)){case t.pluginPathType.ABSOLUTE:return a;case t.pluginPathType.RELATIVE:return 0<n.lastIndexOf(".swf")?t.getAbsolutePath(a,window.location.href):t.getAbsolutePath(a,o())}return null},this.getJS=function(){return l},this.getTarget=function(){return d},this.getPluginmode=function(){return"undefined"!=typeof a&&"undefined"!=typeof l?e.pluginmodes.HYBRID:"undefined"!=typeof a?e.pluginmodes.FLASH:"undefined"!=typeof l?e.pluginmodes.JAVASCRIPT:void 0},this.getNewInstance=function(e,t,i){return new l(e,t,i)},this.getURL=function(){return n}}}(jwplayer.plugins),function(e){var t=e.utils,i=e.events,n=t.foreach;e.plugins.pluginloader=function(o,s){function r(){c?p.sendEvent(i.ERROR,{message:l}):u||(u=!0,d=t.loaderstatus.COMPLETE,p.sendEvent(i.COMPLETE))}function a(){if(h||r(),!u&&!c){var i=0,n=o.getPlugins();t.foreach(h,function(o){o=t.getPluginName(o);var s=n[o];o=s.getJS();var a=s.getTarget(),s=s.getStatus();s==t.loaderstatus.LOADING||s==t.loaderstatus.NEW?i++:o&&(!a||parseFloat(a)>parseFloat(e.version))&&(c=!0,l="Incompatible player version",r())}),0==i&&r()}}var l,d=t.loaderstatus.NEW,u=!1,c=!1,h=s,p=new i.eventdispatcher;t.extend(this,p),this.setupPlugins=function(e,i,s){var r={length:0,plugins:{}},a=0,l={},d=o.getPlugins();return n(i.plugins,function(n,o){var u=t.getPluginName(n),c=d[u],h=c.getFlashPath(),p=c.getJS(),f=c.getURL();h&&(r.plugins[h]=t.extend({},o),r.plugins[h].pluginmode=c.getPluginmode(),r.length++);try{if(p&&i.plugins&&i.plugins[f]){var m=document.createElement("div");m.id=e.id+"_"+u,m.style.position="absolute",m.style.top=0,m.style.zIndex=a+10,l[u]=c.getNewInstance(e,t.extend({},i.plugins[f]),m),a++,e.onReady(s(l[u],m,!0)),e.onResize(s(l[u],m))}}catch(g){t.log("ERROR: Failed to load "+u+".")}}),e.plugins=l,r},this.load=function(){if(!t.exists(s)||"object"==t.typeOf(s)){d=t.loaderstatus.LOADING,n(s,function(e){t.exists(e)&&(e=o.addPlugin(e),e.addEventListener(i.COMPLETE,a),e.addEventListener(i.ERROR,f))});var e=o.getPlugins();n(e,function(e,t){t.load()})}a()};var f=this.pluginFailed=function(){c||(c=!0,l="File not found",r())};this.getStatus=function(){return d}}}(jwplayer),function(){jwplayer.parsers={localName:function(e){return e?e.localName?e.localName:e.baseName?e.baseName:"":""},textContent:function(e){return e?e.textContent?e.textContent:e.text?e.text:"":""},getChildNode:function(e,t){return e.childNodes[t]},numChildren:function(e){return e.childNodes?e.childNodes.length:0}}}(jwplayer),function(e){var t=e.parsers;(t.jwparser=function(){}).parseEntry=function(i,n){for(var o=[],s=[],r=e.utils.xmlAttribute,a=0;a<i.childNodes.length;a++){var l=i.childNodes[a];if("jwplayer"==l.prefix){var d=t.localName(l);"source"==d?(delete n.sources,o.push({file:r(l,"file"),"default":r(l,"default"),label:r(l,"label"),type:r(l,"type")})):"track"==d?(delete n.tracks,s.push({file:r(l,"file"),"default":r(l,"default"),kind:r(l,"kind"),label:r(l,"label")})):(n[d]=e.utils.serialize(t.textContent(l)),"file"==d&&n.sources&&delete n.sources)}n.file||(n.file=n.link)}if(o.length)for(n.sources=[],a=0;a<o.length;a++)0<o[a].file.length&&(o[a]["default"]="true"==o[a]["default"]?!0:!1,o[a].label.length||delete o[a].label,n.sources.push(o[a]));if(s.length)for(n.tracks=[],a=0;a<s.length;a++)0<s[a].file.length&&(s[a]["default"]="true"==s[a]["default"]?!0:!1,s[a].kind=s[a].kind.length?s[a].kind:"captions",s[a].label.length||delete s[a].label,n.tracks.push(s[a]));return n}}(jwplayer),function(e){var t=jwplayer.utils,i=t.xmlAttribute,n=e.localName,o=e.textContent,s=e.numChildren,r=e.mediaparser=function(){};r.parseGroup=function(e,a){var l,d,u=[];for(d=0;d<s(e);d++)if(l=e.childNodes[d],"media"==l.prefix&&n(l))switch(n(l).toLowerCase()){case"content":i(l,"duration")&&(a.duration=t.seconds(i(l,"duration"))),0<s(l)&&(a=r.parseGroup(l,a)),i(l,"url")&&(a.sources||(a.sources=[]),a.sources.push({file:i(l,"url"),type:i(l,"type"),width:i(l,"width"),label:i(l,"label")}));break;case"title":a.title=o(l);break;case"description":a.description=o(l);break;case"guid":a.mediaid=o(l);break;case"thumbnail":a.image||(a.image=i(l,"url"));break;case"group":r.parseGroup(l,a);break;case"subtitle":var c={};if(c.file=i(l,"url"),c.kind="captions",0<i(l,"lang").length){var h=c;l=i(l,"lang");var p={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish"};l=p[l]?p[l]:l,h.label=l}u.push(c)}for(a.hasOwnProperty("tracks")||(a.tracks=[]),d=0;d<u.length;d++)a.tracks.push(u[d]);return a}}(jwplayer.parsers),function(e){function t(t){for(var o={},s=0;s<t.childNodes.length;s++){var a=t.childNodes[s],l=r(a);if(l)switch(l.toLowerCase()){case"enclosure":o.file=i.xmlAttribute(a,"url");break;case"title":o.title=n(a);break;case"guid":o.mediaid=n(a);break;case"pubdate":o.date=n(a);break;case"description":o.description=n(a);break;case"link":o.link=n(a);break;case"category":o.tags=o.tags?o.tags+n(a):n(a)}}return o=e.mediaparser.parseGroup(t,o),o=e.jwparser.parseEntry(t,o),new jwplayer.playlist.item(o)}var i=jwplayer.utils,n=e.textContent,o=e.getChildNode,s=e.numChildren,r=e.localName;e.rssparser={},e.rssparser.parse=function(e){for(var i=[],n=0;n<s(e);n++){var a=o(e,n);if("channel"==r(a).toLowerCase())for(var l=0;l<s(a);l++){var d=o(a,l);"item"==r(d).toLowerCase()&&i.push(t(d))}}return i}}(jwplayer.parsers),function(e){e.playlist=function(t){var i=[];if("array"==e.utils.typeOf(t))for(var n=0;n<t.length;n++)i.push(new e.playlist.item(t[n]));else i.push(new e.playlist.item(t));return i}}(jwplayer),function(e){var t=e.item=function(i){var n=jwplayer.utils,o=n.extend({},t.defaults,i);o.tracks=i&&n.exists(i.tracks)?i.tracks:[],0==o.sources.length&&(o.sources=[new e.source(o)]);for(var s=0;s<o.sources.length;s++){var r=o.sources[s]["default"];o.sources[s]["default"]=r?"true"==r.toString():!1,o.sources[s]=new e.source(o.sources[s])}if(o.captions&&!n.exists(i.tracks)){for(i=0;i<o.captions.length;i++)o.tracks.push(o.captions[i]);delete o.captions}for(s=0;s<o.tracks.length;s++)o.tracks[s]=new e.track(o.tracks[s]);return o};t.defaults={description:"",image:"",mediaid:"",title:"",sources:[],tracks:[]}}(jwplayer.playlist),function(e){var t=jwplayer,i=t.utils,n=t.events,o=t.parsers;e.loader=function(){function t(t){try{var i=t.responseXML.childNodes;t="";for(var s=0;s<i.length&&(t=i[s],!(8!=t.nodeType));s++);if("xml"==o.localName(t)&&(t=t.nextSibling),"rss"!=o.localName(t))r("Not a valid RSS feed");else{var l=new e(o.rssparser.parse(t));a.sendEvent(n.JWPLAYER_PLAYLIST_LOADED,{playlist:l})}}catch(d){r()}}function s(e){r(e.match(/invalid/i)?"Not a valid RSS feed":"")}function r(e){a.sendEvent(n.JWPLAYER_ERROR,{message:e?e:"Error loading file"})}var a=new n.eventdispatcher;i.extend(this,a),this.load=function(e){i.ajax(e,t,s)}}}(jwplayer.playlist),function(e){var t=jwplayer.utils,i={file:void 0,label:void 0,type:void 0,"default":void 0};e.source=function(e){var n=t.extend({},i);return t.foreach(i,function(i){t.exists(e[i])&&(n[i]=e[i],delete e[i])}),n.type&&0<n.type.indexOf("/")&&(n.type=t.extensionmap.mimeType(n.type)),"m3u8"==n.type&&(n.type="hls"),"smil"==n.type&&(n.type="rtmp"),n}}(jwplayer.playlist),function(e){var t=jwplayer.utils,i={file:void 0,label:void 0,kind:"captions","default":!1};e.track=function(e){var n=t.extend({},i);return e||(e={}),t.foreach(i,function(i){t.exists(e[i])&&(n[i]=e[i],delete e[i])}),n}}(jwplayer.playlist),function(e){var t=e.utils,i=e.events,n=!0,o=!1,r=document,a=e.embed=function(l){function d(e,i){t.foreach(i,function(t,i){"function"==typeof e[t]&&e[t].call(e,i)})}function u(){if(y.sitecatalyst)try{null!=s&&s.hasOwnProperty("Media")||p()}catch(r){return p(),void 0}if("array"==t.typeOf(y.playlist)&&2>y.playlist.length&&(0==y.playlist.length||!y.playlist[0].sources||0==y.playlist[0].sources.length))h();else if(!E)if("string"==t.typeOf(y.playlist)){var f=new e.playlist.loader;f.addEventListener(i.JWPLAYER_PLAYLIST_LOADED,function(e){y.playlist=e.playlist,E=o,u()}),f.addEventListener(i.JWPLAYER_ERROR,function(e){E=o,h(e)}),E=n,f.load(y.playlist)}else if(S.getStatus()==t.loaderstatus.COMPLETE){for(f=0;f<y.modes.length;f++)if(y.modes[f].type&&a[y.modes[f].type]){var v=t.extend({},y),_=new a[y.modes[f].type](g,y.modes[f],v,S,l);if(_.supportsConfig())return _.addEventListener(i.ERROR,c),_.embed(),d(l,v.events),l}if(y.fallback){var w="No suitable players found and fallback enabled";x=setTimeout(function(){m(w,n)},10),t.log(w),new a.download(g,y,h)}else w="No suitable players found and fallback disabled",m(w,o),t.log(w),g.parentNode.replaceChild(b,g)}}function c(e){f(g,C+e.message)}function h(e){e&&e.message?f(g,"Error loading playlist: "+e.message):f(g,C+"No playable sources found")}function p(){f(g,"Adobe SiteCatalyst Error: Could not find Media Module")}function f(e,i){if(y.fallback){var s=e.style;s.backgroundColor="#000",s.color="#FFF",s.width=t.styleDimension(y.width),s.height=t.styleDimension(y.height),s.display="table",s.opacity=1;var s=document.createElement("p"),r=s.style;r.verticalAlign="middle",r.textAlign="center",r.display="table-cell",r.font="15px/20px Arial, Helvetica, sans-serif",s.innerHTML=i.replace(":",":<br>"),e.innerHTML="",e.appendChild(s),m(i,n)}else m(i,o)}function m(e,t){x&&(clearTimeout(x),x=null),l.dispatchEvent(i.JWPLAYER_SETUP_ERROR,{message:e,fallback:t})}var g,v,b,y=new a.config(l.config),_=y.width,w=y.height,C="Error loading player: ",S=e.plugins.loadPlugins(l.id,y.plugins),E=o,x=null;return y.fallbackDiv&&(b=y.fallbackDiv,delete y.fallbackDiv),y.id=l.id,v=r.getElementById(l.id),y.aspectratio?l.config.aspectratio=y.aspectratio:delete l.config.aspectratio,g=r.createElement("div"),g.id=v.id,g.style.width=0<_.toString().indexOf("%")?_:_+"px",g.style.height=0<w.toString().indexOf("%")?w:w+"px",v.parentNode.replaceChild(g,v),e.embed.errorScreen=f,S.addEventListener(i.COMPLETE,u),S.addEventListener(i.ERROR,function(e){f(g,"Could not load plugins: "+e.message)}),S.load(),l}}(jwplayer),function(e){function t(e){if(e.playlist)for(var t=0;t<e.playlist.length;t++)e.playlist[t]=new o(e.playlist[t]);else{var s={};n.foreach(o.defaults,function(t){i(e,s,t)}),s.sources||(e.levels?(s.sources=e.levels,delete e.levels):(t={},i(e,t,"file"),i(e,t,"type"),s.sources=t.file?[t]:[])),e.playlist=[new o(s)]}}function i(e,t,i){n.exists(e[i])&&(t[i]=e[i],delete e[i])}var n=e.utils,o=e.playlist.item;(e.embed.config=function(i){var o={fallback:!0,height:270,primary:"html5",width:480,base:i.base?i.base:n.getScriptPath("jwplayer.js"),aspectratio:""};i=n.extend(o,e.defaults,i);var o={type:"html5",src:i.base+"jwplayer.html5.js"},s={type:"flash",src:i.base+"jwplayer.flash.swf"};if(i.modes="flash"==i.primary?[s,o]:[o,s],i.listbar&&(i.playlistsize=i.listbar.size,i.playlistposition=i.listbar.position,i.playlistlayout=i.listbar.layout),i.flashplayer&&(s.src=i.flashplayer),i.html5player&&(o.src=i.html5player),t(i),s=i.aspectratio,"string"==typeof s&&n.exists(s)){var r=s.indexOf(":");-1==r?o=0:(o=parseFloat(s.substr(0,r)),s=parseFloat(s.substr(r+1)),o=0>=o||0>=s?0:100*(s/o)+"%")}else o=0;return-1==i.width.toString().indexOf("%")?delete i.aspectratio:o?i.aspectratio=o:delete i.aspectratio,i}).addConfig=function(e,i){return t(i),n.extend(e,i)}}(jwplayer),function(e){var t=e.utils,i=document;e.embed.download=function(e,n,o){function s(e,n){for(var o=i.querySelectorAll(e),s=0;s<o.length;s++)t.foreach(n,function(e,t){o[s].style[e]=t})}function r(e,t,n){return e=i.createElement(e),t&&(e.className="jwdownload"+t),n&&n.appendChild(e),e}var a,l=t.extend({},n),d=l.width?l.width:480,u=l.height?l.height:320;n=n.logo?n.logo:{prefix:t.repo(),file:"logo.png",margin:10};var c,h,p,f,l=l.playlist,m=["mp4","aac","mp3"];if(l&&l.length){for(f=l[0],a=f.sources,l=0;l<a.length;l++){var g=a[l],v=g.type?g.type:t.extensionmap.extType(t.extension(g.file));g.file&&t.foreach(m,function(e){v==m[e]?(c=g.file,h=f.image):t.isYouTube(g.file)&&(p=g.file)})}c?(a=c,o=h,e&&(l=r("a","display",e),r("div","icon",l),r("div","logo",l),a&&l.setAttribute("href",t.getAbsolutePath(a))),l="#"+e.id+" .jwdownload",e.style.width="",e.style.height="",s(l+"display",{width:t.styleDimension(Math.max(320,d)),height:t.styleDimension(Math.max(180,u)),background:"black center no-repeat "+(o?"url("+o+")":""),backgroundSize:"contain",position:"relative",border:"none",display:"block"}),s(l+"display div",{position:"absolute",width:"100%",height:"100%"}),s(l+"logo",{top:n.margin+"px",right:n.margin+"px",background:"top right no-repeat url("+n.prefix+n.file+")"}),s(l+"icon",{background:"center no-repeat url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgNJREFUeNrs28lqwkAYB/CZqNVDDj2r6FN41QeIy8Fe+gj6BL275Q08u9FbT8ZdwVfotSBYEPUkxFOoks4EKiJdaDuTjMn3wWBO0V/+sySR8SNSqVRKIR8qaXHkzlqS9jCfzzWcTCYp9hF5o+59sVjsiRzcegSckFzcjT+ruN80TeSlAjCAAXzdJSGPFXRpAAMYwACGZQkSdhG4WCzehMNhqV6vG6vVSrirKVEw66YoSqDb7cqlUilE8JjHd/y1MQefVzqdDmiaJpfLZWHgXMHn8F6vJ1cqlVAkEsGuAn83J4gAd2RZymQygX6/L1erVQt+9ZPWb+CDwcCC2zXGJaewl/DhcHhK3DVj+KfKZrMWvFarcYNLomAv4aPRSFZVlTlcSPA5fDweW/BoNIqFnKV53JvncjkLns/n/cLdS+92O7RYLLgsKfv9/t8XlDn4eDyiw+HA9Jyz2eyt0+kY2+3WFC5hluej0Ha7zQQq9PPwdDq1Et1sNsx/nFBgCqWJ8oAK1aUptNVqcYWewE4nahfU0YQnk4ntUEfGMIU2m01HoLaCKbTRaDgKtaVLk9tBYaBcE/6Artdr4RZ5TB6/dC+9iIe/WgAMYADDpAUJAxjAAAYwgGFZgoS/AtNNTF7Z2bL0BYPBV3Jw5xFwwWcYxgtBP5OkE8i9G7aWGOOCruvauwADALMLMEbKf4SdAAAAAElFTkSuQmCC)"})):p?(n=p,e=r("embed","",e),e.src="http://www.youtube.com/v/"+t.youTubeID(n),e.type="application/x-shockwave-flash",e.width=d,e.height=u):o()}}}(jwplayer),function(e){var t=e.utils,i=e.events,n={};(e.embed.flash=function(s,r,a,l,d){function u(e,t,i){var n=document.createElement("param");n.setAttribute("name",t),n.setAttribute("value",i),e.appendChild(n)}function c(e,t,i){return function(){try{i&&document.getElementById(d.id+"_wrapper").appendChild(t);var n=document.getElementById(d.id).getPluginConfig("display");"function"==typeof e.resize&&e.resize(n.width,n.height),t.style.left=n.x,t.style.top=n.h}catch(o){}}}function h(e){if(!e)return{};var i={},n=[];return t.foreach(e,function(e,o){var s=t.getPluginName(e);n.push(e),t.foreach(o,function(e,t){i[s+"."+e]=t})}),i.plugins=n.join(","),i}var p=new e.events.eventdispatcher,f=t.flashVersion();t.extend(this,p),this.embed=function(){if(a.id=d.id,10>f)return p.sendEvent(i.ERROR,{message:"Flash version must be 10.0 or greater"}),!1;var e,o,m=d.config.listbar,g=t.extend({},a);if(s.id+"_wrapper"==s.parentNode.id)e=document.getElementById(s.id+"_wrapper");else{if(e=document.createElement("div"),o=document.createElement("div"),o.style.display="none",o.id=s.id+"_aspect",e.id=s.id+"_wrapper",e.style.position="relative",e.style.display="block",e.style.width=t.styleDimension(g.width),e.style.height=t.styleDimension(g.height),d.config.aspectratio){var v=parseFloat(d.config.aspectratio);o.style.display="block",o.style.marginTop=d.config.aspectratio,e.style.height="auto",e.style.display="inline-block",m&&("bottom"==m.position?o.style.paddingBottom=m.size+"px":"right"==m.position&&(o.style.marginBottom=-1*m.size*(v/100)+"px"))}s.parentNode.replaceChild(e,s),e.appendChild(s),e.appendChild(o)}for(e=l.setupPlugins(d,g,c),0<e.length?t.extend(g,h(e.plugins)):delete g.plugins,"undefined"!=typeof g["dock.position"]&&"false"==g["dock.position"].toString().toLowerCase()&&(g.dock=g["dock.position"],delete g["dock.position"]),e=g.wmode?g.wmode:g.height&&40>=g.height?"transparent":"opaque",o="height width modes events primary base fallback volume".split(" "),m=0;m<o.length;m++)delete g[o[m]];o=t.getCookies(),t.foreach(o,function(e,t){"undefined"==typeof g[e]&&(g[e]=t)}),o=window.location.href.split("/"),o.splice(o.length-1,1),o=o.join("/"),g.base=o+"/",n[s.id]=g,t.isIE()?(o='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" " width="100%" height="100%"id="'+s.id+'" name="'+s.id+'" tabindex=0"">',o+='<param name="movie" value="'+r.src+'">',o+='<param name="allowfullscreen" value="true"><param name="allowscriptaccess" value="always">',o+='<param name="seamlesstabbing" value="true">',o+='<param name="wmode" value="'+e+'">',o+='<param name="bgcolor" value="#000000">',o+="</object>",s.outerHTML=o,e=document.getElementById(s.id)):(o=document.createElement("object"),o.setAttribute("type","application/x-shockwave-flash"),o.setAttribute("data",r.src),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("bgcolor","#000000"),o.setAttribute("id",s.id),o.setAttribute("name",s.id),o.setAttribute("tabindex",0),u(o,"allowfullscreen","true"),u(o,"allowscriptaccess","always"),u(o,"seamlesstabbing","true"),u(o,"wmode",e),s.parentNode.replaceChild(o,s),e=o),d.config.aspectratio&&(e.style.position="absolute"),d.container=e,d.setPlayer(e,"flash")},this.supportsConfig=function(){if(f){if(!a)return!0;if("string"==t.typeOf(a.playlist))return!0;try{var e=a.playlist[0].sources;if("undefined"==typeof e)return!0;for(var i=0;i<e.length;i++)if(e[i].file&&o(e[i].file,e[i].type))return!0}catch(n){}}return!1}}).getVars=function(e){return n[e]};var o=e.embed.flashCanPlay=function(e,i){if(t.isYouTube(e)||t.isRtmp(e,i)||"hls"==i)return!0;var n=t.extensionmap[i?i:t.extension(e)];return n?!!n.flash:!1}}(jwplayer),function(e){var t=e.utils,i=t.extensionmap,n=e.events;e.embed.html5=function(o,s,r,a,l){function d(e,t,i){return function(){try{var n=document.querySelector("#"+o.id+" .jwmain");i&&n.appendChild(t),"function"==typeof e.resize&&(e.resize(n.clientWidth,n.clientHeight),setTimeout(function(){e.resize(n.clientWidth,n.clientHeight)},400)),t.left=n.style.left,t.top=n.style.top}catch(s){}}}function u(e){c.sendEvent(e.type,{message:"HTML5 player not found"})}var c=this,h=new n.eventdispatcher;t.extend(c,h),c.embed=function(){if(e.html5){a.setupPlugins(l,r,d),o.innerHTML="";var i=e.utils.extend({},r);delete i.volume,i=new e.html5.player(i),l.container=document.getElementById(l.id),l.setPlayer(i,"html5")}else i=new t.scriptloader(s.src),i.addEventListener(n.ERROR,u),i.addEventListener(n.COMPLETE,c.embed),i.load()},c.supportsConfig=function(){if(e.vid.canPlayType)try{if("string"==t.typeOf(r.playlist))return!0;for(var n=r.playlist[0].sources,o=0;o<n.length;o++){var s,a=n[o].file,l=n[o].type;if(null!==navigator.userAgent.match(/BlackBerry/i)||t.isAndroid()&&("m3u"==t.extension(a)||"m3u8"==t.extension(a))||t.isRtmp(a,l))s=!1;else{var d,u=i[l?l:t.extension(a)];if(!u||u.flash&&!u.html5)d=!1;else{var c=u.html5,h=e.vid;if(c)try{d=h.canPlayType(c)?!0:!1}catch(p){d=!1}else d=!0}s=d}if(s)return!0}}catch(f){}return!1}}}(jwplayer),function(e){var t=e.embed,i=e.utils,n=i.extend(function(n){var o=i.repo(),s=i.extend({},e.defaults),r=i.extend({},s,n.config),a=n.config,l=r.plugins,d=r.analytics,u=o+"jwpsrv.js",c=o+"sharing.js",h=o+"related.js",p=o+"gapro.js",s=e.key?e.key:s.key,f=new e.utils.key(s).edition(),l=l?l:{};switch("ads"==f&&r.advertising&&(r.advertising.client.match(".js$|.swf$")?l[r.advertising.client]=r.advertising:l[o+r.advertising.client+".js"]=r.advertising),delete a.advertising,a.key=s,r.analytics&&r.analytics.client&&r.analytics.client.match(".js$|.swf$")&&(u=r.analytics.client),delete a.analytics,"free"!=f&&d&&!1===d.enabled||(l[u]=d?d:{}),delete l.sharing,delete l.related,f){case"premium":case"ads":r.related&&(r.related.client&&r.related.client.match(".js$|.swf$")&&(h=r.related.client),l[h]=r.related),r.ga&&(r.ga.client&&r.ga.client.match(".js$|.swf$")&&(p=r.ga.client),l[p]=r.ga),a.sitecatalyst&&new e.embed.sitecatalyst(n);case"pro":r.sharing&&(r.sharing.client&&r.sharing.client.match(".js$|.swf$")&&(c=r.sharing.client),l[c]=r.sharing),r.skin&&(a.skin=r.skin.replace(/^(beelden|bekle|five|glow|modieus|roundster|stormtrooper|vapor)$/i,i.repo()+"skins/$1.xml"))}return a.plugins=l,new t(n)},t);e.embed=n}(jwplayer),function(e){var t=jwplayer.utils;e.sitecatalyst=function(e){function i(e){h.debug&&t.log(e)}function n(e){return e=e.split("/"),e=e[e.length-1],e=e.split("?"),e[0]}function o(){if(!f){f=!0;var e=c.getPosition();i("stop: "+a+" : "+e),s.Media.stop(a,e)}}function r(){m||(o(),m=!0,i("close: "+a),s.Media.close(a),u=!0,d=0)}var a,l,d,u,c=e,h=t.extend({},c.config.sitecatalyst),p={onPlay:function(){if(!u){var e=c.getPosition();f=!1,i("play: "+a+" : "+e),s.Media.play(a,e)}},onPause:o,onBuffer:o,onIdle:r,onPlaylistItem:function(e){try{u=!0,r(),d=0;var i;if(h.mediaName)i=h.mediaName;else{var o=c.getPlaylistItem(e.index);i=o.title?o.title:o.file?n(o.file):o.sources&&o.sources.length?n(o.sources[0].file):""}a=i,l=h.playerName?h.playerName:c.id}catch(s){t.log(s)}},onTime:function(){if(u){var e=c.getDuration();if(-1==e)return;m=f=u=!1,i("open: "+a+" : "+e+" : "+l),s.Media.open(a,e,l),i("play: "+a+" : 0"),s.Media.play(a,0)}if(e=c.getPosition(),3<=Math.abs(e-d)){var t=d;i("seek: "+t+" to "+e),i("stop: "+a+" : "+t),s.Media.stop(a,t),i("play: "+a+" : "+e),s.Media.play(a,e)}d=e},onComplete:r},f=!0,m=!0;t.foreach(p,function(e){c[e](p[e])})}}(jwplayer.embed),function(e){var t=[],i=e.utils,n=e.events,o=n.state,s=document,r=e.api=function(t){function a(e,t){return function(i){return t(e,i)}}function l(e,t){return f[e]||(f[e]=[],u(n.JWPLAYER_PLAYER_STATE,function(t){var i=t.newstate;if(t=t.oldstate,i==e){var n=f[i];if(n)for(var o=0;o<n.length;o++)"function"==typeof n[o]&&n[o].call(this,{oldstate:t,newstate:i})}})),f[e].push(t),h}function d(e,t){try{e.jwAddEventListener(t,'function(dat) { jwplayer("'+h.id+'").dispatchEvent("'+t+'", dat); }')}catch(n){i.log("Could not add internal listener")}}function u(e,t){return p[e]||(p[e]=[],m&&g&&d(m,e)),p[e].push(t),h}function c(){if(g){for(var e=arguments[0],t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);if("undefined"!=typeof m&&"function"==typeof m[e])switch(t.length){case 4:return m[e](t[0],t[1],t[2],t[3]);case 3:return m[e](t[0],t[1],t[2]);case 2:return m[e](t[0],t[1]);case 1:return m[e](t[0]);default:return m[e]()}return null}v.push(arguments)}var h=this,p={},f={},m=void 0,g=!1,v=[],b=void 0,y={},_={};h.container=t,h.id=t.id,h.getBuffer=function(){return c("jwGetBuffer")},h.getContainer=function(){return h.container},h.addButton=function(e,t,n,o){try{_[o]=n,c("jwDockAddButton",e,t,"jwplayer('"+h.id+"').callback('"+o+"')",o)}catch(s){i.log("Could not add dock button"+s.message)}},h.removeButton=function(e){c("jwDockRemoveButton",e)},h.callback=function(e){_[e]&&_[e]()},h.forceState=function(e){return c("jwForceState",e),h},h.releaseState=function(){return c("jwReleaseState")},h.getDuration=function(){return c("jwGetDuration")},h.getFullscreen=function(){return c("jwGetFullscreen")},h.getHeight=function(){return c("jwGetHeight")},h.getLockState=function(){return c("jwGetLockState")},h.getMeta=function(){return h.getItemMeta()},h.getMute=function(){return c("jwGetMute")},h.getPlaylist=function(){var e=c("jwGetPlaylist");return"flash"==h.renderingMode&&i.deepReplaceKeyName(e,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]),e},h.getPlaylistItem=function(e){return i.exists(e)||(e=h.getPlaylistIndex()),h.getPlaylist()[e]},h.getPlaylistIndex=function(){return c("jwGetPlaylistIndex")},h.getPosition=function(){return c("jwGetPosition")
},h.getRenderingMode=function(){return h.renderingMode},h.getState=function(){return c("jwGetState")},h.getVolume=function(){return c("jwGetVolume")},h.getWidth=function(){return c("jwGetWidth")},h.setFullscreen=function(e){return i.exists(e)?c("jwSetFullscreen",e):c("jwSetFullscreen",!c("jwGetFullscreen")),h},h.setMute=function(e){return i.exists(e)?c("jwSetMute",e):c("jwSetMute",!c("jwGetMute")),h},h.lock=function(){return h},h.unlock=function(){return h},h.load=function(e){return c("jwLoad",e),h},h.playlistItem=function(e){return c("jwPlaylistItem",parseInt(e)),h},h.playlistPrev=function(){return c("jwPlaylistPrev"),h},h.playlistNext=function(){return c("jwPlaylistNext"),h},h.resize=function(e,t){if("flash"!=h.renderingMode){var n=document.getElementById(h.id);n.className=n.className.replace(/\s+aspectMode/,""),n.style.display="block",c("jwResize",e,t)}else{var n=s.getElementById(h.id+"_wrapper"),o=s.getElementById(h.id+"_aspect");o&&(o.style.display="none"),n&&(n.style.display="block",n.style.width=i.styleDimension(e),n.style.height=i.styleDimension(t))}return h},h.play=function(e){return"undefined"==typeof e?(e=h.getState(),e==o.PLAYING||e==o.BUFFERING?c("jwPause"):c("jwPlay")):c("jwPlay",e),h},h.pause=function(e){return"undefined"==typeof e?(e=h.getState(),e==o.PLAYING||e==o.BUFFERING?c("jwPause"):c("jwPlay")):c("jwPause",e),h},h.stop=function(){return c("jwStop"),h},h.seek=function(e){return c("jwSeek",e),h},h.setVolume=function(e){return c("jwSetVolume",e),h},h.loadInstream=function(e,t){return b=new r.instream(this,m,e,t)},h.getQualityLevels=function(){return c("jwGetQualityLevels")},h.getCurrentQuality=function(){return c("jwGetCurrentQuality")},h.setCurrentQuality=function(e){c("jwSetCurrentQuality",e)},h.getCaptionsList=function(){return c("jwGetCaptionsList")},h.getCurrentCaptions=function(){return c("jwGetCurrentCaptions")},h.setCurrentCaptions=function(e){c("jwSetCurrentCaptions",e)},h.getControls=function(){return c("jwGetControls")},h.getSafeRegion=function(){return c("jwGetSafeRegion")},h.setControls=function(e){c("jwSetControls",e)},h.destroyPlayer=function(){c("jwPlayerDestroy")},h.playAd=function(e){c("jwPlayAd",e)};var w={onBufferChange:n.JWPLAYER_MEDIA_BUFFER,onBufferFull:n.JWPLAYER_MEDIA_BUFFER_FULL,onError:n.JWPLAYER_ERROR,onSetupError:n.JWPLAYER_SETUP_ERROR,onFullscreen:n.JWPLAYER_FULLSCREEN,onMeta:n.JWPLAYER_MEDIA_META,onMute:n.JWPLAYER_MEDIA_MUTE,onPlaylist:n.JWPLAYER_PLAYLIST_LOADED,onPlaylistItem:n.JWPLAYER_PLAYLIST_ITEM,onPlaylistComplete:n.JWPLAYER_PLAYLIST_COMPLETE,onReady:n.API_READY,onResize:n.JWPLAYER_RESIZE,onComplete:n.JWPLAYER_MEDIA_COMPLETE,onSeek:n.JWPLAYER_MEDIA_SEEK,onTime:n.JWPLAYER_MEDIA_TIME,onVolume:n.JWPLAYER_MEDIA_VOLUME,onBeforePlay:n.JWPLAYER_MEDIA_BEFOREPLAY,onBeforeComplete:n.JWPLAYER_MEDIA_BEFORECOMPLETE,onDisplayClick:n.JWPLAYER_DISPLAY_CLICK,onControls:n.JWPLAYER_CONTROLS,onQualityLevels:n.JWPLAYER_MEDIA_LEVELS,onQualityChange:n.JWPLAYER_MEDIA_LEVEL_CHANGED,onCaptionsList:n.JWPLAYER_CAPTIONS_LIST,onCaptionsChange:n.JWPLAYER_CAPTIONS_CHANGED,onAdError:n.JWPLAYER_AD_ERROR,onAdClick:n.JWPLAYER_AD_CLICK,onAdImpression:n.JWPLAYER_AD_IMPRESSION,onAdTime:n.JWPLAYER_AD_TIME,onAdComplete:n.JWPLAYER_AD_COMPLETE,onAdCompanions:n.JWPLAYER_AD_COMPANIONS};i.foreach(w,function(e){h[e]=a(w[e],u)});var C={onBuffer:o.BUFFERING,onPause:o.PAUSED,onPlay:o.PLAYING,onIdle:o.IDLE};return i.foreach(C,function(e){h[e]=a(C[e],l)}),h.remove=function(){if(!g)throw"Cannot call remove() before player is ready";v=[],r.destroyPlayer(this.id)},h.setup=function(t){if(e.embed){var i=s.getElementById(h.id);return i&&(t.fallbackDiv=i),i=h,v=[],r.destroyPlayer(i.id),i=e(h.id),i.config=t,new e.embed(i)}return h},h.registerPlugin=function(t,i,n,o){e.plugins.registerPlugin(t,i,n,o)},h.setPlayer=function(e,t){m=e,h.renderingMode=t},h.detachMedia=function(){return"html5"==h.renderingMode?c("jwDetachMedia"):void 0},h.attachMedia=function(e){return"html5"==h.renderingMode?c("jwAttachMedia",e):void 0},h.dispatchEvent=function(e,t){if(p[e])for(var o=i.translateEventResponse(e,t),s=0;s<p[e].length;s++)if("function"==typeof p[e][s])try{e==n.JWPLAYER_PLAYLIST_LOADED&&i.deepReplaceKeyName(o.playlist,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]),p[e][s].call(this,o)}catch(r){i.log("There was an error calling back an event handler")}},h.dispatchInstreamEvent=function(e){b&&b.dispatchEvent(e,arguments)},h.callInternal=c,h.playerReady=function(e){for(g=!0,m||h.setPlayer(s.getElementById(e.id)),h.container=s.getElementById(h.id),i.foreach(p,function(e){d(m,e)}),u(n.JWPLAYER_PLAYLIST_ITEM,function(){y={}}),u(n.JWPLAYER_MEDIA_META,function(e){i.extend(y,e.metadata)}),h.dispatchEvent(n.API_READY);0<v.length;)c.apply(this,v.shift())},h.getItemMeta=function(){return y},h.isBeforePlay=function(){return m.jwIsBeforePlay()},h.isBeforeComplete=function(){return m.jwIsBeforeComplete()},h};r.selectPlayer=function(e){var n;return i.exists(e)||(e=0),e.nodeType?n=e:"string"==typeof e&&(n=s.getElementById(e)),n?(e=r.playerById(n.id))?e:r.addPlayer(new r(n)):"number"==typeof e?t[e]:null},r.playerById=function(e){for(var i=0;i<t.length;i++)if(t[i].id==e)return t[i];return null},r.addPlayer=function(e){for(var i=0;i<t.length;i++)if(t[i]==e)return e;return t.push(e),e},r.destroyPlayer=function(e){for(var n,o=-1,r=0;r<t.length;r++)t[r].id==e&&(o=r,n=t[r]);return o>=0&&(e=n.id,r=s.getElementById(e+("flash"==n.renderingMode?"_wrapper":"")),i.clearCss&&i.clearCss("#"+e),r&&("html5"==n.renderingMode&&n.destroyPlayer(),n=s.createElement("div"),n.id=e,r.parentNode.replaceChild(n,r)),t.splice(o,1)),null},e.playerReady=function(t){var i=e.api.playerById(t.id);i?i.playerReady(t):e.api.selectPlayer(t.id).playerReady(t)}}(jwplayer),function(e){var t=e.events,i=e.utils,n=t.state;e.api.instream=function(e,o,s,r){function a(e,t){return c[e]||(c[e]=[],u.jwInstreamAddEventListener(e,'function(dat) { jwplayer("'+d.id+'").dispatchInstreamEvent("'+e+'", dat); }')),c[e].push(t),this}function l(e,i){return h[e]||(h[e]=[],a(t.JWPLAYER_PLAYER_STATE,function(t){var i=t.newstate,n=t.oldstate;if(i==e){var o=h[i];if(o)for(var s=0;s<o.length;s++)"function"==typeof o[s]&&o[s].call(this,{oldstate:n,newstate:i,type:t.type})}})),h[e].push(i),this}var d=e,u=o,c={},h={};this.dispatchEvent=function(e,t){if(c[e])for(var n=i.translateEventResponse(e,t[1]),o=0;o<c[e].length;o++)"function"==typeof c[e][o]&&c[e][o].call(this,n)},this.onError=function(e){return a(t.JWPLAYER_ERROR,e)},this.onFullscreen=function(e){return a(t.JWPLAYER_FULLSCREEN,e)},this.onMeta=function(e){return a(t.JWPLAYER_MEDIA_META,e)},this.onMute=function(e){return a(t.JWPLAYER_MEDIA_MUTE,e)},this.onComplete=function(e){return a(t.JWPLAYER_MEDIA_COMPLETE,e)},this.onTime=function(e){return a(t.JWPLAYER_MEDIA_TIME,e)},this.onBuffer=function(e){return l(n.BUFFERING,e)},this.onPause=function(e){return l(n.PAUSED,e)},this.onPlay=function(e){return l(n.PLAYING,e)},this.onIdle=function(e){return l(n.IDLE,e)},this.onClick=function(e){return a(t.JWPLAYER_INSTREAM_CLICK,e)},this.onInstreamDestroyed=function(e){return a(t.JWPLAYER_INSTREAM_DESTROYED,e)},this.play=function(e){u.jwInstreamPlay(e)},this.pause=function(e){u.jwInstreamPause(e)},this.destroy=function(){u.jwInstreamDestroy()},this.setText=function(e){u.jwInstreamSetText(e?e:"")},d.callInternal("jwLoadInstream",s,r?r:{})}}(jwplayer),function(e){var t=e.api,i=t.selectPlayer;t.selectPlayer=function(t){return(t=i(t))?t:{registerPlugin:function(t,i,n){e.plugins.registerPlugin(t,i,n)}}}}(jwplayer)),function(){}.call(this);